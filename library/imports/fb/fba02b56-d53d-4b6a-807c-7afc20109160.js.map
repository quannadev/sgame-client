{"version":3,"sources":["assets/scripts/sieuxe/SieuXeWinGame.js"],"names":["self","Helper","require","cc","Class","VozBaseComponent","properties","lbMoneyWin","Label","lbNumberWin","ThangText","Node","ThangLonCoin","onLoad","init","obj","SXV","runWinGame","isThangLon","isNoHu","runThangLon","runNoHu","winMoney","setMoneyWin","node","active","numberTo","updateChipAll","scheduleOnce","checkRunAgainWin","autoQuay","finishSpin","isAuto","getComponent","sp","Skeleton","setAnimation","d","moveTo","v2","runAction","sequence","delayTime","callFunc"],"mappings":"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","sourceRoot":"/","sourcesContent":["let self;\nlet Helper = require(\"Helper\");\ncc.Class({\n    extends: cc.VozBaseComponent,\n\n    properties: {\n        lbMoneyWin          : cc.Label,\n        lbNumberWin         : cc.Label,\n        ThangText   : cc.Node,\n        ThangLonCoin: cc.Node,\n    },\n\n    onLoad () {\n        self = this;\n    },\n    init(obj) {\n        this.SXV = obj;\n    },\n    runWinGame() {\n        if (this.SXV.isThangLon && !this.SXV.isNoHu) {\n            this.runThangLon();\n        }else if (this.SXV.isNoHu){\n            this.runNoHu();\n        }else {\n            if (this.SXV.winMoney > 0){\n                this.SXV.setMoneyWin(this.SXV.winMoney);\n                this.lbMoneyWin.node.active = true;\n                Helper.numberTo(this.lbMoneyWin, 0, this.SXV.winMoney, 1200, true, function () {\n                    self.SXV.updateChipAll();\n                    self.scheduleOnce(function () {\n                        self.lbMoneyWin.node.active = false;\n                        self.checkRunAgainWin();\n                    }, 1);\n                });\n                this.SXV.winMoney   = 0;\n            }else{\n                this.SXV.autoQuay();\n            }\n            self.SXV.finishSpin();\n        }\n    },\n    checkRunAgainWin() {\n        if (this.SXV.winMoney > 0 || this.SXV.isNoHu || this.SXV.isThangLon || this.SXV.isAuto)\n            this.runWinGame();\n    },\n    runNoHu(){\n        this.ThangLonCoin.active = true;\n        this.ThangText.active    = true;\n        this.ThangLonCoin.getComponent(sp.Skeleton).setAnimation(0, \"NoHu\", false);\n        this.ThangText.getComponent(sp.Skeleton).setAnimation(0, \"NoHu\", false);\n        this.lbNumberWin.node.active = true;\n        Helper.numberTo(this.lbNumberWin, 0, this.SXV.winMoney, 1200, true, function () {\n            this.scheduleOnce(function () {\n                let d = cc.moveTo(0.5, cc.v2(0, 50));\n                self.lbNumberWin.node.runAction(cc.sequence(d, cc.delayTime(1), cc.callFunc(function () {\n                    self.lbNumberWin.node.active = false;\n                    self.checkRunAgainWin();\n                })));\n            }, 2.9);\n        });\n        this.scheduleOnce(function () {\n            self.ThangLonCoin.active    = false;\n            self.ThangText.active       = false;\n        }, 4);\n        this.SXV.isNoHu     = false;\n    },\n    runThangLon(){\n        this.ThangLonCoin.active = true;\n        this.ThangText.active    = true;\n        this.ThangLonCoin.getComponent(sp.Skeleton).setAnimation(0, \"Thang-Lon\", false);\n        this.ThangText.getComponent(sp.Skeleton).setAnimation(0, \"Thang-Lon\", false);\n        this.lbNumberWin.node.active = true;\n        Helper.numberTo(this.lbNumberWin, 0, this.SXV.winMoney, 1200, true, function () {\n            this.scheduleOnce(function () {\n                let d = cc.moveTo(0.5, cc.v2(0, 50));\n                self.lbNumberWin.node.runAction(cc.sequence(d, cc.delayTime(1), cc.callFunc(function () {\n                    self.lbNumberWin.node.active = false;\n                    self.checkRunAgainWin();\n                })));\n            }, 3);\n        });\n        this.scheduleOnce(function () {\n            self.ThangLonCoin.active    = false;\n            self.ThangText.active       = false;\n        }, 2.5);\n        this.SXV.isThangLon = false;\n    },\n});\n"]}