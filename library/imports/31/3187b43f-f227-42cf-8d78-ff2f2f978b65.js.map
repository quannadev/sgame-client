{"version":3,"sources":["assets\\scripts\\roulette\\UIRoulette.js"],"names":["Listview","require","cc","Class","VozBaseComponent","properties","ChatEmojiLayer","Node","lbSession","Label","lbRoom","lbTotalBet","listNodeBet","listPosBet","rouletteXoay","Timer","Ball","canXoay","boarXoay","menu","soiCau","listviewCau","_currentType","_currentBet","ChipPrefab","Prefab","PlayerPos","Noti","listCauTop","fontWin","Font","fontLose","_currentTime","_dataCau","_isDat","_lastBet","_currentPercent","_resultPos","_totalBet","_listChipBet","_listTypeBet","listDataCau","_ListRed","_isShowCau","onLoad","director","getCollisionManager","enabled","self","ListChipImg","children","listNodePot","poolChip","i","chip","instantiate","scale","node","addChild","active","push","listMyChipBet","onDisable","onEnable","hideAll","getComponent","addEventOnCollisionEnter","tag","stopAllActions","scheduleOnce","showResultWin","bind","sendRequestSoiCau","eventBet","event","data","mm","audio","playButton","SmartFoxSDK","RouletteController","m_tableInfo","isBetting","showNoti","playDatCua","sendRequestBet","updateTotalBet","Promise","all","map","nodeBet","index","getChildByName","removeFromParent","runActionChangeMoney","username","money","speed","fontTxt","pos","getPosFromName","nodeAvatar","moneyWin","getMoneyFromString","string","position","v2","font","Utils","addDotToNumber","nodeTo","runAction","sequence","moveTo","easing","easeOut","delayTime","callFunc","updateMoney","moneyString","replace","split","join","parseFloat","showResult","result","length","shift","runActionRotationBall","getNumberCardFromChip","number5m","Math","floor","number1m","number500k","number10k","number5k","number1k","addChipToPot","listTypePotBet","listMyChipPot","actionFlyChipToPot","ZoneInstance","mySelf","resumeGame","winPot","time","usersOnboard","chipUserOnBoard","winChip","getChipNode","parent","returnChipNode","chipNode","showListUsers","listUserShow","childrenCount","nodeUser","userFrame","lb_name","user","getVariable","value","_username","name","GameVariables","getDisplayName","getChip","updateChip","updateListChipBet","typePot","betChip","selectBetChip","currentTarget","parseInt","totalBet","abs","bet","type","betRequest","RouletteRequest","BetRequest","setBetChip","setTypePot","send","toSRequest","potType","hasOwnProperty","actionFlyOneChipToPot","actionFlyMutiChipToPot","runActionToGirl","cb","totalActive","count","posTo","getPositionInOtherNode","positionGirl","random","chipName","loadRes","Sprite","nodeFrom","getPosBet","x","y","width","height","listCard","allKey","Object","keys","key","actionFlyChipToPlayer","positionTo","total","allChipNode","then","betNode","card","clickExitRoom","room","getRoomByName","SmartFox","Requests","System","LeaveRoomRequest","Loading","show","UIManger","eventHelper","pop","src","eventSoiCau","showSoiCau","historyRequest","HistoryRequest","dataCau","hide","_reformatDataCau","numItems","ScrollView","scrollToRight","updateListCauTop","eventGapThep","eventDatLai","message","onListRender","item","idx","cau","init","winpot","undefined","isRun","blink","bgWin","scaleTo","pos1","pos2","pos3","moveTo2","moveTo3","actionBy","rotateBy","action1","action2","action3","jumpUp","jumpBy","repeatForever","repeat","eventOpenMenu","start","cauLength","cauNode","color","indexOf","Color","RED","BLACK","MaxRow","maxCat","ceil","j","slice","onListSelected","selectedId","lastSelectedId","val","list","listItem","_list","str","selectedMode","console","log","eventRank","request","CasinoRequest","LeaderBoardRequest","eventHistory","_turnOnTime","maxTime","setTotalProgress","setTotalRemain","turnOnTimer","_turnOffTime","turnOffTimer","eventShowChat","initController","onPublicMessage","messData","msgItem","msg","sender","emojiBox","isEmoij","emojiNode","boxNode","opacity","sp","Skeleton","setAnimation","fadeOut","Layout","updateLayout","updateUserVariable","subChip","Poker","nodePlayer","formatCurrency"],"mappings":"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","sourceRoot":"/","sourcesContent":["const Listview = require('Listview');\r\ncc.Class({\r\n    extends: cc.VozBaseComponent,\r\n\r\n    properties: {\r\n        ChatEmojiLayer: cc.Node,\r\n        lbSession   : cc.Label,\r\n        lbRoom      : cc.Label,\r\n        lbTotalBet  : cc.Label,\r\n        listNodeBet : cc.Node,\r\n        listPosBet  : cc.Node,\r\n        rouletteXoay  : cc.Node,\r\n        Timer       : cc.Node,\r\n        Ball        : cc.Node,\r\n        canXoay        : cc.Node,\r\n        boarXoay        : cc.Node,\r\n        menu        : cc.Node,\r\n        soiCau        : cc.Node,\r\n        listviewCau        : Listview,\r\n        _currentType         : -1,\r\n        _currentBet          : 1000,\r\n        ChipPrefab           : cc.Prefab,\r\n        PlayerPos            : cc.Node,\r\n        Noti                 : cc.Node,\r\n        listCauTop           : cc.Node,\r\n        fontWin              : cc.Font,\r\n        fontLose             : cc.Font,\r\n        _currentTime : 0,\r\n        _dataCau     : [],\r\n        _isDat       : false,\r\n        _lastBet     : null,\r\n        _currentPercent     : 0,\r\n        _resultPos     : 0,\r\n        _totalBet      : 0,\r\n        _listChipBet   : [],\r\n        _listTypeBet   : [],\r\n        listDataCau   : [],\r\n        _ListRed   : [],\r\n        _isShowCau   : false,\r\n    },\r\n    onLoad(){\r\n        cc.director.getCollisionManager().enabled = true;\r\n        let self = this;\r\n        this._listTypeBet     = [];\r\n        this._listChipBet     = [];\r\n        this.ListChipImg    = {\r\n            \"1000\"       : \"1k\",\r\n            \"5000\"       : \"5k\",\r\n            \"10000\"      : \"10k\",\r\n            \"500000\"     : \"500k\",\r\n            \"1000000\"    : \"1m\",\r\n            \"5000000\"    : \"5m\"\r\n        };\r\n        this._currentBet    = 1000;\r\n        this._lastBet       = this.listNodeBet.children[0];\r\n        this.listNodePot    = this.listPosBet.children;\r\n        this._isDat         = false;\r\n        this.poolChip = [];\r\n        for(let i = 0; i < 20;i++){\r\n            let chip = cc.instantiate(this.ChipPrefab);\r\n            chip.scale = 0.33;\r\n            this.node.addChild(chip);\r\n            chip.active = false;\r\n            this.poolChip.push(chip);\r\n        }\r\n        this.listMyChipBet = [];\r\n        this._ListRed   = [1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36];\r\n\r\n    },\r\n    onDisable() {\r\n        cc.director.getCollisionManager().enabled = false;\r\n    },\r\n    onEnable(){\r\n        cc.director.getCollisionManager().enabled = true;\r\n        this._dataCau            = [];\r\n        this._currentPercent     = 0;\r\n        this.hideAll();\r\n        this.Ball.getComponent(\"Ball\").addEventOnCollisionEnter(function (tag) {\r\n            if (tag == this._resultPos){\r\n                this.rouletteXoay.stopAllActions();\r\n                this.canXoay.stopAllActions();\r\n                this.Ball.stopAllActions();\r\n                this.scheduleOnce(this.showResultWin, 2);\r\n            }\r\n        }.bind(this))\r\n        this._isShowCau   = false;\r\n        this.sendRequestSoiCau();\r\n    },\r\n    eventBet(event, data){\r\n        mm.audio.playButton();\r\n        if (!SmartFoxSDK.RouletteController.m_tableInfo.isBetting){\r\n            this.showNoti(\"Không được cược!\");\r\n            return;\r\n        }\r\n        if (!this._isDat){\r\n            this._listTypeBet = [];\r\n            this._listChipBet = [];\r\n        }\r\n        this._isDat        = true;\r\n        mm.audio.playDatCua();\r\n        this.sendRequestBet(this._currentBet, data);\r\n    },\r\n    hideAll() {\r\n        this._isDat               = false;\r\n        this.Noti.active          = false;\r\n        this.Timer.active         = false;\r\n        this.rouletteXoay.stopAllActions();\r\n        this.canXoay.stopAllActions();\r\n        this.Ball.stopAllActions();\r\n        this.boarXoay.stopAllActions();\r\n        this.updateTotalBet(0);\r\n        this.rouletteXoay.active  = false;\r\n        Promise.all(this.listNodePot.map(function(nodeBet, index){\r\n            nodeBet.getChildByName(\"bg_win\").active = false;\r\n        }));\r\n        Promise.all(this.poolChip.map(function(chip, index){\r\n            if (chip.active){\r\n                chip.removeFromParent(true);\r\n                chip.active = false;\r\n            }\r\n        }));\r\n    },\r\n    runActionChangeMoney(username, money, speed) {\r\n        let fontTxt = money > 0? this.fontWin: this.fontLose;\r\n        let pos        = this.getPosFromName(username);\r\n        let nodeAvatar = this.PlayerPos.getChildByName(\"pos_\"+pos);\r\n        if (nodeAvatar){\r\n            let moneyWin   = nodeAvatar.getChildByName(\"money_win\").getComponent(cc.Label);\r\n            if (moneyWin.node.active){\r\n                money += this.getMoneyFromString(moneyWin.string);\r\n            }\r\n            if (money == 0)\r\n                return ;\r\n            moneyWin.node.active = true;\r\n            moneyWin.node.stopAllActions();\r\n            moneyWin.node.position = cc.v2(0, 20);\r\n            moneyWin.font        = fontTxt;\r\n            moneyWin.string      = money > 0? \"+\"+Utils.addDotToNumber(money): Utils.addDotToNumber(money);\r\n            let nodeTo           = cc.v2(0, 120);\r\n            if (pos > 6)\r\n                nodeTo           = cc.v2(0, 50);\r\n            moneyWin.node.runAction(cc.sequence(cc.moveTo(0.5*speed, nodeTo).easing(cc.easeOut(0.5)), cc.delayTime(1.5*speed), cc.callFunc(function () {\r\n                moneyWin.string      = 0;\r\n                moneyWin.node.active = false;\r\n            })));\r\n            this.updateMoney(money, nodeAvatar);\r\n        }\r\n    },\r\n    getMoneyFromString(moneyString) {\r\n        moneyString = moneyString.replace(\"+\", \"\");\r\n        // moneyString = moneyString.replace(\"-\", \"\");\r\n        moneyString = moneyString.split(\".\").join(\"\");\r\n       return parseFloat(moneyString)\r\n    },\r\n    showResult(result) {\r\n        if (this._dataCau.length > this.listCauTop.length){\r\n            this._dataCau.shift();\r\n        }\r\n        this._dataCau.push(result);\r\n        this.runActionRotationBall(result);\r\n    },\r\n    getNumberCardFromChip(money) {\r\n        let number5m    =  Math.floor(money/5000000);\r\n        money           = money - number5m*5000000;\r\n        let number1m    =  Math.floor(money/1000000);\r\n        money           = money - number1m*1000000;\r\n        let number500k  =  Math.floor(money/500000);\r\n        money           = money - number500k*500000;\r\n        let number10k   =  Math.floor(money/10000);\r\n        money           = money - number10k*10000;\r\n        let number5k   =  Math.floor(money/5000);\r\n        money           = money - number5k*5000;\r\n        let number1k    =  Math.floor(money/1000);\r\n        return [number1k, number5k, number10k, number500k, number1m, number5m];\r\n    },\r\n    addChipToPot(listTypePotBet, listMyChipPot) {\r\n        for (let i=0; i< listTypePotBet.length; i++){\r\n            this.actionFlyChipToPot(SmartFoxSDK.RouletteController.ZoneInstance.mySelf, listTypePotBet[i], listMyChipPot[i]);\r\n        }\r\n    },\r\n    resumeGame(winPot, time, usersOnboard, chipUserOnBoard, result, winChip) {\r\n        if (this._dataCau.length > this.listCauTop.length){\r\n            this._dataCau.shift();\r\n        }\r\n        this._dataCau.push(result);\r\n        if (time <= 10)\r\n            this.showResultWin();\r\n        else\r\n            this.showResult(result);\r\n    },\r\n    getChipNode(){\r\n        for(let i = 0; i < this.poolChip.length;i++){\r\n            if(!this.poolChip[i].active){\r\n                this.poolChip[i].active = true;\r\n                this.poolChip[i].position = cc.v2(0,0);\r\n                this.poolChip[i].parent = this.node\r\n                return this.poolChip[i];\r\n            }\r\n        }\r\n        let chip = cc.instantiate(this.ChipPrefab);\r\n        this.node.addChild(chip);\r\n        chip.scale = 0.33;\r\n        chip.active = true;\r\n        this.poolChip.push(chip);\r\n        return chip;\r\n    },\r\n    returnChipNode(chipNode){\r\n        chipNode.active = false;\r\n    },\r\n    showListUsers(listUserShow){\r\n        for(let i = 0; i < this.PlayerPos.childrenCount-1;i++){\r\n            let nodeUser    = this.PlayerPos.getChildByName(\"pos_\"+i);\r\n            let userFrame   = nodeUser.getChildByName(\"user_frame\");\r\n            let lb_name     = userFrame.getChildByName(\"name\").getComponent(cc.Label);\r\n            let user = (i >= listUserShow.length) ? null : listUserShow[i];\r\n            if(user && (user.getVariable(\"role\").value != \"admin\")){\r\n                nodeUser.active = true;\r\n                nodeUser._username = user.name;\r\n                lb_name.string = GameVariables.getDisplayName(user);\r\n                this.updateMoney(GameVariables.getChip(user), nodeUser);\r\n            }else{\r\n                nodeUser.active = false;\r\n                nodeUser._username = null;\r\n            }\r\n        }\r\n    },\r\n    getPosFromName(username){\r\n        for(let i = 0; i < this.PlayerPos.childrenCount-1;i++){\r\n            let nodeUser = this.PlayerPos.getChildByName(\"pos_\"+i);\r\n            if(nodeUser.active && nodeUser._username && nodeUser._username == username){\r\n                return i;\r\n            }\r\n        }\r\n        return this.PlayerPos.childrenCount-1 ;\r\n    },\r\n    updateChip(user){\r\n        for(let i = 0; i < this.PlayerPos.childrenCount-1;i++){\r\n            let nodeUser = this.PlayerPos.getChildByName(\"pos_\"+i);\r\n            if(nodeUser.active && nodeUser._username && nodeUser._username == user.name){\r\n                this.updateMoney(GameVariables.getChip(user), nodeUser)\r\n                return;\r\n            }\r\n        }\r\n    },\r\n    updateListChipBet(typePot, betChip) {\r\n        this._listTypeBet.push(typePot);\r\n        this._listChipBet.push(betChip);\r\n    },\r\n    selectBetChip(event, betChip){\r\n        mm.audio.playButton();\r\n        this._lastBet.getChildByName(\"bg_select\").active = false;\r\n        event.currentTarget.getChildByName(\"bg_select\").active = true;\r\n        this._lastBet    = event.currentTarget;\r\n        this._currentBet = parseInt(betChip);\r\n    },\r\n    updateTotalBet(totalBet){\r\n        this.lbTotalBet.string = Utils.addDotToNumber(Math.abs(totalBet));\r\n    },\r\n    sendRequestBet(bet, type) {\r\n        this._currentType  = type;\r\n        if(this._currentType < 0 || this._currentType > 48){\r\n            this.showNoti(\"Chọn lại giá trị cược\");\r\n        }else if(GameVariables.getChip(SmartFoxSDK.RouletteController.ZoneInstance.mySelf) < bet){\r\n            this.showNoti(\"Không đủ tiền cược!\");\r\n        }else{\r\n            let betRequest = new RouletteRequest.BetRequest();\r\n            betRequest.setBetChip(bet);\r\n            betRequest.setTypePot(this._currentType);\r\n            SmartFoxSDK.RouletteController.ZoneInstance.send(betRequest.toSRequest());\r\n        }\r\n    },\r\n    actionFlyChipToPot(username, potType, money){\r\n        if (this.ListChipImg.hasOwnProperty(money)){\r\n            this.actionFlyOneChipToPot(username, potType, money);\r\n        }else {\r\n            this.actionFlyMutiChipToPot(username, potType, money);\r\n        }\r\n    },\r\n    runActionToGirl(cb) {\r\n        let totalActive = 0;\r\n        for (let i=0; i< this.poolChip.length; i++){\r\n            if (this.poolChip[i].active)\r\n                totalActive++;\r\n        }\r\n        let count = 0;\r\n        for (let i=0; i< this.poolChip.length; i++){\r\n            let chipNode = null;\r\n            if (this.poolChip[i].active){\r\n                count ++;\r\n                chipNode = this.poolChip[i];\r\n                let posTo = this.getPositionInOtherNode(chipNode, this.node);\r\n                chipNode.parent   = this.node;\r\n                chipNode.position = posTo;\r\n                let positionGirl = cc.v2(Math.random()*50-25, Math.random()*50-25);\r\n                chipNode.runAction(cc.sequence(cc.moveTo(1, positionGirl), cc.delayTime(0.05*i), cc.callFunc(function () {\r\n                    chipNode.stopAllActions();\r\n                    chipNode.active = false;\r\n                    chipNode.removeFromParent(true);\r\n                    if (count >= totalActive){\r\n                        count = -1;\r\n                        if (cb)\r\n                            cb();\r\n                    }\r\n                })));\r\n            }\r\n        }\r\n    },\r\n    actionFlyOneChipToPot(username, potType, money){\r\n        let pos = this.getPosFromName(username);\r\n        let chipName = \"1k\";\r\n        if (this.ListChipImg.hasOwnProperty(money)){\r\n            chipName = this.ListChipImg[money];\r\n            let chipNode = this.getChipNode();\r\n            Utils.loadRes(chipNode.getComponent(cc.Sprite),\"roulette/phinh/\"+chipName);\r\n            let nodeAvatar = this.PlayerPos.getChildByName(\"pos_\"+pos);\r\n            chipNode.position = nodeAvatar.position;\r\n            let nodeFrom = this.getPosBet(potType);\r\n            let posTo = this.getPositionInOtherNode(nodeFrom, this.node);\r\n            chipNode.runAction(cc.sequence(cc.moveTo(0.5, cc.v2(posTo.x, posTo.y)).easing(cc.easeOut(1)), cc.callFunc(function () {\r\n                chipNode.position   = cc.v2(Math.random()*nodeFrom.width-nodeFrom.width/2,Math.random()*nodeFrom.height-nodeFrom.height/2);\r\n                chipNode.parent     = nodeFrom;\r\n            })));\r\n        }\r\n    },\r\n    actionFlyMutiChipToPot(username, potType, money){\r\n        let self = this;\r\n        let listCard = this.getNumberCardFromChip(money);\r\n        let allKey   = Object.keys(this.ListChipImg);\r\n        Promise.all(allKey.map(function(key, index){\r\n            if (listCard[index] > 0){\r\n                let chip = parseInt(key);\r\n                for (let i=0; i< listCard[index]; i++){\r\n                    self.actionFlyOneChipToPot(username, potType, chip);\r\n                }\r\n            }\r\n        }))\r\n    },\r\n    actionFlyChipToPlayer(username, money, speed){\r\n        let self = this;\r\n        let listCard = this.getNumberCardFromChip(money);\r\n        let allKey = Object.keys(this.ListChipImg);\r\n        let pos        = self.getPosFromName(username);\r\n        let nodeAvatar = self.PlayerPos.getChildByName(\"pos_\"+pos);\r\n        let positionTo = nodeAvatar.position;\r\n        let total = 0;\r\n        let allChipNode = [];\r\n        Promise.all(allKey.map(function(key, index){\r\n            if (listCard[index] > 0){\r\n                let chip = parseInt(key);\r\n                for (let i=0; i< listCard[index]; i++){\r\n                    let chipName = \"1k\";\r\n                    if (self.ListChipImg.hasOwnProperty(chip))\r\n                        chipName = self.ListChipImg[key]\r\n                    let chipNode = self.getChipNode();\r\n                    Utils.loadRes(chipNode.getComponent(cc.Sprite),\"roulette/phinh/\"+chipName);\r\n                    chipNode.position = cc.v2(Math.random()*50-20, Math.random()*10-10);\r\n                    allChipNode.push(chipNode);\r\n                }\r\n            }\r\n        })).then(result => {\r\n            Promise.all(allChipNode.map(function(chipNode, index){\r\n                if (chipNode != null){\r\n                    total ++;\r\n                    chipNode.runAction(cc.sequence(cc.delayTime(total*0.1*speed), cc.moveTo(1*speed, positionTo).easing(cc.easeOut(1)), cc.callFunc(function () {\r\n                        chipNode.removeFromParent(true);\r\n                        chipNode.active = false;\r\n                    })));\r\n                }\r\n            })).then(result => {\r\n                self.runActionChangeMoney(username, money, speed);\r\n            })\r\n        });\r\n    },\r\n    getPosBet(potType) {\r\n        let betNode = this.listNodePot[potType].getChildByName(\"nodeBet\");\r\n        if (betNode.childrenCount > 30){\r\n            let card = betNode.children[0];\r\n            card.removeFromParent(true);\r\n            card.active = false;\r\n        }\r\n        if (!betNode.active)\r\n            betNode.active = true;\r\n        return betNode;\r\n    },\r\n    clickExitRoom(event){\r\n        mm.audio.playButton();\r\n        let room = SmartFoxSDK.RouletteController.ZoneInstance.getRoomByName(\"roulette\");\r\n        if(room){\r\n            SmartFoxSDK.RouletteController.ZoneInstance.send(new SmartFoxSDK.SmartFox.Requests.System.LeaveRoomRequest(room));\r\n            mm.Loading.show();\r\n        }else{\r\n            UIManger.show(\"UIHome\");\r\n        }\r\n    },\r\n    eventHelper() {\r\n        mm.audio.playButton();\r\n        this.show(\"UIRouletteHelper\", {pop: true, src: 'roulette'});\r\n    },\r\n    eventSoiCau() {\r\n        mm.audio.playButton();\r\n        this._isShowCau = true;\r\n        if (this.soiCau.active)\r\n            this.soiCau.active = false;\r\n        else {\r\n            if (this._dataCau.length < 1){\r\n                mm.Loading.show();\r\n                this.sendRequestSoiCau();\r\n            }else {\r\n                this.showSoiCau(this._dataCau);\r\n            }\r\n        }\r\n    },\r\n    sendRequestSoiCau() {\r\n        let historyRequest = new RouletteRequest.HistoryRequest();\r\n        SmartFoxSDK.RouletteController.ZoneInstance.send(historyRequest.toSRequest());\r\n    },\r\n    showSoiCau(dataCau) {\r\n        mm.Loading.hide();\r\n        this._dataCau = dataCau;\r\n        if (this._isShowCau || this.soiCau.active){\r\n            this._reformatDataCau();\r\n            this.soiCau.active = true;\r\n            this.listviewCau.numItems = this.listDataCau.length;\r\n            this.listviewCau.node.getComponent(cc.ScrollView).scrollToRight(1);\r\n        }\r\n        this.updateListCauTop();\r\n        this._isShowCau = false;\r\n    },\r\n    eventGapThep(){\r\n        mm.audio.playButton();\r\n        if (this._listTypeBet.length > 0 &&  !this._isDat){\r\n            this._isDat        = true;\r\n            for (let i=0; i< this._listTypeBet.length; i++){\r\n                this.sendRequestBet(2*this._listChipBet[i], this._listTypeBet[i]);\r\n            }\r\n            this._listChipBet  = [];\r\n            this._listTypeBet  = [];\r\n        }else{\r\n            this.showNoti(\"No data!\");\r\n        }\r\n    },\r\n    eventDatLai() {\r\n        mm.audio.playButton();\r\n        if (this._listTypeBet.length > 0 &&  !this._isDat){\r\n            this._isDat        = true;\r\n            for (let i=0; i< this._listTypeBet.length; i++){\r\n                this.sendRequestBet(this._listChipBet[i], this._listTypeBet[i]);\r\n            }\r\n            this._listChipBet  = [];\r\n            this._listTypeBet  = [];\r\n        }else{\r\n            this.showNoti(\"Không có dữ liệu cược!\");\r\n        }\r\n    },\r\n    showNoti(message) {\r\n        this.Noti.active = true;\r\n        this.Noti.getChildByName(\"lb_noti_content\").getComponent(cc.Label).string = message;\r\n        this.scheduleOnce(function () {\r\n            this.Noti.active = false;\r\n        }, 1.5)\r\n    },\r\n    onListRender(item, idx) {\r\n        let cau = this.listDataCau[idx];\r\n        item.getComponent(item.name).init(cau);\r\n    },\r\n    showResultWin() {\r\n        let self = this;\r\n        this.showSoiCau(this._dataCau);\r\n        this.rouletteXoay.active = false;\r\n        let winPot          = SmartFoxSDK.RouletteController.m_tableInfo.winpot;\r\n        let usersOnboard    = SmartFoxSDK.RouletteController.m_tableInfo.usersOnboard;\r\n        let chipUserOnBoard = SmartFoxSDK.RouletteController.m_tableInfo.chipUserOnBoard;\r\n        if (winPot != undefined){\r\n            let speed  = 1;\r\n            let isRun = true;\r\n            for (let i=0; i< winPot.length; i++){\r\n                let pos = winPot[i];\r\n                let blink    = cc.blink(2*speed, 8);\r\n                let bgWin    = this.listNodePot[pos].getChildByName(\"bg_win\");\r\n                bgWin.active = true;\r\n                bgWin.runAction(cc.sequence(blink, cc.delayTime(speed), cc.callFunc(function () {\r\n                    if (isRun){\r\n                        isRun = false;\r\n                        self.runActionToGirl(function () {\r\n                            if (chipUserOnBoard.length > 0){\r\n                                Promise.all(usersOnboard.map(function(username, index){\r\n                                    self.actionFlyChipToPlayer(username, chipUserOnBoard[index], speed);\r\n                                }));\r\n                            }\r\n                        });\r\n                    }\r\n                })));\r\n            }\r\n        }\r\n    },\r\n    runActionRotationBall(pos) {\r\n        let self                 = this;\r\n        this._resultPos          = pos;\r\n        this.rouletteXoay.active = true;\r\n        this.rouletteXoay.scale  = 0;\r\n        this.boarXoay.stopAllActions();\r\n        this.canXoay.stopAllActions();\r\n        this.Ball.stopAllActions();\r\n        let scaleTo  = cc.scaleTo(0.3, 1);\r\n        this.rouletteXoay.runAction(cc.sequence(scaleTo, cc.delayTime(0.2), cc.callFunc(function () {\r\n            let pos1     = cc.v2(376, 0);\r\n            let pos2     = cc.v2(324, 0);\r\n            let pos3     = cc.v2(212, 0);\r\n            let moveTo2  = cc.moveTo(1, pos2);\r\n            let moveTo3  = cc.moveTo(1, pos3);\r\n            let actionBy = cc.rotateBy(4, 360);\r\n            let action1 = cc.rotateBy(1, -360);\r\n            let action2 = cc.rotateBy(1.5, -360);\r\n            let action3 = cc.rotateBy(2, -360);\r\n            let jumpUp  = cc.jumpBy(0.5, cc.v2(0, 0), 20, 5);\r\n            self.boarXoay.runAction(actionBy.repeatForever());\r\n            self.Ball.position = pos1;\r\n            self.canXoay.runAction(cc.sequence(action1.repeat(3), cc.callFunc(function () {\r\n                self.Ball.runAction(moveTo2);\r\n                self.canXoay.runAction(cc.sequence(action2.repeat(0.05), cc.callFunc(function () {\r\n                    self.Ball.runAction(cc.sequence(moveTo3, cc.delayTime(0.5), jumpUp));\r\n                    self.canXoay.runAction(action3.repeat(2));\r\n                })));\r\n            })));\r\n        })));\r\n    },\r\n    eventOpenMenu() {\r\n        mm.audio.playButton();\r\n        this.menu.active = !this.menu.active;\r\n    },\r\n    updateListCauTop() {\r\n        let self = this;\r\n        let start = 0;\r\n        let cauLength = this._dataCau.length;\r\n        if (this._dataCau.length <= this.listCauTop.childrenCount)\r\n            start = 0;\r\n        else\r\n            start = this._dataCau.length - this.listCauTop.childrenCount;\r\n        Promise.all(this.listCauTop.children.map(function(cauNode, index){\r\n            cauNode.active = false;\r\n            if (index < cauLength){\r\n                cauNode.active = true;\r\n\r\n                cauNode.getComponent(cc.Label).string = self._dataCau[start+index];\r\n                cauNode.color = self._ListRed.indexOf(self._dataCau[start+index]) > 0 ? cc.Color.RED : cc.Color.BLACK;\r\n            }\r\n        }));\r\n    },\r\n    _reformatDataCau() {\r\n        this.MaxRow  = 4;\r\n        this.listDataCau = [];\r\n        let maxCat = Math.ceil(this._dataCau.length / this.MaxRow);\r\n        for (let j=0; j< maxCat ; j++){\r\n            this.listDataCau.push(this._dataCau.slice(j*this.MaxRow, (j+1)*this.MaxRow));\r\n        }\r\n    },\r\n    onListSelected(item, selectedId, lastSelectedId, val) {\r\n        if (!item)\r\n            return;\r\n        let list = item.listItem._list;\r\n        let str = 'Danh sách hoạt động hiện tại là:' + list.node.name + '，Lựa chọn hiện tại là：' + selectedId + '，Lựa chọn cuối cùng là：' + lastSelectedId;\r\n        if (list.selectedMode == 2) { //Nếu nó là chế độ đa lựa chọn\r\n            str += '，Giá trị hiện tại：' + val;\r\n        }\r\n        console.log(str);\r\n    },\r\n    eventRank() {\r\n        mm.audio.playButton();\r\n        mm.Loading.show();\r\n        this.menu.active = false;\r\n        let request = new CasinoRequest.LeaderBoardRequest();\r\n        SmartFoxSDK.RouletteController.ZoneInstance.send(request.toSRequest())\r\n    },\r\n    eventHistory() {\r\n        mm.audio.playButton();\r\n        mm.Loading.show();\r\n        this.menu.active = false;\r\n        let request = new CasinoRequest.HistoryRequest();\r\n        SmartFoxSDK.RouletteController.ZoneInstance.send(request.toSRequest());\r\n    },\r\n    _turnOnTime(time, maxTime){\r\n        this.Timer.active       = true;\r\n        this.Timer.getComponent(\"TimeSubRoulette\").setTotalProgress(maxTime);\r\n        this.Timer.getComponent(\"TimeSubRoulette\").setTotalRemain(time);\r\n        this.Timer.getComponent(\"TimeSubRoulette\").turnOnTimer();\r\n        this._currentTime       = time;\r\n    },\r\n    _turnOffTime(){\r\n        this.Timer.getComponent(\"TimeSubRoulette\").turnOffTimer();\r\n        this.Timer.active = false;\r\n    },\r\n    eventShowChat(event, data) {\r\n        mm.audio.playButton();\r\n        this.ChatEmojiLayer.active = !this.ChatEmojiLayer.active;\r\n        if (this.ChatEmojiLayer.active)\r\n            this.ChatEmojiLayer.getComponent(\"ChatEmojiLayer\").initController(SmartFoxSDK.RouletteController.ZoneInstance);\r\n    },\r\n    onPublicMessage(messData){\r\n        let msgItem    = messData.msg;\r\n        let pos        = this.getPosFromName(messData.sender.name);\r\n        let emojiBox   = this.PlayerPos.children[pos].getChildByName(\"EMOJ\");\r\n        if (emojiBox != undefined){\r\n            let self    = this;\r\n            let isEmoij = msgItem.indexOf(\"emoij_\") >= 0;\r\n            let emojiNode = emojiBox.getChildByName(\"EMOJ\");\r\n            let boxNode   = emojiBox.getChildByName(\"box\");\r\n            emojiNode.active = false;\r\n            boxNode.active   = false;\r\n            if (isEmoij){\r\n                emojiNode.active   = true;\r\n                emojiNode.opacity  = 255;\r\n                let type = msgItem.replace(\"emoij_\", \"\");\r\n                emojiNode.stopAllActions();\r\n                emojiNode.getComponent(sp.Skeleton).setAnimation(0, type, false);\r\n                emojiNode.runAction(cc.sequence(cc.delayTime(1.5), cc.fadeOut(2), cc.callFunc(function () {\r\n                    emojiNode.active = false;\r\n                })));\r\n            }else {\r\n                boxNode.active   = true;\r\n                boxNode.opacity  = 255;\r\n                boxNode.stopAllActions();\r\n                boxNode.getChildByName(\"lb_chat\").getComponent(cc.Label).string = msgItem;\r\n                boxNode.getComponent(cc.Layout).updateLayout();\r\n                boxNode.runAction(cc.sequence(cc.delayTime(2), cc.fadeOut(2), cc.callFunc(function () {\r\n                    boxNode.active = false;\r\n                })));\r\n            }\r\n        }\r\n    },\r\n    updateUserVariable(subChip){\r\n        this.updateMoney(GameVariables.Poker.getChip(SmartFoxSDK.RouletteController.ZoneInstance.mySelf)-subChip, this.PlayerPos.children[0]);\r\n    },\r\n    updateMoney(money, nodePlayer) {\r\n        nodePlayer.getChildByName(\"user_frame\").getChildByName(\"money\").getComponent(cc.Label).string =  Utils.formatCurrency(money);\r\n    }\r\n});\r\n"]}