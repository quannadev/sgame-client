{"version":3,"sources":["assets/scripts/rongho/RongHoEvent.js"],"names":["RongHoEvent","RESPONSE_NAME","LOAD_GAME_RES","BET_RES","END_BETTING","LoadGameEvent","CasinoEvent","_BaseEvent","extend","ctor","_super","fromEvent","event","isBetting","getBool","time","getInt","listChipPot","getDoubleArray","listMyChipPot","result","getByteArray","winpot","BetEvent","userName","getUtfString","betChip","getDouble","typePot","getByte","EndBetting","winChip","HistoryEvent","HISTORY_RES","items","ITEM_NAME","data","getSArray","i","size","sItem","get","getObject","session","toFixed","betValues","hoan_tra","dices","getIntArray","prizeValues","j","length","item","ketqua","stakes","win","cuadat","push","LeaderBoardEvent","LEADER_BOARD_RES","account","window","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["let RongHoEvent = {};\nRongHoEvent.RESPONSE_NAME = {\n    LOAD_GAME_RES: \"rh1\",\n    BET_RES: \"rh2\",\n    END_BETTING: \"rh3\"\n};\nRongHoEvent.LoadGameEvent = CasinoEvent._BaseEvent.extend({\n    ctor(){\n        this._super(RongHoEvent.RESPONSE_NAME.LOAD_GAME_RES);\n    },\n    fromEvent(event){\n        this.isBetting      = event.getBool(\"b\");\n        this.time           = event.getInt(\"t\");\n        this.listChipPot    = event.getDoubleArray(\"lcp\");\n        this.listMyChipPot  = event.getDoubleArray(\"lmcp\");\n        if(!this.isBetting){\n            this.result = event.getByteArray(\"rs\");\n            this.winpot = event.getByteArray(\"wp\");\n        }\n        return this;\n    }\n})\nRongHoEvent.BetEvent = CasinoEvent._BaseEvent.extend({\n    ctor(){\n        this._super(RongHoEvent.RESPONSE_NAME.BET_RES);\n    },\n    fromEvent(event){\n        this.userName = event.getUtfString(\"un\");\n        this.betChip = event.getDouble(\"c\");\n        this.typePot = event.getByte(\"t\");\n        return this;\n    }\n});\nRongHoEvent.EndBetting = CasinoEvent._BaseEvent.extend({\n    ctor(){\n        this._super(RongHoEvent.RESPONSE_NAME.END_BETTING);\n    },\n    fromEvent(event){\n        this.result = event.getByteArray(\"rs\");\n        this.winChip = event.getDouble(\"wc\");\n        this.winpot = event.getByteArray(\"wp\");\n        return this;\n    }\n});\nRongHoEvent.HistoryEvent = CasinoEvent._BaseEvent.extend({\n    ctor() {\n        this._super(CasinoEvent.RESPONSE_NAME.HISTORY_RES);\n        this.items = [];\n        this.ITEM_NAME = [\"Rồng\", \"Hòa\", \"Hổ\", \"3 Trắng\", \"4 Đen\", \"4 Trắng\"];\n    },\n    fromEvent(event){\n        let data = event.getSArray(\"d\");\n        for(let i = 0; i < data.size(); i++){\n            let sItem = data.get(i).getObject();\n            let session = \"#\"+sItem.getDouble(\"id\").toFixed(0);\n            let time = sItem.getUtfString(\"t\");\n            let betValues = sItem.getDoubleArray(\"b\");\n            let hoan_tra  = 0;\n            let dices = sItem.getIntArray(\"di\");\n            let result = sItem.getIntArray(\"rs\");\n            let prizeValues = sItem.getDoubleArray(\"w\");\n            for(let j = 0; j < betValues.length-1;j++){\n                if(betValues[j] >= 0){\n                    let item = {};\n                    item.session = session;\n                    item.time = time;\n                    item.dices = dices;\n                    item.ketqua = result;\n                    item.stakes = betValues[j];\n                    item.win = prizeValues[j];\n                    item.cuadat = this.ITEM_NAME[j]\n                    item.hoan_tra = 0;\n                    if(betValues[1] - betValues[0] > 0){\n                        if(j == 1)\n                            item.hoan_tra = hoan_tra;\n                    }else{\n                        if(j == 0)\n                            item.hoan_tra = hoan_tra;\n                    }\n                    this.items.push(item);\n                }\n            }\n        }\n        return this;\n    }\n});\nRongHoEvent.LeaderBoardEvent = CasinoEvent._BaseEvent.extend({\n    ctor() {\n        this._super(CasinoEvent.RESPONSE_NAME.LEADER_BOARD_RES);\n        this.items = [];\n    },\n    fromEvent(event){\n        let data = event.getSArray(\"d\");\n        for(let i = 0;i < data.size();i++){\n            let sItem = data.get(i).getObject();\n            let item = {};\n            item.session = i;\n            item.account = sItem.getUtfString(\"dn\");\n            item.win = sItem.getDouble(\"m\");\n            item.time = sItem.getUtfString(\"t\");\n            this.items.push(item);\n        }\n        return this;\n    }\n});\nwindow.RongHoEvent = module.exports = RongHoEvent;\n"]}