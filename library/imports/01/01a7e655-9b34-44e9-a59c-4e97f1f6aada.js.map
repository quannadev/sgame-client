{"version":3,"sources":["assets/scripts/sieuxe/SieuXeLine.js"],"names":["helper","require","cc","Class","Component","properties","nodeLine","Node","typeLine","init","obj","lines","SXV","eventSelectAll","eventOpen","node","active","eventClose","total","getTotalLineSelect","addNotice","eventSelect","event","numberStr","numberLine","parseInt","setMaterialGray","target","getComponent","Sprite","isMaterialGray","data","updateString","eventBoChon","Promise","all","children","map","line","index","eventSelectChan","then","result","eventSelectLe","e","select","setNumberLines","setNumberStake","i","length"],"mappings":"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","sourceRoot":"/","sourcesContent":["\nvar helper = require('Helper');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        nodeLine:   cc.Node,\n        typeLine: 0\n    },\n    init: function(obj){\n        this.lines = {\n            '1':  [0,0,0],\n            '2':  [0,0,1],\n            '3':  [0,0,2],\n            '4':  [0,1,0],\n            '5':  [0,1,1],\n            '6':  [0,1,2],\n            '7':  [0,2,0],\n            '8':  [0,2,1],\n            '9':  [0,2,2],\n            '10':  [1,0,0],\n            '11':  [1,0,1],\n            '12':  [1,0,2],\n            '13':  [1,1,0],\n            '14':  [1,1,1],\n            '15':  [1,1,2],\n            '16':  [1,2,0],\n            '17':  [1,2,1],\n            '18':  [1,2,2],\n            '19':  [2,0,0],\n            '20':  [2,0,1],\n            '21':  [2,0,2],\n            '22':  [2,1,0],\n            '23':  [2,1,1],\n            '24':  [2,1,2],\n            '25':  [2,2,0],\n            '26':  [2,2,1],\n            '27':  [2,2,2],\n        };\n        this.SXV = obj;\n        this.eventSelectAll();\n    },\n    eventOpen: function(){\n        this.node.active = true;\n    },\n    eventClose: function(){\n        let total = this.getTotalLineSelect();\n        if (this.node.active && total < 1) {\n            this.SXV.addNotice('Chọn ít nhất 1 dòng');\n        }else{\n            this.node.active = false;\n        }\n    },\n    eventSelect: function(event, numberStr) {\n        let numberLine = parseInt(numberStr);\n        helper.setMaterialGray(event.target.getComponent(cc.Sprite), helper.isMaterialGray(event.target.getComponent(cc.Sprite)));\n        this.data[numberLine] = helper.isMaterialGray(event.target.getComponent(cc.Sprite));\n        this.updateString();\n        this.typeLine = 3;\n    },\n    eventBoChon: function(){\n        Promise.all(this.nodeLine.children.map(function(line, index){\n            helper.setMaterialGray(line.getComponent(cc.Sprite), true);\n            return false;\n        }));\n        this.typeLine = -1;\n        this.updateString();\n    },\n    eventSelectChan: function() {\n        Promise.all(this.nodeLine.children.map(function(line, index){\n            helper.setMaterialGray(line.getComponent(cc.Sprite), index%2 ==1);\n            return index%2 !=1;\n        }))\n            .then(result => {\n                this.data = result;\n                this.updateString();\n            });\n        this.typeLine = 2;\n    },\n    eventSelectLe: function() {\n        Promise.all(this.nodeLine.children.map(function(line, index){\n            helper.setMaterialGray(line.getComponent(cc.Sprite), index%2 ==0);\n            return index%2 != 0;\n        }))\n            .then(result => {\n                this.data = result;\n                this.updateString();\n            });\n        this.typeLine = 1;\n    },\n    eventSelectAll: function(e, select) {\n        Promise.all(this.nodeLine.children.map(function(line, index){\n            helper.setMaterialGray(line.getComponent(cc.Sprite), false);\n            return true;\n        }))\n            .then(result => {\n                this.data = result;\n                this.updateString();\n            });\n        this.typeLine = 0;\n    },\n    updateString: function () {\n        let total = this.getTotalLineSelect();\n        this.SXV.setNumberLines(total);\n        this.SXV.setNumberStake(total);\n    },\n    getTotalLineSelect: function () {\n        let total = 0;\n        for (let i=1; i< this.data.length; i++){\n            if (this.data[i])\n                total++;\n        }\n        return total;\n    }\n});\n"]}