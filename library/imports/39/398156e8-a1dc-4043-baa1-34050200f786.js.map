{"version":3,"sources":["assets/scripts/xocdia/XocDiaEvent.js"],"names":["XocDiaEvent","RESPONSE_NAME","LOAD_GAME_RES","BET_RES","END_BETTING","HISTORY_RESULT","LoadGameEvent","CasinoEvent","_BaseEvent","extend","ctor","_super","fromEvent","event","isBetting","getBool","time","getInt","listChipPot","getDoubleArray","listMyChipPot","result","getByteArray","winpot","BetEvent","userName","getUtfString","betChip","getDouble","typePot","getByte","EndBetting","winChip","refund","HistoryResponse","HistoryEvent","HISTORY_RES","items","ITEM_NAME","data","getSArray","i","size","sItem","get","getObject","session","toFixed","hoan_tra","ketqua","getKeQua","getIntArray","betValues","prizeValues","j","length","item","stakes","win","cuadat","push","kq","countWhite","countBlack","LeaderBoardEvent","LEADER_BOARD_RES","account","window","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["let XocDiaEvent = {};\nXocDiaEvent.RESPONSE_NAME = {\n    LOAD_GAME_RES: \"xd1\",\n    BET_RES: \"xd2\",\n    END_BETTING: \"xd3\",\n    HISTORY_RESULT: \"xd4\"\n};\nXocDiaEvent.LoadGameEvent = CasinoEvent._BaseEvent.extend({\n    ctor(){\n        this._super(XocDiaEvent.RESPONSE_NAME.LOAD_GAME_RES);\n    },\n    fromEvent(event){\n        this.isBetting = event.getBool(\"b\");\n        this.time = event.getInt(\"t\");\n        this.listChipPot = event.getDoubleArray(\"lcp\");\n        this.listMyChipPot = event.getDoubleArray(\"lmcp\");\n        if(!this.isBetting){\n            this.result = event.getByteArray(\"rs\");\n            this.winpot = event.getByteArray(\"wp\");\n        }\n        return this;\n    }\n})\nXocDiaEvent.BetEvent = CasinoEvent._BaseEvent.extend({\n    ctor(){\n        this._super(XocDiaEvent.RESPONSE_NAME.BET_RES);\n    },\n    fromEvent(event){\n        this.userName = event.getUtfString(\"un\");\n        this.betChip = event.getDouble(\"c\");\n        this.typePot = event.getByte(\"t\");\n        return this;\n    }\n});\nXocDiaEvent.EndBetting = CasinoEvent._BaseEvent.extend({\n    ctor(){\n        this._super(XocDiaEvent.RESPONSE_NAME.END_BETTING);\n    },\n    fromEvent(event){\n        this.result = event.getByteArray(\"rs\");\n        this.winChip = event.getDouble(\"wc\");\n        this.winpot = event.getByteArray(\"wp\");\n        this.refund = event.getDouble(\"rfc\");\n        return this;\n    }\n});\nXocDiaEvent.HistoryResponse = CasinoEvent._BaseEvent.extend({\n    ctor(){\n        this._super(XocDiaEvent.RESPONSE_NAME.HISTORY_RESULT);\n    },\n    fromEvent(event){\n        this.result = event.getByteArray(\"lr\");\n        return this;\n    }\n});\nXocDiaEvent.HistoryEvent = CasinoEvent._BaseEvent.extend({\n    ctor() {\n        this._super(CasinoEvent.RESPONSE_NAME.HISTORY_RES);\n        this.items = [];\n        this.ITEM_NAME = [\"Lẻ\", \"Chẵn\", \"3 Đen\", \"3 Trắng\", \"4 Đen\", \"4 Trắng\"];\n    },\n    fromEvent(event){\n        let data = event.getSArray(\"d\");\n        for(let i = 0; i < data.size(); i++){\n            let sItem = data.get(i).getObject();\n            let session = \"#\"+sItem.getDouble(\"id\").toFixed(0);\n            let time = sItem.getUtfString(\"t\");\n            let hoan_tra = sItem.getDouble(\"rf\");\n            let ketqua = this.getKeQua(sItem.getIntArray(\"rs\"));\n            let betValues = sItem.getDoubleArray(\"b\");\n            let prizeValues = sItem.getDoubleArray(\"w\");\n            for(let j = 0; j < betValues.length;j++){\n                if(betValues[j] > 0){\n                    let item = {};\n                    item.session = session;\n                    item.time = time;\n                    item.ketqua = ketqua;\n                    item.stakes = betValues[j];\n                    item.win = prizeValues[j];\n                    item.cuadat = this.ITEM_NAME[j]\n                    item.hoan_tra = 0;\n                    if(betValues[1] - betValues[0] > 0){\n                        // hoan tra cua chan\n                        if(j == 1)\n                            item.hoan_tra = hoan_tra;\n                    }else{\n                        if(j == 0)\n                            item.hoan_tra = hoan_tra;\n                    }\n                    this.items.push(item);\n                }\n            }\n        }\n        return this;\n    },\n    getKeQua(result){\n        let kq = \"\";\n        let countWhite = 0; // black = 0\n        let countBlack = 0; // white = 1;\n        for(let i = 0; i < result.length;i++){\n            if(result[i] == 0)\n                countBlack++;\n            else\n                countWhite++;\n        }\n        if(countWhite % 2 == 0){\n            kq = \"Chẵn \"\n        }else{\n            kq = \"Lẻ \";\n        }\n        if(countWhite == 3){\n            kq += \"3 Trắng\";\n        }\n        if (countWhite == 4){\n            kq += \"4 Trắng\"\n        }\n        if(countWhite == 0){\n            kq += \"4 Đen\";\n        }\n        if(countWhite == 1){\n            kq += \"3 Đen\";\n        }\n        return kq;\n    }\n});\nXocDiaEvent.LeaderBoardEvent = CasinoEvent._BaseEvent.extend({\n    ctor() {\n        this._super(CasinoEvent.RESPONSE_NAME.LEADER_BOARD_RES);\n        this.items = [];\n    },\n    fromEvent(event){\n        let data = event.getSArray(\"d\");\n        for(let i = 0;i < data.size();i++){\n            let sItem = data.get(i).getObject();\n            let item = {};\n            item.session = i;\n            item.account = sItem.getUtfString(\"dn\");\n            item.win = sItem.getDouble(\"m\");\n            item.time = sItem.getUtfString(\"t\");\n            this.items.push(item);\n        }\n        return this;\n    }\n});\nwindow.XocDiaEvent = module.exports = XocDiaEvent;\n"]}