{"version":3,"sources":["assets\\scripts\\xocdia\\UIXocDiaSoiCau.js"],"names":["Listview","require","cc","Class","VozBaseComponent","properties","listview","MaxRow","eventClose","mm","audio","playButton","back","onEnable","Loading","hide","_reformatDataCau","numItems","listCau","length","node","getComponent","ScrollView","scrollToRight","cauCol","isChan","_data","push","i","maxCat","Math","ceil","j","slice","onListRender","item","idx","cau","name","init","onListSelected","selectedId","lastSelectedId","val","list","listItem","_list","str","selectedMode","console","log"],"mappings":"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","sourceRoot":"/","sourcesContent":["const Listview = require('Listview');\r\ncc.Class({\r\n    extends: cc.VozBaseComponent,\r\n\r\n    properties: {\r\n        listview    : Listview,\r\n        MaxRow      : 5,\r\n    },\r\n    eventClose() {\r\n        mm.audio.playButton();\r\n        this.back();\r\n    },\r\n    onEnable() {\r\n        mm.Loading.hide();\r\n        this._reformatDataCau();\r\n        this.listview.numItems = this.listCau.length;\r\n        this.listview.node.getComponent(cc.ScrollView).scrollToRight(1);\r\n\r\n    },\r\n    _reformatDataCau() {\r\n        this.listCau = [];\r\n        let cauCol = [];\r\n        let isChan = true;\r\n        isChan = this._data[0] %2 ==0;\r\n        cauCol.push(this._data[0]);\r\n        for (let i=1; i< this._data.length; i++){\r\n            if (isChan){\r\n                isChan = this._data[i] %2 ==0;\r\n                if (isChan){\r\n                    cauCol.push(this._data[i]);\r\n                }else {\r\n                    if (cauCol.length <= this.MaxRow){\r\n                        this.listCau.push(cauCol);\r\n                    }else {\r\n                        let maxCat = Math.ceil(cauCol.length / this.MaxRow);\r\n                        for (let j=0; j< maxCat; j++){\r\n                            this.listCau.push(cauCol.slice(j*this.MaxRow, (j+1)*this.MaxRow));\r\n                        }\r\n                        if (cauCol.length>maxCat*this.MaxRow){\r\n                            this.listCau.push(cauCol.slice(maxCat*this.MaxRow, cauCol.length));\r\n                        }\r\n                    }\r\n                    cauCol = [];\r\n                    cauCol.push(this._data[i]);\r\n                }\r\n            }else {\r\n                isChan = this._data[i] %2 == 0;\r\n                if (!isChan){\r\n                    cauCol.push(this._data[i]);\r\n                }else {\r\n                    if (cauCol.length <= this.MaxRow){\r\n                        this.listCau.push(cauCol);\r\n                    }else {\r\n                        let maxCat = Math.ceil(cauCol.length / this.MaxRow);\r\n                        for (let j=0; j< maxCat; j++){\r\n                            this.listCau.push(cauCol.slice(j*this.MaxRow, (j+1)*this.MaxRow));\r\n                        }\r\n                        if (cauCol.length>maxCat*this.MaxRow){\r\n                            this.listCau.push(cauCol.slice(maxCat*this.MaxRow, cauCol.length));\r\n                        }\r\n                    }\r\n                    cauCol = [];\r\n                    cauCol.push(this._data[i]);\r\n                }\r\n            }\r\n        }\r\n        if (cauCol.length <= this.MaxRow){\r\n            this.listCau.push(cauCol);\r\n        }else {\r\n            let maxCat = Math.ceil(cauCol.length / this.MaxRow);\r\n            for (let j=0; j< maxCat; j++){\r\n                this.listCau.push(cauCol.slice(j*this.MaxRow, (j+1)*this.MaxRow));\r\n            }\r\n            if (cauCol.length>maxCat*this.MaxRow){\r\n                this.listCau.push(cauCol.slice(maxCat*this.MaxRow, cauCol.length));\r\n            }\r\n        }\r\n    },\r\n    onListRender(item, idx) {\r\n        let cau = this.listCau[idx];\r\n        item.getComponent(item.name).init(cau);\r\n    },\r\n    onListSelected(item, selectedId, lastSelectedId, val) {\r\n        if (!item)\r\n            return;\r\n        let list = item.listItem._list;\r\n        let str = 'Danh sách hoạt động hiện tại là:' + list.node.name + '，Lựa chọn hiện tại là：' + selectedId + '，Lựa chọn cuối cùng là：' + lastSelectedId;\r\n        if (list.selectedMode == 2) { //Nếu nó là chế độ đa lựa chọn\r\n            str += '，Giá trị hiện tại：' + val;\r\n        }\r\n        console.log(str);\r\n    },\r\n});\r\n"]}