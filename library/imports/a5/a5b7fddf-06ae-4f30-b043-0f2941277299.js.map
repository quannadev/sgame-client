{"version":3,"sources":["assets/scripts/roulette/RouletteEvent.js"],"names":["RouletteEvent","RESPONSE_NAME","LOAD_GAME_RES","BET_RES","END_BETTING","HISTORY_RESULT","LoadGameEvent","CasinoEvent","_BaseEvent","extend","ctor","_super","fromEvent","event","isBetting","getBool","time","getInt","totalUserBet","getDouble","listTypePotBet","getIntArray","listMyChipPot","getDoubleArray","usersOnboard","getUtfStringArray","chipUserOnBoard","result","getByte","winpot","getByteArray","winChip","BetEvent","userName","getUtfString","betChip","typePot","totalBet","EndBetting","HistoryResponse","HistoryEvent","HISTORY_RES","items","data","getSArray","i","size","sItem","get","getObject","session","toFixed","betValues","itemBet","split","j","length","betObj","item","betPot","prizePot","push","LeaderBoardEvent","LEADERBOARD_RES","account","win","window","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["let RouletteEvent = {};\nRouletteEvent.RESPONSE_NAME = {\n    LOAD_GAME_RES: \"rl1\",\n    BET_RES: \"rl2\",\n    END_BETTING: \"rl3\",\n    HISTORY_RESULT: \"rl4\"\n};\nRouletteEvent.LoadGameEvent = CasinoEvent._BaseEvent.extend({\n    ctor(){\n        this._super(RouletteEvent.RESPONSE_NAME.LOAD_GAME_RES);\n    },\n    fromEvent(event){\n        this.isBetting        = event.getBool(\"b\");\n        this.time             = event.getInt(\"t\");\n        this.totalUserBet     = event.getDouble(\"tc\");\n        this.listTypePotBet   = event.getIntArray(\"lmtcp\");\n        this.listMyChipPot    = event.getDoubleArray(\"lmcp\");\n        this.usersOnboard     = event.getUtfStringArray(\"lu\");\n        this.chipUserOnBoard  = event.getDoubleArray(\"lc\");\n        if(!this.isBetting){\n            this.result         = event.getByte(\"rs\");\n            this.winpot         = event.getByteArray(\"wp\");\n            this.winChip         = 1000;\n        }\n        return this;\n    }\n})\nRouletteEvent.BetEvent = CasinoEvent._BaseEvent.extend({\n    ctor(){\n        this._super(RouletteEvent.RESPONSE_NAME.BET_RES);\n    },\n    fromEvent(event){\n        this.userName = event.getUtfString(\"un\");\n        this.betChip = event.getDouble(\"c\");\n        this.typePot = event.getByte(\"t\");\n        this.totalBet = event.getDouble(\"tc\");\n        return this;\n    }\n});\nRouletteEvent.EndBetting = CasinoEvent._BaseEvent.extend({\n    ctor(){\n        this._super(RouletteEvent.RESPONSE_NAME.END_BETTING);\n    },\n    fromEvent(event){\n        this.result           = event.getByte(\"rs\");\n        this.winChip          = event.getDouble(\"wc\");\n        this.winpot           = event.getByteArray(\"wp\");\n        this.chipUserOnBoard  = event.getDoubleArray(\"lc\");\n        this.usersOnboard     = event.getUtfStringArray(\"lu\");\n        return this;\n    }\n});\nRouletteEvent.HistoryResponse = CasinoEvent._BaseEvent.extend({\n    ctor(){\n        this._super(CasinoEvent.RESPONSE_NAME.HISTORY_RESULT);\n    },\n    fromEvent(event){\n        this.result = event.getByteArray(\"lr\");\n        return this;\n    }\n});\nRouletteEvent.HistoryEvent = CasinoEvent._BaseEvent.extend({\n    ctor() {\n        this._super(CasinoEvent.RESPONSE_NAME.HISTORY_RES);\n        this.items = [];\n    },\n    fromEvent(event){\n        let data = event.getSArray(\"d\");\n        for(let i = 0; i < data.size(); i++){\n            let sItem = data.get(i).getObject();\n            let session = sItem.getDouble(\"id\").toFixed(0);\n            let time = sItem.getUtfString(\"t\");\n            let result = sItem.getInt(\"rs\");\n            let betValues = sItem.getUtfString(\"bi\");\n            let itemBet = betValues.split(\",\");\n            for(let j = 0; j < itemBet.length;j++){\n                if(itemBet[j].length > 0){\n                    let betObj = itemBet[j].split(\"|\");\n                    let item = {};\n                    item.session = session;\n                    item.time = time;\n                    item.result = result;\n                    item.typePot = betObj[0];\n                    item.betPot = betObj[1];\n                    item.prizePot  = betObj[2];\n                    this.items.push(item);\n                }\n\n            }\n        }\n        return this;\n    }\n});\nRouletteEvent.LeaderBoardEvent = CasinoEvent._BaseEvent.extend({\n    ctor() {\n        this._super(CasinoEvent.RESPONSE_NAME.LEADERBOARD_RES);\n        this.items = [];\n    },\n    fromEvent(event){\n        let data = event.getSArray(\"d\");\n        for(let i = 0;i < data.size();i++){\n            let sItem = data.get(i).getObject();\n            let item = {};\n            item.session = i;\n            item.account = sItem.getUtfString(\"dn\");\n            item.win = sItem.getDouble(\"m\");\n            item.time = sItem.getUtfString(\"t\");\n            this.items.push(item);\n        }\n        return this;\n    }\n});\nwindow.RouletteEvent = module.exports = RouletteEvent;\n"]}