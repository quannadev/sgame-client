{"version":3,"sources":["assets/scripts/sinbad/UISinbadLobby.js"],"names":["cc","Class","VozBaseComponent","properties","arr_lb_hu","type","Label","lb_sodu","onLoad","schedule","updateJackpot","onEnable","string","Utils","addDotToNumber","GameVariables","Poker","getChip","SmartFoxSDK","SinbadController","ZoneInstance","mySelf","keys","i","length","variableJackpot","getVariable","jackpot","value","lb_hu","current_lb_jackpot","split","join","currentHu","parseFloat","numberTo","eventPlayGame","event","customData","betLevel","mm","Loading","show","pop","src","eventSetting","back","room","getRoomByName","send","SmartFox","Requests","System","LeaveRoomRequest","updateUserVariable","subChip"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.VozBaseComponent,\n\n    properties: {\n        arr_lb_hu: {\n            type: cc.Label,\n            default: []\n        },\n        lb_sodu: cc.Label\n    },\n    onLoad () {\n        this.schedule(this.updateJackpot, 3);\n        this.updateJackpot();\n    },\n    onEnable(){\n        this.lb_sodu.string = Utils.addDotToNumber(GameVariables.Poker.getChip(SmartFoxSDK.SinbadController.ZoneInstance.mySelf));\n    },\n    updateJackpot(){\n        let keys = [\"sinbad1l\",\"sinbad1k\",\"sinbad10k\"];\n        for(let i = 0; i < keys.length;i++){\n            if(SmartFoxSDK.SinbadController.ZoneInstance.mySelf){\n                let variableJackpot = SmartFoxSDK.SinbadController.ZoneInstance.mySelf.getVariable(keys[i]);\n                if(variableJackpot){\n                    let jackpot = variableJackpot.value;\n                    let lb_hu = this.arr_lb_hu[i];\n                    let current_lb_jackpot = lb_hu.string;\n                    current_lb_jackpot = current_lb_jackpot.split(\".\").join(\"\");\n                    let currentHu = parseFloat(current_lb_jackpot);\n                    Utils.numberTo(lb_hu, currentHu, jackpot, 1000, true);\n                }\n            }\n\n        }\n    },\n    eventPlayGame(event, customData) {\n        cc.betLevel = customData;\n        mm.Loading.show();\n        this.show(\"UISinbad\", {pop: true, src: \"sinbad\"});\n    },\n    eventSetting() {\n\n    },\n    back(){\n        let room = SmartFoxSDK.SinbadController.ZoneInstance.getRoomByName(\"sinbad\");\n        if(room){\n            SmartFoxSDK.SinbadController.ZoneInstance.send(new SmartFoxSDK.SmartFox.Requests.System.LeaveRoomRequest(room));\n        }else{\n            this.show('UIHome');\n        }\n    },\n    updateUserVariable(subChip){\n        this.lb_sodu.string = Utils.addDotToNumber(GameVariables.Poker.getChip(SmartFoxSDK.SinbadController.ZoneInstance.mySelf)-subChip);\n    },\n});\n"]}