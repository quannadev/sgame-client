{"version":3,"sources":["assets\\scripts\\taixiu\\UITaiXiuTanLoc.js"],"names":["cc","Class","VozBaseComponent","properties","edtTanLoc","EditBox","tanLoc","Node","onEnable","string","active","node","zIndex","lastZIndex","eventClose","back","eventBetLoc","event","data","eventTanLoc","chip","parseInt","betRequest","TaiXiuRequest","TanLocRequest","setChip","SmartFoxSDK","TaiXiuController","ZoneInstance","send","toSRequest","showToast","tanLocRes","tanLocInfo","mesTan","message","getChildByName","getComponent","Label","scheduleOnce"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,gBADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,SAAS,EAAKJ,EAAE,CAACK,OADT;AAERC,IAAAA,MAAM,EAAQN,EAAE,CAACO;AAFT,GAHP;AAQLC,EAAAA,QARK,sBAQO;AACR,SAAKJ,SAAL,CAAeK,MAAf,GAAwB,GAAxB;AACA,SAAKH,MAAL,CAAYI,MAAZ,GAAqB,KAArB;;AACA,QAAI,KAAKC,IAAL,CAAUC,MAAV,IAAoBZ,EAAE,CAACa,UAA3B,EAAsC;AAClCb,MAAAA,EAAE,CAACa,UAAH,IAAmB,CAAnB;AACA,WAAKF,IAAL,CAAUC,MAAV,GAAmBZ,EAAE,CAACa,UAAtB;AACH;AACJ,GAfI;AAgBLC,EAAAA,UAhBK,wBAgBQ;AACT,SAAKC,IAAL;AACH,GAlBI;AAmBLC,EAAAA,WAnBK,uBAmBOC,KAnBP,EAmBcC,IAnBd,EAmBoB;AACrB,SAAKd,SAAL,CAAeK,MAAf,GAAwBS,IAAxB;AACH,GArBI;AAsBLC,EAAAA,WAtBK,yBAsBQ;AACT,QAAIC,IAAI,GAAG,KAAKhB,SAAL,CAAeK,MAA1B;AACAW,IAAAA,IAAI,GAAOC,QAAQ,CAACD,IAAD,CAAnB;;AACA,QAAIA,IAAI,GAAG,CAAX,EAAa;AACT,UAAIE,UAAU,GAAG,IAAIC,aAAa,CAACC,aAAlB,EAAjB;AACAF,MAAAA,UAAU,CAACG,OAAX,CAAmBL,IAAnB;AACAM,MAAAA,WAAW,CAACC,gBAAZ,CAA6BC,YAA7B,CAA0CC,IAA1C,CAA+CP,UAAU,CAACQ,UAAX,EAA/C;AACH,KAJD,MAIM;AACF,WAAKC,SAAL,CAAe,6BAAf;AACH;AACJ,GAhCI;AAiCLC,EAAAA,SAjCK,qBAiCKC,UAjCL,EAiCgB;AACjB,QAAIA,UAAU,CAACC,MAAX,IAAqB,IAAzB,EAA8B;AAC1B,WAAKH,SAAL,CAAe,0BACX,kBADJ;AAEH,KAHD,MAGM;AACF,WAAKA,SAAL,CAAeE,UAAU,CAACC,MAA1B;AACH;AACJ,GAxCI;AAyCLH,EAAAA,SAzCK,qBAyCKI,OAzCL,EAyCc;AACf,SAAK7B,MAAL,CAAYI,MAAZ,GAAqB,IAArB;AACA,SAAKJ,MAAL,CAAY8B,cAAZ,CAA2B,QAA3B,EAAqCC,YAArC,CAAkDrC,EAAE,CAACsC,KAArD,EAA4D7B,MAA5D,GAAqE0B,OAArE;AACA,SAAKI,YAAL,CAAkB,YAAY;AAC1B,WAAKjC,MAAL,CAAYI,MAAZ,GAAqB,KAArB;AACH,KAFD,EAEG,CAFH;AAGH;AA/CI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.VozBaseComponent,\r\n\r\n    properties: {\r\n        edtTanLoc   : cc.EditBox,\r\n        tanLoc      : cc.Node\r\n    },\r\n\r\n    onEnable () {\r\n        this.edtTanLoc.string = \"0\";\r\n        this.tanLoc.active = false;\r\n        if (this.node.zIndex <= cc.lastZIndex){\r\n            cc.lastZIndex   += 1;\r\n            this.node.zIndex = cc.lastZIndex;\r\n        }\r\n    },\r\n    eventClose() {\r\n        this.back();\r\n    },\r\n    eventBetLoc(event, data) {\r\n        this.edtTanLoc.string = data;\r\n    },\r\n    eventTanLoc(){\r\n        let chip = this.edtTanLoc.string;\r\n        chip     = parseInt(chip);\r\n        if (chip > 0){\r\n            let betRequest = new TaiXiuRequest.TanLocRequest();\r\n            betRequest.setChip(chip);\r\n            SmartFoxSDK.TaiXiuController.ZoneInstance.send(betRequest.toSRequest());\r\n        }else {\r\n            this.showToast(\"Tiền tán lộc phải lớn hơn 0\");\r\n        }\r\n    },\r\n    tanLocRes(tanLocInfo){\r\n        if (tanLocInfo.mesTan == null){\r\n            this.showToast(\"Tán lộc thành công.\\n\" +\r\n                \"Chúc bạn may mắn\");\r\n        }else {\r\n            this.showToast(tanLocInfo.mesTan);\r\n        }\r\n    },\r\n    showToast(message) {\r\n        this.tanLoc.active = true;\r\n        this.tanLoc.getChildByName(\"lbNoti\").getComponent(cc.Label).string = message;\r\n        this.scheduleOnce(function () {\r\n            this.tanLoc.active = false;\r\n        }, 2)\r\n    }\r\n});\r\n"]}