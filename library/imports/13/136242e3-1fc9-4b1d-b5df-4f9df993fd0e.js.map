{"version":3,"sources":["assets\\scripts\\xocdia\\UIXocDia.js"],"names":["cc","Class","VozBaseComponent","properties","ChatEmojiLayer","Node","listNodeBet","type","listNodePot","_currentType","_currentBet","Timer","XocXocBat","openBat","Result","ChipPrefab","Prefab","POS","isNan","Toggle","_currentTime","_isOpen","_TimeWaitOpenBat","_dataCau","_myChipBet","_isDat","_isDatLast","lb_countUser","Label","Notice","ListMenu","onLoad","director","getCollisionManager","enabled","poolChip","isChecked","i","chip","instantiate","scale","node","addChild","active","push","isFirst","on","EventType","TOUCH_MOVE","touch","event","position","parent","convertToNodeSpaceAR","getLocation","Intersection","pointInPolygon","getComponent","BoxCollider","world","points","showNotice","_openBat","SmartFoxSDK","XocDiaController","m_tableInfo","winpot","isWin","stopAllActions","game","EVENT_SHOW","resumeGame","bind","onEnable","_stopEffectWinPot","listMyChipBet","length","getChildByName","listChipBet","updateUserCount","suggestBetChip","color","Color","WHITE","indexSuggest","GameVariables","getChip","ZoneInstance","mySelf","nodeBet","YELLOW","renewRound","isBetting","nodePot","line","room","getRoomByName","count","getUserList","children","isValid","string","delay","content","cb","self","runAction","sequence","delayTime","callFunc","ToastCanCua","refund","updateRefundChip","lb_tai","lb_xiu","balance","Math","min","parseFloat","split","join","Utils","addDotToNumber","ToastDatCua","getChipNode","returnChipNode","chipNode","updateUserVariable","subChip","updateChip","showListUsers","listUserShow","nodeUser","lb_name","lb_money","user","getVariable","value","_username","name","getDisplayName","isItMe","loadRes","Sprite","Config","getDefaultAvatar","rand","floor","random","removeNodePlayer","addNodePlayerEnterRoom","getPosFromName","username","amount","posUser","node_txt_win","currentMoney","actionScale","moveTo","v2","scaleCallback","showResult","result","totalBlack","_children","icon","xocxoc","sp","Skeleton","setAnimation","scheduleOnce","resumeXocXoc","time","animation","timeWait","moveBat","easing","easeIn","_runEffectPotWin","winPot","undefined","animationGame","textGame","winChip","_runCountTimer","RED","_turnOnTime","schedule","_turnOffTime","unschedule","showListMyChipBet","bets","_isHaveChipBet","showListChipBet","selectBetChip","betChip","currentTarget","requestBet","mm","Toast","showToast","audio","playDatCua","sendRequestBet","bet","betRequest","XocDiaRequest","BetRequest","setBetChip","setTypePot","send","toSRequest","actionFlyChipToPot","potType","money","pos","chipName","nodeAvatar","nodeFrom","posTo","getPositionInOtherNode","x","y","easeOut","clickExitRoom","SmartFox","Requests","System","LeaveRoomRequest","Loading","show","UIManger","eventSoiCau","playButton","historyRequest","HistoryResultRequest","showSoiCau","dataCau","console","log","pop","src","data","eventGapThep","eventDatLai","haveChip","eventNan","eventShowMenu","eventRank","request","CasinoRequest","LeaderBoardRequest","eventHelper","eventHistory","HistoryRequest","eventShowChat","initController","onPublicMessage","messData","msgItem","msg","sender","emojiBox","isEmoij","indexOf","emojiNode","boxNode","opacity","replace","fadeOut","Layout","updateLayout"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.VozBaseComponent,\r\n\r\n    properties: {\r\n        ChatEmojiLayer: cc.Node,\r\n        listNodeBet: {\r\n            type: cc.Node,\r\n            default: []\r\n        },\r\n        listNodePot: {\r\n            type: cc.Node,\r\n            default: []\r\n        },\r\n        _currentType : -1,\r\n        _currentBet  : 5000,\r\n        Timer        : cc.Node,\r\n        XocXocBat    : cc.Node,\r\n        openBat      : cc.Node,\r\n        Result       : cc.Node,\r\n        ChipPrefab   : cc.Prefab,\r\n        POS          : cc.Node,\r\n        isNan        : cc.Toggle,\r\n        _currentTime : 0,\r\n        _isOpen      : false,\r\n        _TimeWaitOpenBat : 3,\r\n        _dataCau         : [],\r\n        _myChipBet       : [],\r\n        _isDat           : false,\r\n        _isDatLast       : false,\r\n        lb_countUser: cc.Label,\r\n        Notice: cc.Node,\r\n        ListMenu     : cc.Node,\r\n    },\r\n    onLoad(){\r\n        cc.director.getCollisionManager().enabled = true;\r\n        this._myChipBet     = [];\r\n        this._currentBet    = 5000;\r\n        this._isDat         = false;\r\n        this._isDatLast     = false;\r\n        this.poolChip = [];\r\n        this.isNan.isChecked = false;\r\n        for(let i = 0; i < 20;i++){\r\n            let chip = cc.instantiate(this.ChipPrefab);\r\n            chip.scale = 0.33;\r\n            this.node.addChild(chip);\r\n            chip.active = false;\r\n            this.poolChip.push(chip);\r\n        }\r\n        this.isFirst = true;\r\n        this.openBat.on(cc.Node.EventType.TOUCH_MOVE, function (touch, event) {\r\n            this.openBat.position =  this.openBat.parent.convertToNodeSpaceAR(touch.getLocation());\r\n            this._isOpen          = !cc.Intersection.pointInPolygon(touch.getLocation(), this.XocXocBat.getComponent(cc.BoxCollider).world.points);\r\n            if(this.isFirst && this._isOpen){\r\n                this.isFirst = false;\r\n                this.showNotice(1, \"Trả thưởng!\");\r\n                this._openBat(SmartFoxSDK.XocDiaController.m_tableInfo.winpot, 0, SmartFoxSDK.XocDiaController.m_tableInfo.isWin);\r\n                this.openBat.stopAllActions();\r\n            }}, this);\r\n        cc.game.on(cc.game.EVENT_SHOW, function () {\r\n            if (this.node != null)\r\n                SmartFoxSDK.XocDiaController.resumeGame();\r\n        }.bind(this));\r\n    },\r\n    onEnable(){\r\n        this._dataCau     = [];\r\n        this.Notice.active = false;\r\n        this.Timer.active = false;\r\n        this._stopEffectWinPot();\r\n        this.XocXocBat.active = false;\r\n        this.Result.active    = false;\r\n        this.listMyChipBet = [];\r\n        for(let i = 0; i < this.listNodePot.length;i++){\r\n            this.listMyChipBet.push(this.listNodePot[i].getChildByName(\"mybet\").getComponent(cc.Label));\r\n        }\r\n        this.listChipBet = [];\r\n        for(let i = 0; i < this.listNodePot.length;i++){\r\n            this.listChipBet.push(this.listNodePot[i].getChildByName(\"pot\").getComponent(cc.Label));\r\n        }\r\n        this.updateUserCount();\r\n        this.suggestBetChip();\r\n    },\r\n    suggestBetChip(){\r\n        for(let i = 0; i < this.listNodeBet.length;i++){\r\n            this.listNodeBet[i].scale = 1;\r\n            this.listNodeBet[i].getChildByName(\"label\").color = cc.Color.WHITE;\r\n        }\r\n        let indexSuggest = 0;\r\n        this._currentBet = 5000;\r\n        if(GameVariables.getChip(SmartFoxSDK.XocDiaController.ZoneInstance.mySelf) > 50000000){\r\n            indexSuggest = this.listNodeBet.length -1;\r\n            this._currentBet = 1000000;\r\n        }else if(GameVariables.getChip(SmartFoxSDK.XocDiaController.ZoneInstance.mySelf) > 10000000){\r\n            indexSuggest = this.listNodeBet.length - 2;\r\n            this._currentBet = 500000;\r\n        }else if(GameVariables.getChip(SmartFoxSDK.XocDiaController.ZoneInstance.mySelf) > 5000000){\r\n            indexSuggest = this.listNodeBet.length - 3;\r\n            this._currentBet = 100000;\r\n        }else if(GameVariables.getChip(SmartFoxSDK.XocDiaController.ZoneInstance.mySelf) > 100000){\r\n            indexSuggest = this.listNodeBet.length - 4;\r\n            this._currentBet = 20000;\r\n        }else if(GameVariables.getChip(SmartFoxSDK.XocDiaController.ZoneInstance.mySelf) > 50000){\r\n            indexSuggest = this.listNodeBet.length - 5;\r\n            this._currentBet = 5000;\r\n        }\r\n        if(indexSuggest >= 0 && indexSuggest < this.listNodeBet.length){\r\n            let nodeBet = this.listNodeBet[indexSuggest];\r\n            nodeBet.scale = 1.3;\r\n            nodeBet.getChildByName(\"label\").color = cc.Color.YELLOW;\r\n        }\r\n    },\r\n    renewRound(){\r\n        this.isFirst = true;\r\n        if(SmartFoxSDK.XocDiaController.m_tableInfo.isBetting){\r\n            this.Result.active = false;\r\n            for(let i = 0; i < this.listNodePot.length;i++){\r\n                let nodePot = this.listNodePot[i];\r\n                let line = nodePot.getChildByName(\"Line-1\");\r\n                line.active = false;\r\n            }\r\n        }\r\n    },\r\n    updateUserCount(){\r\n        let room = SmartFoxSDK.XocDiaController.ZoneInstance.getRoomByName(\"xocdia\");\r\n        let count = room.getUserList().length;\r\n        if (count > 5){\r\n            this.POS.children[6].active = true;\r\n            if(cc.isValid(this.lb_countUser))\r\n                this.lb_countUser.string = count-5;\r\n        }else {\r\n            this.POS.children[6].active = false;\r\n        }\r\n    },\r\n    showNotice(delay, content, cb) {\r\n        this.Notice.active = true;\r\n        this.Notice.stopAllActions();\r\n        let self = this;\r\n        this.Notice.getChildByName(\"lb_noti\").getComponent(cc.Label).string = content;\r\n        this.Notice.runAction(cc.sequence(cc.delayTime(delay), cc.callFunc(function () {\r\n            self.Notice.active = false;\r\n            if(cb)\r\n                cb();\r\n        })));\r\n    },\r\n    ToastCanCua(cb, delay){\r\n        let self = this;\r\n        this.showNotice(delay, \"Bắt đầu cân cửa!\", function () {\r\n            if(SmartFoxSDK.XocDiaController.m_tableInfo.refund > 0){\r\n                self.updateRefundChip(function () {\r\n                    if(cb)\r\n                        cb();\r\n                });\r\n            }else{\r\n                if(cb)\r\n                    cb();\r\n            }\r\n        });\r\n        let lb_tai = this.listChipBet[0].string;\r\n        let lb_xiu = this.listChipBet[1].string;\r\n        let balance = Math.min(parseFloat(lb_tai.split(\".\").join(\"\")) , parseFloat(lb_xiu.split(\".\").join(\"\")));\r\n        this.listChipBet[0].string = Utils.addDotToNumber(balance);\r\n        this.listChipBet[1].string = Utils.addDotToNumber(balance);\r\n    },\r\n    ToastDatCua(cb){\r\n        this.isFirst = true;\r\n        this.showNotice(1, \"Đặt cửa\", cb);\r\n    },\r\n    getChipNode(){\r\n        for(let i = 0; i < this.poolChip.length;i++){\r\n            if(!this.poolChip[i].active){\r\n                this.poolChip[i].active = true;\r\n                return this.poolChip[i];\r\n            }\r\n        }\r\n        let chip = cc.instantiate(this.ChipPrefab);\r\n        chip.scale = 0.33;\r\n        this.node.addChild(chip);\r\n        chip.active = true;\r\n        this.poolChip.push(chip);\r\n        return chip;\r\n    },\r\n    returnChipNode(chipNode){\r\n        chipNode.active = false;\r\n    },\r\n    _stopEffectWinPot(){\r\n        for(let i = 0; i < this.listNodePot.length;i++){\r\n            let nodePot = this.listNodePot[i];\r\n            let line = nodePot.getChildByName(\"Line-1\");\r\n            line.active = false;\r\n        }\r\n    },\r\n    updateUserVariable(subChip){\r\n        this.updateChip(SmartFoxSDK.XocDiaController.ZoneInstance.mySelf, subChip);\r\n    },\r\n    showListUsers(listUserShow){\r\n        for(let i = 0; i < 6;i++){\r\n            let nodeUser = this.POS.getChildByName(\"pos_\"+i);\r\n            let lb_name = nodeUser.getChildByName(\"name\").getComponent(cc.Label);\r\n            let lb_money = nodeUser.getChildByName(\"money\").getComponent(cc.Label);\r\n            let user = (i >= listUserShow.length) ? null : listUserShow[i];\r\n            if(user && (user.getVariable(\"role\").value != \"admin\")){\r\n                nodeUser.active = true;\r\n                nodeUser._username = user.name;\r\n                lb_name.string = GameVariables.getDisplayName(user);\r\n                lb_money.string = Utils.addDotToNumber(GameVariables.getChip(user));\r\n                if(user.isItMe){\r\n                    Utils.loadRes(nodeUser.getChildByName(\"avatar\").getComponent(cc.Sprite), \"images/avatar/\"+Config.getDefaultAvatar());\r\n                }else{\r\n                    let rand = (Math.floor(Math.random()* 9) + 1);\r\n                    Utils.loadRes(nodeUser.getChildByName(\"avatar\").getComponent(cc.Sprite), \"images/avatar/\"+rand);\r\n                }\r\n            }else{\r\n                nodeUser.active = false;\r\n                nodeUser._username = null;\r\n            }\r\n        }\r\n    },\r\n    removeNodePlayer(user){\r\n        for(let i = 0; i < 6;i++){\r\n            let nodeUser = this.POS.getChildByName(\"pos_\"+i);\r\n            if(nodeUser._username == user.name){\r\n                nodeUser.active = false;\r\n            }\r\n        }\r\n    },\r\n    addNodePlayerEnterRoom(user){\r\n        if (user && (user.getVariable(\"role\").value != \"admin\")){\r\n            for(let i = 1; i < 6;i++){\r\n                let nodeUser = this.POS.getChildByName(\"pos_\"+i);\r\n                let lb_name = nodeUser.getChildByName(\"name\").getComponent(cc.Label);\r\n                let lb_money = nodeUser.getChildByName(\"money\").getComponent(cc.Label);\r\n                if(!nodeUser.active){\r\n                    nodeUser.active = true;\r\n                    nodeUser._username = user.name;\r\n                    lb_name.string = GameVariables.getDisplayName(user);\r\n                    lb_money.string = Utils.addDotToNumber(GameVariables.getChip(user));\r\n                    if(user.isItMe){\r\n                        Utils.loadRes(nodeUser.getChildByName(\"avatar\").getComponent(cc.Sprite), \"images/avatar/\"+Config.getDefaultAvatar());\r\n                    }else{\r\n                        let rand = (Math.floor(Math.random()* 9) + 1);\r\n                        Utils.loadRes(nodeUser.getChildByName(\"avatar\").getComponent(cc.Sprite), \"images/avatar/\"+rand);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    getPosFromName(username){\r\n        for(let i = 0; i < 6;i++){\r\n            let nodeUser = this.POS.getChildByName(\"pos_\"+i);\r\n            if(nodeUser.active && nodeUser._username && nodeUser._username == username){\r\n                return i;\r\n            }\r\n        }\r\n        return 6 ;\r\n    },\r\n    updateChip(user, subChip){\r\n        if(user){\r\n            for(let i = 0; i < 6;i++){\r\n                let nodeUser = this.POS.getChildByName(\"pos_\"+i);\r\n                let lb_money = nodeUser.getChildByName(\"money\").getComponent(cc.Label);\r\n                if(nodeUser.active && nodeUser._username && nodeUser._username == user.name){\r\n                    lb_money.string = Utils.addDotToNumber(GameVariables.getChip(user)-subChip);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    updateRefundChip(cb){\r\n        if(SmartFoxSDK.XocDiaController.m_tableInfo && SmartFoxSDK.XocDiaController.m_tableInfo.refund){\r\n            let amount = SmartFoxSDK.XocDiaController.m_tableInfo.refund;\r\n            let posUser       = this.POS.children[0];\r\n            let node_txt_win = posUser.getChildByName(\"money_win\");\r\n            node_txt_win.getComponent(cc.Label).string = \"+\"+Utils.addDotToNumber(amount);\r\n            node_txt_win.active = true;\r\n\r\n            // update user chip\r\n            let lb_money = posUser.getChildByName(\"money\").getComponent(cc.Label);\r\n            let currentMoney = lb_money.string.split(\".\").join(\"\");\r\n            currentMoney = parseFloat(currentMoney) + amount;\r\n            lb_money.string = Utils.addDotToNumber(currentMoney);\r\n            let actionScale =   cc.moveTo(1, cc.v2(0, 100));\r\n            let scaleCallback =  cc.sequence(\r\n                actionScale,\r\n                cc.callFunc(function () {\r\n                    node_txt_win.active = false;\r\n                    if(cb){\r\n                        cb();\r\n                    }\r\n                })\r\n            );\r\n            node_txt_win.stopAllActions();\r\n            node_txt_win.runAction(scaleCallback);\r\n        }else{\r\n            if(cb){\r\n                cb();\r\n            }\r\n        }\r\n    },\r\n    showResult(){\r\n        let result = SmartFoxSDK.XocDiaController.m_tableInfo.result;\r\n        if(!result)\r\n            return;\r\n        this.Result.active  = true;\r\n        let totalBlack = 0;\r\n        for(let i = 0; i < this.Result._children.length;i++){\r\n            let icon = this.Result._children[i];\r\n            if (result[i] == 0){\r\n                Utils.loadRes(icon.getComponent(cc.Sprite),\"/images/xocdia/den-result\");\r\n                totalBlack++;\r\n            }else{\r\n                Utils.loadRes(icon.getComponent(cc.Sprite),\"/images/xocdia/trang-result\");\r\n            }\r\n        }\r\n    },\r\n    xocxoc(result, winpot, isWin) {\r\n        let self = this;\r\n        this._stopEffectWinPot();\r\n        this._isOpen          = false;\r\n        this.openBat.active   = false;\r\n        this.XocXocBat.active = true;\r\n        this.showNotice(1, \"Mở bát!\", function () {\r\n            this.XocXocBat.getComponent(sp.Skeleton).setAnimation(0,'Atack-1', false);\r\n            this.scheduleOnce(function () {\r\n                this.XocXocBat.getComponent(sp.Skeleton).setAnimation(0, 'Atack-3', false);\r\n                this.openBat.active   = true;\r\n                this.openBat.position = cc.v2(0, 0);\r\n                this.openBat.stopAllActions();\r\n                this.showResult();\r\n                if(this.isNan.isChecked){\r\n                    this.openBat.runAction(cc.sequence(cc.delayTime(6), cc.callFunc(function () {\r\n                        self._openBat(winpot, 0, isWin);\r\n                    })));\r\n                }else{\r\n                    this.openBat.runAction(cc.sequence(cc.delayTime(0.5), cc.callFunc(function () {\r\n                        self._openBat(winpot, 0, isWin);\r\n                    })));\r\n                }\r\n            }, 1.4)\r\n\r\n        }.bind(this));\r\n\r\n    },\r\n\r\n    resumeXocXoc(result, winpot, time, isWin) {\r\n        let self = this;\r\n        this._isOpen          = false;\r\n        self.openBat.active   = false;\r\n        this.XocXocBat.active = true;\r\n        let animation = this.XocXocBat.getComponent(sp.Skeleton);\r\n        animation.setAnimation(1, \"Atack-3\",true);\r\n        self.Result.active  = true;\r\n        for(let i = 0; i < self.Result._children.length;i++){\r\n            let icon = self.Result._children[i];\r\n            Utils.loadRes(icon.getComponent(cc.Sprite),\"/images/xocdia/\"+ (result[i] == 0 ? 'den-result' : 'trang-result'));\r\n        }\r\n        this._openBat(winpot, 0, isWin);\r\n    },\r\n    _openBat(winpot, timeWait, isWin) {\r\n        let self = this;\r\n        this.openBat.position = cc.v2(0, 0);\r\n        this.openBat.active   = true;\r\n        let moveBat = cc.moveTo(1, cc.v2(146, 88)).easing(cc.easeIn(2));\r\n        if (this.isNan.isChecked){\r\n            self._runEffectPotWin(winpot, isWin);\r\n            self.openBat.active   = false;\r\n        }else {\r\n            this.openBat.stopAllActions();\r\n            this.openBat.runAction(cc.sequence(moveBat, cc.callFunc(function () {\r\n                self._runEffectPotWin(winpot, isWin);\r\n                self.openBat.active   = false;\r\n            })));\r\n        }\r\n    },\r\n    _runEffectPotWin(winPot, isWin){\r\n        if(SmartFoxSDK.XocDiaController.m_tableInfo.isBetting)\r\n            return;\r\n        if(!winPot || isWin == undefined){\r\n            return;\r\n        }\r\n        let self = this;\r\n        for(let i = 0; i < winPot.length;i++){\r\n            if(winPot[i] >= 0 && winPot[i] < 6){\r\n                let nodePot = this.listNodePot[winPot[i]];\r\n                let line = nodePot.getChildByName(\"Line-1\");\r\n                line.active = true;\r\n                line.getComponent(sp.Skeleton).setAnimation(0, \"Idle\", true);\r\n            }\r\n        }\r\n        if (isWin){\r\n            let posUser       = this.POS.children[0];\r\n            let animationGame = posUser.getChildByName(\"InGame-Thang-2\");\r\n            let textGame      = posUser.getChildByName(\"thang-text\");\r\n            let node_txt_win = posUser.getChildByName(\"money_win\");\r\n            node_txt_win.position = cc.v2(0, 0);\r\n            node_txt_win.getComponent(cc.Label).string = \"+\"+Utils.addDotToNumber(SmartFoxSDK.XocDiaController.m_tableInfo.winChip);\r\n            node_txt_win.active = true;\r\n            animationGame.active = true;\r\n            textGame.active      = true;\r\n            animationGame.getComponent(sp.Skeleton).setAnimation(0, \"Idle\", true);\r\n            let actionScale =   cc.moveTo(1.5, cc.v2(0, 100));\r\n            let scaleCallback =  cc.sequence(\r\n                actionScale,\r\n                cc.delayTime(2.5),\r\n                cc.callFunc(function () {\r\n                    animationGame.active = false;\r\n                    textGame.active      = false;\r\n                    node_txt_win.active = false;\r\n                })\r\n            );\r\n            node_txt_win.runAction(scaleCallback);\r\n            this.updateUserVariable(0);\r\n        }\r\n        this._isDat = false;\r\n    },\r\n\r\n    _runCountTimer() {\r\n        if (this._currentTime > 0)\r\n            this._currentTime--;\r\n        if (this._currentTime < 6){\r\n            this.Timer.color = cc.Color.RED;\r\n        }else\r\n            this.Timer.color = cc.Color.WHITE;\r\n        if (this._currentTime < 10){\r\n            this.Timer.getComponent(cc.Label).string = \"0\"+ this._currentTime;\r\n        }else\r\n            this.Timer.getComponent(cc.Label).string = this._currentTime;\r\n    },\r\n    _turnOnTime(time, isBetting){\r\n        this.Timer.active       = true;\r\n        this.XocXocBat.active   = false;\r\n        this.Result.active      = false;\r\n        this._currentTime       = time;\r\n        this._runCountTimer();\r\n        this._stopEffectWinPot();\r\n        this.schedule(this._runCountTimer, 1);\r\n    },\r\n    _turnOffTime(){\r\n        this.Timer.active = false;\r\n        this.unschedule(this._runCountTimer);\r\n    },\r\n    showListMyChipBet(bets){\r\n        if (this._isHaveChipBet(bets)){\r\n            this._myChipBet = bets;\r\n        }else {\r\n            if (!this._isDatLast)\r\n                this._myChipBet = bets;\r\n            if (this._isDatLast)\r\n                this._isDatLast = false;\r\n        }\r\n        for(let i = 0; i < bets.length;i++){\r\n            this.listMyChipBet[i].string = \"(\" + Utils.addDotToNumber(bets[i]) + \")\";\r\n        }\r\n    },\r\n    showListChipBet(bets){\r\n        for(let i = 0; i < bets.length;i++){\r\n            this.listChipBet[i].string = Utils.addDotToNumber(bets[i]);\r\n        }\r\n    },\r\n    selectBetChip(event, betChip){\r\n        for(let i = 0; i < this.listNodeBet.length;i++){\r\n            this.listNodeBet[i].scale = 1;\r\n            this.listNodeBet[i].getChildByName(\"label\").color = cc.Color.WHITE;\r\n        }\r\n        this._currentBet = betChip;\r\n        event.currentTarget.scale = 1.3;\r\n        event.currentTarget.getChildByName(\"label\").color = cc.Color.YELLOW;\r\n    },\r\n    requestBet(event, type){\r\n        if (this.XocXocBat.active){\r\n            mm.Toast.showToast(1, \"Đang mở bát không được đặt\");\r\n            return;\r\n        }\r\n        this._isDat        = true;\r\n        mm.audio.playDatCua();\r\n        this.sendRequestBet(this._currentBet, type);\r\n    },\r\n    sendRequestBet(bet, type) {\r\n        this._isDatLast    = true;\r\n        this._currentType  = type;\r\n        if(this._currentType < 0 || this._currentType >= 6){\r\n            mm.Toast.showToast(1, \"Của đặt không hợp lệ\");\r\n        }else if(GameVariables.getChip(SmartFoxSDK.XocDiaController.ZoneInstance.mySelf) < bet){\r\n            mm.Toast.showToast(1, \"Không đủ tiền!\");\r\n        }else{\r\n            let betRequest = new XocDiaRequest.BetRequest();\r\n            betRequest.setBetChip(bet);\r\n            betRequest.setTypePot(this._currentType);\r\n            SmartFoxSDK.XocDiaController.ZoneInstance.send(betRequest.toSRequest());\r\n        }\r\n    },\r\n    actionFlyChipToPot(username, potType, money){\r\n        let pos = this.getPosFromName(username);\r\n        let chipName = \"chip1\";\r\n        if(money > 1000 && money <= 5000){\r\n            chipName = \"chip1\";\r\n        }else if(money > 5000 && money <= 20000){\r\n            chipName = \"chip2\";\r\n        }else if(money > 20000 && money <= 100000){\r\n            chipName = \"chip3\";\r\n        }else if(money > 100000 && money <= 500000){\r\n            chipName = \"chip4\";\r\n        }else if(money > 500000){\r\n            chipName = \"chip5\";\r\n        }\r\n        for(let i = 0;  i < 5; i++){\r\n            let chipNode = this.getChipNode();\r\n            Utils.loadRes(chipNode.getComponent(cc.Sprite),\"images/xocdia/\"+chipName);\r\n            let nodeAvatar = this.POS.getChildByName(\"pos_\"+pos);\r\n            chipNode.position = nodeAvatar.position;\r\n            let nodeFrom = this.listNodePot[potType];\r\n            let posTo = this.getPositionInOtherNode(nodeFrom, this.node);\r\n            let self = this;\r\n            chipNode.runAction(cc.sequence(cc.delayTime(i*0.1), cc.moveTo(0.3, cc.v2(posTo.x, posTo.y)).easing(cc.easeOut(3)), cc.callFunc(function () {\r\n                self.returnChipNode(this);\r\n            }, chipNode)));\r\n        }\r\n    },\r\n    clickExitRoom(event){\r\n        let room = SmartFoxSDK.XocDiaController.ZoneInstance.getRoomByName(\"xocdia\");\r\n        if(room){\r\n            SmartFoxSDK.XocDiaController.ZoneInstance.send(new SmartFoxSDK.SmartFox.Requests.System.LeaveRoomRequest(room));\r\n            mm.Loading.show();\r\n        }else{\r\n            UIManger.show(\"UIHome\");\r\n        }\r\n    },\r\n    eventSoiCau() {\r\n        mm.audio.playButton();\r\n        mm.Loading.show();\r\n        let historyRequest = new XocDiaRequest.HistoryResultRequest();\r\n        SmartFoxSDK.XocDiaController.ZoneInstance.send(historyRequest.toSRequest());\r\n    },\r\n    showSoiCau(dataCau) {\r\n        this._dataCau = dataCau;\r\n        console.log(dataCau);\r\n        this.show(\"UIXocDiaSoiCau\", {pop: true, src: 'xocdia', data: dataCau});\r\n    },\r\n    eventGapThep(){\r\n        mm.audio.playButton();\r\n        if (this._isHaveChipBet(this._myChipBet) &&  !this._isDat){\r\n            if (this.XocXocBat.active){\r\n                mm.Toast.showToast(1, \"Đang mở bát không được đặt\");\r\n                return;\r\n            }\r\n            this._isDat        = true;\r\n            for (let i=0; i< this._myChipBet.length; i++){\r\n                if (this._myChipBet[i] > 0)\r\n                    this.sendRequestBet(2*this._myChipBet[i], i);\r\n            }\r\n        }\r\n    },\r\n    eventDatLai() {\r\n        mm.audio.playButton();\r\n        if (this._isHaveChipBet(this._myChipBet) &&  !this._isDat){\r\n            if (this.XocXocBat.active){\r\n                mm.Toast.showToast(1, \"Đang mở bát không được đặt\");\r\n                return;\r\n            }\r\n            this._isDat        = true;\r\n            for (let i=0; i< this._myChipBet.length; i++){\r\n                if (this._myChipBet[i] > 0)\r\n                    this.sendRequestBet(this._myChipBet[i], i);\r\n            }\r\n        }\r\n    },\r\n    _isHaveChipBet(listChipBet) {\r\n        let haveChip = false;\r\n        for (let i=0; i< listChipBet.length; i++){\r\n            if (listChipBet[i] > 0){\r\n                haveChip = true;\r\n                return haveChip;\r\n            }\r\n        }\r\n        return haveChip;\r\n    },\r\n    eventNan() {\r\n        mm.audio.playButton();\r\n    },\r\n    eventShowMenu() {\r\n        mm.audio.playButton();\r\n        this.ListMenu.active = !this.ListMenu.active;\r\n    },\r\n    eventRank() {\r\n        mm.audio.playButton();\r\n        mm.Loading.show();\r\n        this.ListMenu.active = false;\r\n        let request = new CasinoRequest.LeaderBoardRequest();\r\n        SmartFoxSDK.XocDiaController.ZoneInstance.send(request.toSRequest())\r\n    },\r\n    eventHelper() {\r\n        mm.audio.playButton();\r\n        this.ListMenu.active = false;\r\n        this.show(\"UIXocDiaHelper\", {pop: true, src: 'xocdia'});\r\n    },\r\n    eventHistory() {\r\n        mm.audio.playButton();\r\n        mm.Loading.show();\r\n        this.ListMenu.active = false;\r\n        let request = new CasinoRequest.HistoryRequest();\r\n        SmartFoxSDK.XocDiaController.ZoneInstance.send(request.toSRequest());\r\n    },\r\n    eventShowChat(event, data) {\r\n        mm.audio.playButton();\r\n        this.ChatEmojiLayer.active = !this.ChatEmojiLayer.active;\r\n        if (this.ChatEmojiLayer.active)\r\n            this.ChatEmojiLayer.getComponent(\"ChatEmojiLayer\").initController(SmartFoxSDK.XocDiaController.ZoneInstance);\r\n    },\r\n    onPublicMessage(messData){\r\n        let msgItem    = messData.msg;\r\n        let pos        = this.getPosFromName(messData.sender.name);\r\n        let emojiBox   = this.POS.children[pos].getChildByName(\"EMOJ\");\r\n        if (emojiBox != undefined){\r\n            let self    = this;\r\n            let isEmoij = msgItem.indexOf(\"emoij_\") >= 0;\r\n            let emojiNode = emojiBox.getChildByName(\"EMOJ\");\r\n            let boxNode   = emojiBox.getChildByName(\"box\");\r\n            emojiNode.active = false;\r\n            boxNode.active   = false;\r\n            if (isEmoij){\r\n                emojiNode.active   = true;\r\n                emojiNode.opacity  = 255;\r\n                let type = msgItem.replace(\"emoij_\", \"\");\r\n                emojiNode.stopAllActions();\r\n                emojiNode.getComponent(sp.Skeleton).setAnimation(0, type, false);\r\n                emojiNode.runAction(cc.sequence(cc.delayTime(1.5), cc.fadeOut(2), cc.callFunc(function () {\r\n                    emojiNode.active = false;\r\n                })));\r\n            }else {\r\n                boxNode.active   = true;\r\n                boxNode.opacity  = 255;\r\n                boxNode.stopAllActions();\r\n                boxNode.getChildByName(\"lb_chat\").getComponent(cc.Label).string = msgItem;\r\n                boxNode.getComponent(cc.Layout).updateLayout();\r\n                boxNode.runAction(cc.sequence(cc.delayTime(2), cc.fadeOut(2), cc.callFunc(function () {\r\n                    boxNode.active = false;\r\n                })));\r\n            }\r\n        }\r\n    },\r\n});\r\n"]}