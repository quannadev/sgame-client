{"version":3,"sources":["assets/scripts/kimcuong/UIKimCuongBonusGame.js"],"names":["Helper","require","cc","Class","VozBaseComponent","properties","lbHeSoNhan","Label","lbTime","lbLuotBoc","lbMoneyWin","resultWin","Node","totalSelect","totalTime","onEnable","active","_data","length","string","Math","floor","random","schedule","countTime","unschedule","eventClose","showMoneyWin","self","moneyWin","i","node","numberTo","setTimeout","eventSelect","event","data","target","getChildByName","getComponent","sp","Skeleton","setAnimation","back"],"mappings":"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","sourceRoot":"/","sourcesContent":["let Helper = require(\"Helper\");\ncc.Class({\n    extends: cc.VozBaseComponent,\n\n    properties: {\n        lbHeSoNhan  : cc.Label,\n        lbTime      : cc.Label,\n        lbLuotBoc   : cc.Label,\n        lbMoneyWin  : cc.Label,\n        resultWin   : cc.Node,\n        totalSelect : 0,\n        totalTime   : 15,\n    },\n    onEnable () {\n        this.totalTime          = 15;\n        this.resultWin.active   = false;\n        this.totalSelect        = this._data.length;\n        this.lbHeSoNhan.string  = \"x\"+Math.floor(Math.random()*30);\n        this.lbLuotBoc.string   = this.totalSelect;\n        this.lbTime.string      = this.totalTime;\n        this.schedule(this.countTime, 1);\n    },\n    countTime() {\n        this.totalTime--;\n        if ( this.totalTime < 1){\n            this.unschedule(this.countTime);\n            this.eventClose();\n        }\n        this.lbTime.string      = this.totalTime;\n    },\n    showMoneyWin() {\n        let self = this;\n        this.resultWin.active = true;\n        let moneyWin = 0;\n        for (let i=0; i< this._data.length; i++){\n            moneyWin += this._data[i];\n        }\n        this.lbMoneyWin.node.active = true;\n        Helper.numberTo(this.lbMoneyWin, 0 ,moneyWin, 600, true, function () {\n            setTimeout(function(){\n                self.eventClose();\n                self.resultWin.active = false;\n            }, 1500);\n        });\n    },\n    eventSelect(event, data) {\n        if (this.totalSelect > 0){\n            this.totalSelect--;\n            if (this._data[this.totalSelect] > 0){\n                event.target.getChildByName(\"lb_money\").active = true;\n                event.target.getChildByName(\"KimCuongBonusGame\").getComponent(sp.Skeleton).setAnimation(0, \"Attack-KimCuong\", false);\n                Helper.numberTo(event.target.getChildByName(\"lb_money\").getComponent(cc.Label), 0 , this._data[this.totalSelect], 1200, true);\n            } else{\n                event.target.getChildByName(\"KimCuongBonusGame\").getComponent(sp.Skeleton).setAnimation(0, \"Attack-Miss\", false);\n            }\n            this.lbLuotBoc.string   = this.totalSelect;\n            if (this.totalSelect == 0){\n                this.showMoneyWin();\n            }\n        }\n    },\n    eventClose() {\n        this.back();\n    }\n});\n"]}