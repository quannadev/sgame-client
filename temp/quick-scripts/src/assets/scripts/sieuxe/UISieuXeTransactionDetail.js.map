{"version":3,"sources":["assets/scripts/sieuxe/UISieuXeTransactionDetail.js"],"names":["reel","require","cc","Class","VozBaseComponent","properties","reels","type","Node","lbSession","Label","lbTotalWin","TotalItemRun","TotalColumn","onEnable","string","_data","session","Utils","addDotToNumber","win","result","map","i","length","count","getDataResult","Promise","all","itemReel","pos","children","itemXe","index","getComponent","init","node","zIndex","lastZIndex","newArray","push","eventClose","back"],"mappings":";;;;;;AAAA,IAAIA,IAAI,GAAUC,OAAO,CAAC,YAAD,CAAzB;;AAEAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,gBADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,KAAK,EAAE;AACH,iBAAS,EADN;AAEHC,MAAAA,IAAI,EAAEL,EAAE,CAACM;AAFN,KADC;AAKRC,IAAAA,SAAS,EAAKP,EAAE,CAACQ,KALT;AAMRC,IAAAA,UAAU,EAAIT,EAAE,CAACQ,KANT;AAORE,IAAAA,YAAY,EAAI,EAPR;AAQRC,IAAAA,WAAW,EAAW;AARd,GAHP;AAaLC,EAAAA,QAbK,sBAaO;AACR,SAAKF,YAAL,GAAoB,EAApB;AACA,SAAKH,SAAL,CAAeM,MAAf,GAAwB,MAAI,KAAKC,KAAL,CAAWC,OAAvC;AACA,SAAKN,UAAL,CAAgBI,MAAhB,GAAyBG,KAAK,CAACC,cAAN,CAAqB,KAAKH,KAAL,CAAWI,GAAhC,CAAzB;AACA,QAAIC,MAAM,GAAG,KAAKL,KAAL,CAAWM,GAAxB,CAJQ,CAKR;;AACA,SAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAEF,MAAM,CAACG,MAAxB,EAAgCD,CAAC,EAAjC,EAAoC;AAChC,UAAIE,KAAK,GAAGF,CAAC,GAAC,CAAd;;AACA,UAAIE,KAAK,GAAG,CAAZ,EAAc;AACVJ,QAAAA,MAAM,CAACE,CAAD,CAAN,GAAYF,MAAM,CAACE,CAAD,CAAN,GAAY,CAAxB;AACH;AACJ;;AACDF,IAAAA,MAAM,GAAG,KAAKK,aAAL,CAAmBL,MAAnB,CAAT;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKtB,KAAL,CAAWgB,GAAX,CAAe,UAASO,QAAT,EAAmBC,GAAnB,EAAwB;AAC/CH,MAAAA,OAAO,CAACC,GAAR,CAAYC,QAAQ,CAACE,QAAT,CAAkBT,GAAlB,CAAsB,UAASU,MAAT,EAAiBC,KAAjB,EAAwB;AACtDD,QAAAA,MAAM,CAACE,YAAP,CAAoB,YAApB,EAAkCC,IAAlC,CAAuC,IAAvC,EAA6Cd,MAAM,CAACS,GAAD,CAAN,CAAYG,KAAZ,CAA7C;AACH,OAFW,CAAZ;AAGH,KAJW,CAAZ;;AAKA,QAAI,KAAKG,IAAL,CAAUC,MAAV,IAAoBnC,EAAE,CAACoC,UAA3B,EAAsC;AAClC,WAAKF,IAAL,CAAUC,MAAV,GAAmBnC,EAAE,CAACoC,UAAtB;AACH;AACJ,GAlCI;AAmCLZ,EAAAA,aAAa,EAAE,uBAASL,MAAT,EAAiB;AAC5B,QAAIkB,QAAQ,GAAG,EAAf;;AACA,SAAK,IAAIhB,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAE,KAAKV,WAAtB,EAAmCU,CAAC,EAApC,EAAuC;AACnCgB,MAAAA,QAAQ,CAAChB,CAAD,CAAR,GAAc,EAAd;AACH;;AACD,SAAK,IAAIA,EAAC,GAAC,CAAX,EAAcA,EAAC,GAAEF,MAAM,CAACG,MAAxB,EAAgCD,EAAC,EAAjC,EAAqC;AACjCgB,MAAAA,QAAQ,CAAChB,EAAC,GAAC,KAAKV,WAAR,CAAR,CAA6B2B,IAA7B,CAAkCnB,MAAM,CAACE,EAAD,CAAxC;AACH;;AACD,WAAOgB,QAAP;AACH,GA5CI;AA6CLE,EAAAA,UA7CK,wBA6CQ;AACT,SAAKC,IAAL;AACH,GA/CI,CAgDL;;AAhDK,CAAT","sourceRoot":"/","sourcesContent":["let reel        = require(\"SieuXeReel\");\n\ncc.Class({\n    extends: cc.VozBaseComponent,\n\n    properties: {\n        reels: {\n            default: [],\n            type: cc.Node,\n        },\n        lbSession   : cc.Label,\n        lbTotalWin  : cc.Label,\n        TotalItemRun  : 20,\n        TotalColumn         : 5,\n    },\n    onEnable () {\n        this.TotalItemRun = 20;\n        this.lbSession.string = \"#\"+this._data.session;\n        this.lbTotalWin.string = Utils.addDotToNumber(this._data.win);\n        let result = this._data.map;\n        // reformat\n        for (let i=0; i< result.length; i++){\n            let count = i%5;\n            if (count > 2){\n                result[i] = result[i] + 1;\n            }\n        }\n        result = this.getDataResult(result);\n        Promise.all(this.reels.map(function(itemReel, pos) {\n            Promise.all(itemReel.children.map(function(itemXe, index) {\n                itemXe.getComponent(\"SieuXeItem\").init(this, result[pos][index]);\n            }));\n        }));\n        if (this.node.zIndex <= cc.lastZIndex){\n            this.node.zIndex = cc.lastZIndex;\n        }\n    },\n    getDataResult: function(result) {\n        let newArray = [];\n        for (let i=0; i< this.TotalColumn; i++){\n            newArray[i] = [];\n        }\n        for (let i=0; i< result.length; i++) {\n            newArray[i%this.TotalColumn].push(result[i]);\n        }\n        return newArray;\n    },\n    eventClose() {\n        this.back();\n    }\n    // update (dt) {},\n});\n"]}