{"version":3,"sources":["assets/scripts/taixiu/UITaiXiuTanLoc.js"],"names":["cc","Class","VozBaseComponent","properties","edtTanLoc","EditBox","tanLoc","Node","onEnable","string","active","node","zIndex","lastZIndex","eventClose","back","eventBetLoc","event","data","eventTanLoc","chip","parseInt","betRequest","TaiXiuRequest","TanLocRequest","setChip","SmartFoxSDK","TaiXiuController","ZoneInstance","send","toSRequest","showToast","tanLocRes","tanLocInfo","mesTan","message","getChildByName","getComponent","Label","scheduleOnce"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,gBADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,SAAS,EAAKJ,EAAE,CAACK,OADT;AAERC,IAAAA,MAAM,EAAQN,EAAE,CAACO;AAFT,GAHP;AAQLC,EAAAA,QARK,sBAQO;AACR,SAAKJ,SAAL,CAAeK,MAAf,GAAwB,GAAxB;AACA,SAAKH,MAAL,CAAYI,MAAZ,GAAqB,KAArB;;AACA,QAAI,KAAKC,IAAL,CAAUC,MAAV,IAAoBZ,EAAE,CAACa,UAA3B,EAAsC;AAClCb,MAAAA,EAAE,CAACa,UAAH,IAAmB,CAAnB;AACA,WAAKF,IAAL,CAAUC,MAAV,GAAmBZ,EAAE,CAACa,UAAtB;AACH;AACJ,GAfI;AAgBLC,EAAAA,UAhBK,wBAgBQ;AACT,SAAKC,IAAL;AACH,GAlBI;AAmBLC,EAAAA,WAnBK,uBAmBOC,KAnBP,EAmBcC,IAnBd,EAmBoB;AACrB,SAAKd,SAAL,CAAeK,MAAf,GAAwBS,IAAxB;AACH,GArBI;AAsBLC,EAAAA,WAtBK,yBAsBQ;AACT,QAAIC,IAAI,GAAG,KAAKhB,SAAL,CAAeK,MAA1B;AACAW,IAAAA,IAAI,GAAOC,QAAQ,CAACD,IAAD,CAAnB;;AACA,QAAIA,IAAI,GAAG,CAAX,EAAa;AACT,UAAIE,UAAU,GAAG,IAAIC,aAAa,CAACC,aAAlB,EAAjB;AACAF,MAAAA,UAAU,CAACG,OAAX,CAAmBL,IAAnB;AACAM,MAAAA,WAAW,CAACC,gBAAZ,CAA6BC,YAA7B,CAA0CC,IAA1C,CAA+CP,UAAU,CAACQ,UAAX,EAA/C;AACH,KAJD,MAIM;AACF,WAAKC,SAAL,CAAe,6BAAf;AACH;AACJ,GAhCI;AAiCLC,EAAAA,SAjCK,qBAiCKC,UAjCL,EAiCgB;AACjB,QAAIA,UAAU,CAACC,MAAX,IAAqB,IAAzB,EAA8B;AAC1B,WAAKH,SAAL,CAAe,0BACX,kBADJ;AAEH,KAHD,MAGM;AACF,WAAKA,SAAL,CAAeE,UAAU,CAACC,MAA1B;AACH;AACJ,GAxCI;AAyCLH,EAAAA,SAzCK,qBAyCKI,OAzCL,EAyCc;AACf,SAAK7B,MAAL,CAAYI,MAAZ,GAAqB,IAArB;AACA,SAAKJ,MAAL,CAAY8B,cAAZ,CAA2B,QAA3B,EAAqCC,YAArC,CAAkDrC,EAAE,CAACsC,KAArD,EAA4D7B,MAA5D,GAAqE0B,OAArE;AACA,SAAKI,YAAL,CAAkB,YAAY;AAC1B,WAAKjC,MAAL,CAAYI,MAAZ,GAAqB,KAArB;AACH,KAFD,EAEG,CAFH;AAGH;AA/CI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.VozBaseComponent,\n\n    properties: {\n        edtTanLoc   : cc.EditBox,\n        tanLoc      : cc.Node\n    },\n\n    onEnable () {\n        this.edtTanLoc.string = \"0\";\n        this.tanLoc.active = false;\n        if (this.node.zIndex <= cc.lastZIndex){\n            cc.lastZIndex   += 1;\n            this.node.zIndex = cc.lastZIndex;\n        }\n    },\n    eventClose() {\n        this.back();\n    },\n    eventBetLoc(event, data) {\n        this.edtTanLoc.string = data;\n    },\n    eventTanLoc(){\n        let chip = this.edtTanLoc.string;\n        chip     = parseInt(chip);\n        if (chip > 0){\n            let betRequest = new TaiXiuRequest.TanLocRequest();\n            betRequest.setChip(chip);\n            SmartFoxSDK.TaiXiuController.ZoneInstance.send(betRequest.toSRequest());\n        }else {\n            this.showToast(\"Tiền tán lộc phải lớn hơn 0\");\n        }\n    },\n    tanLocRes(tanLocInfo){\n        if (tanLocInfo.mesTan == null){\n            this.showToast(\"Tán lộc thành công.\\n\" +\n                \"Chúc bạn may mắn\");\n        }else {\n            this.showToast(tanLocInfo.mesTan);\n        }\n    },\n    showToast(message) {\n        this.tanLoc.active = true;\n        this.tanLoc.getChildByName(\"lbNoti\").getComponent(cc.Label).string = message;\n        this.scheduleOnce(function () {\n            this.tanLoc.active = false;\n        }, 2)\n    }\n});\n"]}