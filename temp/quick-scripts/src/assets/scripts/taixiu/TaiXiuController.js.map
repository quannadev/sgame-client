{"version":3,"sources":["assets\\scripts\\taixiu\\TaiXiuController.js"],"names":["TaiXiuEvent","require","TaiXiuController","SmartFoxSDK","BaseController","extend","m_tableInfo","registerEvents","_super","ZoneInstance","addEventListenerExtension","RESPONSE_NAME","LOAD_GAME_RES","onLoadGameEvent","BET_RES","onUserBetEvent","END_BETTING","onEndBettingEvent","SESSION_DETAIL","onSessionDetailEvent","SOI_CAU_RES","onSoiCauEvent","TAN_LOC","onTanLocEvent","RUT_LOC","onRutLocEvent","HISTORY_TAN_LOC","onHistoryTanLocEvent","HISTORY_RUT_LOC","onHistoryRutLocEvent","TOP_BET","onTopBetEvent","TOP_BET_REWARD","onTopBetRewardEvent","TOP_BET_RULE","onTopBetRuleEvent","RANK_TAN_LOC","onRankTanLocEvent","RANK_RUT_LOC","onRankRutLocEvent","PUBLIC_MSG","onPublicMessageChat","TOP_REWARD_RES","onTopRewardResEvent","UPDATE_STATE_POT","onUpdateStatePot","removeEvents","removeEventListenerExtension","onEventLogin","event","_requestJoinRoom","zoneName","onPublicMessage","sender","msg","message","data","dataSender","dn","get","fb","msgItem","getUI","publicMsg","PublicMessagecEvent","fromEvent","un","onHistoryEvent","getSArray","items","i","size","sItem","getObject","item","session","getDouble","toFixed","time","getUtfString","stakes","win","refund","result","getByteArray","cua","_getNameResult","push","updateDataHistory","point","length","onLeaderBoardEvent","account","win_type","updateDataRank","onEventUserExitRoom","user","isItMe","cc","currentUI","mm","Loading","hide","back","preLoadUI","pop","LoadGameEvent","lastTime","Date","getTime","setPrepareBet","controller","showGame","allowRutlLoc","fundRutloc","resetBetTaiXiu","updateListChat","listChat","showListUsers","listUsers","updateSessionId","listCau","sessionId","updateListCau","resumeGame","bind","Math","floor","showListChipBet","listChipPot","showListMyChipBet","listMyChipPot","_turnOfTime","hideResultNumber","hide3D","stopEffectResult","isBetting","_turnOnTime","cancua","statePot","UpdateStatePotEvent","potTai","potXiu","ccuTai","ccuXiu","userBet","BetEvent","userName","betChip","typePot","mySelf","name","_currentBet","updateChipAll","endBetting","EndBetting","refundChip","winChip","playType","updateThangThua","updateDataCau","isPlayedAnimation","sessionDetail","SessionDetail","updateDataSessionDetail","SoiCauEvent","updateTaiXiuSoiCau","tanLoc","TanLocEvent","uiTanLoc","getUIByName","tanLocRes","fund","onEventUpdateChip","rutLoc","RutLocEvent","showResultRutLoc","historyTanLoc","HistoryTanLocEvent","updateDataList","historyRutLoc","HistoryRutLocEvent","listTopBet","TopBetEvent","betReward","TopBetRewardEvent","showReward","listTopBetRule","TopBetRuleEvent","rankTanLoc","RankTanLocEvent","rankRutLoc","RankRutLocEvent","topReward","TopRewardResEvent","instance","getInstance","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["let TaiXiuEvent = require('TaiXiuEvent')\r\nlet TaiXiuController = SmartFoxSDK.BaseController.extend({\r\n    m_tableInfo : null,\r\n    registerEvents(){\r\n        this._super();\r\n\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.LOAD_GAME_RES, this.onLoadGameEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.BET_RES, this.onUserBetEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.END_BETTING, this.onEndBettingEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.SESSION_DETAIL, this.onSessionDetailEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.SOI_CAU_RES, this.onSoiCauEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TAN_LOC, this.onTanLocEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.RUT_LOC, this.onRutLocEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.HISTORY_TAN_LOC, this.onHistoryTanLocEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.HISTORY_RUT_LOC, this.onHistoryRutLocEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_BET, this.onTopBetEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_BET_REWARD, this.onTopBetRewardEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_BET_RULE, this.onTopBetRuleEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.RANK_TAN_LOC, this.onRankTanLocEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.RANK_RUT_LOC, this.onRankRutLocEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.PUBLIC_MSG, this.onPublicMessageChat, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_REWARD_RES, this.onTopRewardResEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.UPDATE_STATE_POT, this.onUpdateStatePot, this);\r\n    },\r\n    removeEvents(){\r\n        this._super();\r\n\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.LOAD_GAME_RES, this.onLoadGameEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.BET_RES, this.onUserBetEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.END_BETTING, this.onEndBettingEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.SESSION_DETAIL, this.onSessionDetailEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.SOI_CAU_RES, this.onSoiCauEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TAN_LOC, this.onTanLocEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.RUT_LOC, this.onRutLocEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.HISTORY_TAN_LOC, this.onHistoryTanLocEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.HISTORY_RUT_LOC, this.onHistoryRutLocEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_BET, this.onTopBetEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_BET_REWARD, this.onTopBetRewardEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_BET_RULE, this.onTopBetRuleEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.RANK_TAN_LOC, this.onRankTanLocEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.RANK_RUT_LOC, this.onRankRutLocEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.PUBLIC_MSG, this.onPublicMessageChat, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_REWARD_RES, this.onTopRewardResEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.UPDATE_STATE_POT, this.onUpdateStatePot, this);\r\n    },\r\n    onEventLogin(event){\r\n        this._super(event);\r\n        this._requestJoinRoom(this.zoneName);\r\n    },\r\n    onPublicMessage(event){\r\n        let sender = event.sender;\r\n        let msg = event.message;\r\n        let data = event.data;\r\n        let dataSender = data != null ? {dn: data.get(\"dn\"), fb : data.get(\"fb\")} : {dn: \"...\", fb : \"\"};\r\n        let msgItem = {};\r\n        msgItem.sender = sender;\r\n        msgItem.msg = msg;\r\n        msgItem.dataSender = dataSender;\r\n        this.getUI().onPublicMessage(msgItem);\r\n    },\r\n    onPublicMessageChat(event){\r\n        let publicMsg = new TaiXiuEvent.PublicMessagecEvent().fromEvent(event);\r\n        let msgItem = {};\r\n        let sender = {};\r\n        sender.dn = publicMsg.un;\r\n        msgItem.sender = sender;\r\n        msgItem.msg = publicMsg.msg;\r\n        msgItem.dataSender = {};\r\n        msgItem.dataSender.dn = sender.dn;\r\n        this.getUI().onPublicMessage(msgItem);\r\n    },\r\n    onHistoryEvent(event){\r\n        let data = event.getSArray(\"d\");\r\n        let items = [];\r\n        for(let i = 0; i < data.size(); i++){\r\n            let sItem = data.get(i).getObject();\r\n            let item = {};\r\n            item.session = sItem.getDouble(\"id\").toFixed(0);\r\n            item.time = sItem.getUtfString(\"t\");\r\n            item.stakes = sItem.getDouble(\"b\");\r\n            item.win = sItem.getDouble(\"w\");\r\n            item.refund = sItem.getDouble(\"rf\");\r\n            let result = sItem.getByteArray(\"rs\");\r\n            item.result = result\r\n            item.cua = this._getNameResult(result);\r\n            items.push(item);\r\n        }\r\n        this.getUI().updateDataHistory(items);\r\n        // UIManger.show(\"UITaiXiuTransaction\", {pop: true, src: 'taixiu', data: {items: items}});\r\n    },\r\n    _getNameResult(result){\r\n        let cua = 'Tài';\r\n        let point = 0;\r\n        for(let i = 0; i < result.length;i++){\r\n            point += result[i];\r\n        }\r\n        if(point <= 10)\r\n            return \"Xỉu\";\r\n        return cua;\r\n    },\r\n    onLeaderBoardEvent(event){\r\n        let data = event.getSArray(\"d\");\r\n        let items = [];\r\n        for(let i = 0;i < data.size();i++){\r\n            let sItem = data.get(i).getObject();\r\n            let item = {};\r\n            item.session = i;\r\n            item.account = sItem.getUtfString(\"dn\");\r\n            item.win = sItem.getDouble(\"m\");\r\n            item.time = sItem.getUtfString(\"t\");\r\n            item.win_type = \"Thắng\";\r\n            items.push(item);\r\n        }\r\n        this.getUI().updateDataRank(items);\r\n        // UIManger.show(\"UITaiXiuRank\", {pop: true, src: 'taixiu', data: {items: items}});\r\n    },\r\n    onEventUserExitRoom(event){\r\n        let user = event.user;\r\n        if(user.isItMe){\r\n            cc.currentUI  = \"\";\r\n            mm.Loading.hide();\r\n            this.getUI().back();\r\n        }\r\n    },\r\n    onLoadGameEvent(event){\r\n        this.preLoadUI({pop: true}, function () {\r\n            this.m_tableInfo = new TaiXiuEvent.LoadGameEvent().fromEvent(event);\r\n            cc.lastTime      = this.m_tableInfo.time + new Date().getTime()/1000;\r\n            this.getUI().setPrepareBet([\"Đặt\",\"Đặt\"]);\r\n            this.getUI().controller = this;\r\n            this.getUI().showGame(this.m_tableInfo.allowRutlLoc, this.m_tableInfo.fundRutloc);\r\n            this.getUI().resetBetTaiXiu();\r\n            this.getUI().updateListChat(this.m_tableInfo.listChat);\r\n            this.getUI().showListUsers(this.m_tableInfo.listUsers);\r\n            this.getUI().updateSessionId(cc.listCau[cc.listCau.length -1].sessionId);\r\n            this.getUI().updateListCau();\r\n            this.resumeGame();\r\n        }.bind(this))\r\n    },\r\n    resumeGame() {\r\n        if (this.m_tableInfo != null) {\r\n            this.m_tableInfo.time =  Math.floor(cc.lastTime - new Date().getTime()/1000);\r\n            this.getUI().showListChipBet(this.m_tableInfo.listChipPot);\r\n            this.getUI().showListMyChipBet(this.m_tableInfo.listMyChipPot);\r\n            this.getUI()._turnOfTime();\r\n            this.getUI().hideResultNumber();\r\n            this.getUI().hide3D();\r\n            this.getUI().stopEffectResult();\r\n            if(this.m_tableInfo.isBetting){\r\n                this.getUI()._turnOnTime(this.m_tableInfo.time);\r\n            }else{\r\n                this.getUI().cancua(this.m_tableInfo.time);\r\n            }\r\n        }\r\n    },\r\n    onUpdateStatePot(event){\r\n        if(this.getUI() == null)\r\n            return;\r\n        let statePot = new TaiXiuEvent.UpdateStatePotEvent().fromEvent(event);\r\n        this.m_tableInfo.listChipPot[0] = statePot.potTai;\r\n        this.m_tableInfo.listChipPot[1] = statePot.potXiu;\r\n\r\n        this.getUI().showListChipBet(this.m_tableInfo.listChipPot);\r\n        this.getUI().showListUsers([statePot.ccuTai, statePot.ccuXiu]);\r\n    },\r\n    onUserBetEvent(event){\r\n        if(this.getUI() == null)\r\n            return;\r\n        let userBet = new TaiXiuEvent.BetEvent().fromEvent(event);\r\n        let userName = userBet.userName;\r\n        let betChip = userBet.betChip;\r\n        let typePot = userBet.typePot;\r\n        this.m_tableInfo.listChipPot[typePot] += betChip;\r\n        this.getUI().showListChipBet(this.m_tableInfo.listChipPot);\r\n        this.getUI().showListUsers(userBet.listUsers);\r\n        if(this.ZoneInstance.mySelf.name == userName){\r\n            this.m_tableInfo.listMyChipPot[typePot] += betChip;\r\n            this.getUI().showListMyChipBet(this.m_tableInfo.listMyChipPot);\r\n            this.getUI().setPrepareBet([\"Đặt\",\"Đặt\"]);\r\n            this.getUI()._currentBet = 0;\r\n            this.getUI().updateChipAll();\r\n        }\r\n    },\r\n    onEndBettingEvent(event){\r\n        if(this.getUI() == null)\r\n            return;\r\n        let endBetting = new TaiXiuEvent.EndBetting().fromEvent(event);\r\n        this.m_tableInfo.isBetting      = false;\r\n        this.m_tableInfo.refundChip     = endBetting.refundChip;\r\n        this.m_tableInfo.winChip        = endBetting.winChip;\r\n        this.m_tableInfo.result         = endBetting.result;\r\n        this.m_tableInfo.playType       = endBetting.playType;\r\n\r\n        this.getUI().updateThangThua(this.m_tableInfo.playType);\r\n        // this.getUI().cancua(16);\r\n        // this.getUI().updateDataCau();\r\n        cc.lastTime  =  16.5 + new Date().getTime()/1000;\r\n        this.getUI().updateDataCau();\r\n        this.getUI().isPlayedAnimation = false;\r\n        this.resumeGame();\r\n    },\r\n    onSessionDetailEvent(event){\r\n        if(this.getUI() == null)\r\n            return;\r\n        let sessionDetail = new TaiXiuEvent.SessionDetail().fromEvent(event);\r\n        this.getUI().updateDataSessionDetail(sessionDetail);\r\n        // UIManger.show(\"UITaiXiuSessionDetail\", {pop: true, src: 'taixiu', data: sessionDetail});\r\n    },\r\n    onSoiCauEvent(event) {\r\n        if(this.getUI() == null)\r\n            return;\r\n        let listCau = new TaiXiuEvent.SoiCauEvent().fromEvent(event);\r\n        this.getUI().updateTaiXiuSoiCau(listCau);\r\n        // UIManger.show(\"UITaiXiuSoiCau\", {pop: true, src: 'taixiu', data: listCau});\r\n    },\r\n    onTanLocEvent(event) {\r\n        if(this.getUI() == null)\r\n            return;\r\n        let tanLoc   = new TaiXiuEvent.TanLocEvent().fromEvent(event);\r\n        let uiTanLoc = this.getUIByName(\"UITaiXiuTanLoc\");\r\n        if (uiTanLoc!= null)\r\n            uiTanLoc.tanLocRes(tanLoc);\r\n        this.getUI().showGame(null, tanLoc.fund);\r\n        this.onEventUpdateChip(0);\r\n    },\r\n    onRutLocEvent(event) {\r\n        if(this.getUI() == null)\r\n            return;\r\n        let rutLoc = new TaiXiuEvent.RutLocEvent().fromEvent(event);\r\n        this.getUI().showResultRutLoc(rutLoc);\r\n        this.getUI().showGame(null, rutLoc.fund);\r\n        this.onEventUpdateChip(0);\r\n    },\r\n    onHistoryTanLocEvent(event) {\r\n        if(this.getUI() == null)\r\n            return;\r\n        let historyTanLoc = new TaiXiuEvent.HistoryTanLocEvent().fromEvent(event);\r\n        let uiTanLoc = this.getUIByName(\"UITaiXiuDuaTop\");\r\n        if (uiTanLoc!= null)\r\n            uiTanLoc.updateDataList(historyTanLoc);\r\n    },\r\n    onHistoryRutLocEvent(event) {\r\n        if(this.getUI() == null)\r\n            return;\r\n        let historyRutLoc = new TaiXiuEvent.HistoryRutLocEvent().fromEvent(event);\r\n        let uiTanLoc = this.getUIByName(\"UITaiXiuDuaTop\");\r\n        if (uiTanLoc!= null)\r\n            uiTanLoc.updateDataList(historyRutLoc);\r\n    },\r\n    onTopBetEvent(event) {\r\n        if(this.getUI() == null)\r\n            return;\r\n        let listTopBet = new TaiXiuEvent.TopBetEvent().fromEvent(event);\r\n        let uiTanLoc = this.getUIByName(\"UITaiXiuDuaTop\");\r\n        if (uiTanLoc!= null)\r\n            uiTanLoc.updateDataList(listTopBet);\r\n    },\r\n    onTopBetRewardEvent(event) {\r\n        if(this.getUI() == null)\r\n            return;\r\n        let betReward = new TaiXiuEvent.TopBetRewardEvent().fromEvent(event);\r\n        if(this.getUI() == null)\r\n            return;\r\n        this.getUI().showReward(betReward);\r\n    },\r\n    onTopBetRuleEvent(event) {\r\n        if(this.getUI() == null)\r\n            return;\r\n        let listTopBetRule = new TaiXiuEvent.TopBetRuleEvent().fromEvent(event);\r\n        let uiTanLoc = this.getUIByName(\"UITaiXiuDuaTop\");\r\n        if (uiTanLoc!= null)\r\n            uiTanLoc.updateDataList(listTopBetRule);\r\n    },\r\n    onRankTanLocEvent(event) {\r\n        if(this.getUI() == null)\r\n            return;\r\n        let rankTanLoc = new TaiXiuEvent.RankTanLocEvent().fromEvent(event);\r\n        let uiTanLoc = this.getUIByName(\"UITaiXiuDuaTop\");\r\n        if (uiTanLoc!= null)\r\n            uiTanLoc.updateDataList(rankTanLoc);\r\n    },\r\n    onRankRutLocEvent(event) {\r\n        if(this.getUI() == null)\r\n            return;\r\n        let rankRutLoc = new TaiXiuEvent.RankRutLocEvent().fromEvent(event);\r\n        let uiTanLoc = this.getUIByName(\"UITaiXiuDuaTop\");\r\n        if (uiTanLoc!= null)\r\n            uiTanLoc.updateDataList(rankRutLoc);\r\n    },\r\n    onTopRewardResEvent(event) {\r\n        if(this.getUI() == null)\r\n            return;\r\n        let topReward = new TaiXiuEvent.TopRewardResEvent().fromEvent(event);\r\n        let uiTanLoc = this.getUIByName(\"UITaiXiuDuaTop\");\r\n        if (topReward!= null)\r\n            uiTanLoc.updateDataList(topReward);\r\n    },\r\n});\r\nlet instance = null;\r\nlet getInstance = function () {\r\n    if(instance == null)\r\n        instance = new TaiXiuController(\"UITaiXiu\", \"taixiu\");\r\n    return instance;\r\n}\r\nSmartFoxSDK.TaiXiuController = module.exports = getInstance();\r\n"]}