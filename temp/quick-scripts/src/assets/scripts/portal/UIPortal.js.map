{"version":3,"sources":["assets/scripts/portal/UIPortal.js"],"names":["cc","Class","VozBaseComponent","properties","hoiXoayDapXoay","Node","progressBar","ProgressBar","lb_loading","Label","lbUpdate","onEnable","debug","setDisplayStats","updateProcess","sys","isNative","scheduleOnce","loadResources","isValid","self","script","getComponent","hotUpdate","ui","string","push","os","OS_ANDROID","OS_IOS","loader","loadResArray","Asset","completedCount","totalCount","item","err","assets","console","log","i","length","setAutoReleaseRecursively","loadFinish","process","percent","parseFloat","progress","Math","floor","show"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.VozBaseComponent,\n\n    properties: {\n        hoiXoayDapXoay: cc.Node,\n        progressBar: cc.ProgressBar,\n        lb_loading: cc.Label,\n        lbUpdate: cc.Label,\n    },\n    onEnable(){\n        cc.debug.setDisplayStats(false);\n        this.updateProcess(0);\n        if (!cc.sys.isNative) {\n            this.scheduleOnce(this.loadResources, 0);\n        }else {\n            if(cc.isValid(this.hoiXoayDapXoay)){\n                let self = this;\n                let script = this.hoiXoayDapXoay.getComponent(\"HoiXoayServer\");\n                script.hotUpdate(function () {\n                    self.scheduleOnce(self.loadResources, 0);\n                });\n            }else {\n                this.scheduleOnce(this.loadResources, 0);\n            }\n        }\n    },\n    loadResources(){\n        let self = this;\n        let ui = [];\n        this.lbUpdate.string = \"Tải tài nguyên, không tốn dung lượng.\";\n        ui.push('UIHome');\n        ui.push('UILogin');\n        ui.push('taixiu/UITaiXiu');\n        ui.push('taixiu/UITaiXiuSoiCau');\n        ui.push('taixiu/UITaiXiuSessionDetail');\n        if (cc.sys.os === cc.sys.OS_ANDROID || cc.sys.os === cc.sys.OS_IOS) {\n            ui.push('UIRegister');\n            ui.push('UILobby');\n            ui.push('UIDialogOne');\n            ui.push('UIDialogBuyIn');\n            ui.push('portal/UIMenu');\n            ui.push('portal/UIPayment');\n            ui.push('rongho/UIRongHo');\n            ui.push('xocdia/UIXocDia');\n            ui.push('tlmn/UITLMN');\n            ui.push('bacay/UIBaCay');\n            ui.push('maubinh/UIMauBinh');\n            ui.push('baccarat/UIBaccarat');\n            ui.push('zeus/UIZeus');\n            ui.push('kimcuong/UIKimCuong');\n            ui.push('minipoker/UIMiniPoker');\n            ui.push('candy/UICandy');\n            ui.push('roulette/UIRoulette');\n            ui.push('baccarat/UIBaccarat');\n        }\n\n        cc.loader.loadResArray(ui, cc.Asset, function (completedCount, totalCount, item) {\n            self.updateProcess(completedCount / totalCount);\n        },function (err, assets) {\n            if(err){\n                console.log(err);\n                return;\n            }\n            for(let i = 0 ;i < assets.length;i++){\n                cc.loader.setAutoReleaseRecursively(assets[i], true);\n            }\n            self.loadFinish();\n        });\n    },\n    updateProcess(process){\n        let percent = parseFloat( process);\n        this.progressBar.progress = percent;\n        this.lb_loading.string = Math.floor(percent * 100) + \"%\";\n    },\n    loadFinish(){\n        this.show('UIHome');\n    },\n});\n"]}