{"version":3,"sources":["assets\\scripts\\zeus\\UIZeus.js"],"names":["WinGame","require","Helper","reel","line","TrialResult","Language","ListRoom","cc","Enum","Class","VozBaseComponent","properties","reels","type","iconPrefab","Prefab","noticeNode","Node","btnQuay","btnQuayNhanh","btnStopQuay","btnAutoQuay","lbNumberLine","Label","lbNumberStake","lbMoneyWin","lbSession","selectLines","listMainLines","isAuto","isFast","isSpin","isFreeSpin","red","lastResult","betSelect","roomNumber","posLineWin","totalLineWin","_TotalColumn","lb_phong","lb_sodu","lb_hu","toggleMusic","Toggle","toggleSound","bgSound","AudioClip","soundSpinMis","soundSpinWin","soundBigWin","soundJackpot","soundBonus","soundClick","soundSpin","menuSetting","_keyMusic","_keySound","_musicSlotState","_soundSlotState","_isFreeTrial","_myMoneyTrial","_mySession","onLoad","TotalItemRun","totalSymbol","winMoney","freeSpin","init","string","Utils","addDotToNumber","GameVariables","Poker","getChip","SmartFoxSDK","ZeusController","ZoneInstance","mySelf","schedule","updateJackpot","initSound","musicSave","sys","localStorage","getItem","parseInt","setItem","soundSave","isChecked","musicId","audioEngine","play","pause","onDisable","eventMusic","resume","eventSound","playSpin","playSpinMis","playSpinWin","playBigWin","playJackpot","playBonus","playClick","key","betLevel","variableJackpot","getVariable","jackpot","value","current_lb_jackpot","split","join","currentHu","parseFloat","numberTo","updateUserVariableSlot","event","changedVars","indexOf","user","isItMe","updateFreeSpin","updateUserVariable","subChip","currentUI","onEnable","mm","audio","pauseMusic","Loading","hide","undefined","numberWithCommas","getMoneyInRoom","showLineWin","self","lineArr1","lineArr2","lineArr3","Promise","all","map","index","lastArray","initRandomItems","push","length","then","result","concat","setNumberLines","totalLines","setNumberStake","totalStake","setMoneyWin","totalMoney","updateDataPhong","roomId","eventQuayNhanh","addNotice","getString","checkEnoughMoney","Toast","showToast","pauseSystemEventNode","active","autoQuay","eventAutoQuay","runQuay","getTotalBet","ZeusRun","getItemTrial","betRequest","ZeusRequest","BetRequest","setBet","setLinesBet","send","toSRequest","eventStopQuay","request","StopAutoPlayRequest","eventPhong","data","getTotalLineSelect","eventSelectLines","eventOpen","totalBet","typeLine","listLine","i","eventQuay","AutoPlayRequest","bet","getTotalLine","getTotalLineLe","getTotalLineChan","setLineLe","setLineChan","setLine","nodeEvent","isPause","setMaterialGray","getComponent","Sprite","pauseSystemEvents","resumeSystemEvents","eventBack","UIManger","show","pop","src","eventSetting","eventVinhDanh","CasinoRequest","LeaderBoardRequest","eventLichSuGiaoDich","HistoryRequest","eventBangThuong","getDataResult","cel","cel_index","icon","icons","setIcon","lineWin","freeGift","xSpecial","isBonus","isFree","session","isNoHu","isNohu","isThangLon","runReels","numberItem","listItem","random","newArray","randomArr","reformatResult","size","res","slice","runActionWon","runWinGame","setTimeout","bind","setEventMainLine","children","mainLine","isShow","posLine","onEf","scheduleOnce","offEf","showMainLine","unschedule","offhover","spin","copy","Math","pow","checkHasMoney","message","getChildByName"],"mappings":"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","sourceRoot":"/","sourcesContent":["let WinGame     = require(\"ZeusWinGame\");\r\nlet Helper      = require(\"Helper\");\r\nlet reel        = require(\"ZeusReel\");\r\nlet line        = require(\"ZeusLine\");\r\nlet TrialResult = require(\"ZeusTrialResult\");\r\nlet Language    = require(\"zeusLanguage\");\r\nlet ListRoom = cc.Enum({\r\n    \"1l\"   : 1,\r\n    \"1k\"    : 2,\r\n    \"10k\"   : 3\r\n});\r\ncc.Class({\r\n    extends: cc.VozBaseComponent,\r\n\r\n    properties: {\r\n        reels: {\r\n            default: [],\r\n            type: reel,\r\n        },\r\n        iconPrefab          : cc.Prefab,\r\n        noticeNode             : cc.Node,\r\n        btnQuay             : cc.Node,\r\n        btnQuayNhanh        : cc.Node,\r\n        btnStopQuay         : cc.Node,\r\n        btnAutoQuay         : cc.Node,\r\n        lbNumberLine        : cc.Label,\r\n        lbNumberStake       : cc.Label,\r\n        lbMoneyWin          : cc.Label,\r\n        lbSession           : cc.Label,\r\n        selectLines         : line,\r\n        WinGame             : WinGame,\r\n        listMainLines       : cc.Node,\r\n        // edtCheat           : cc.EditBox,\r\n        isAuto              : false,\r\n        isFast              : false,\r\n        isSpin              : false,\r\n        isFreeSpin          : false,\r\n        red                 : true,\r\n        lastResult          : [],\r\n        betSelect           : 0,\r\n        roomNumber          : 0,\r\n        posLineWin          : 0,\r\n        totalLineWin        : 0,\r\n        _TotalColumn        : 5,\r\n        lb_phong: cc.Label,\r\n        lb_sodu: cc.Label,\r\n        lb_hu: cc.Label,\r\n        toggleMusic: cc.Toggle,\r\n        toggleSound: cc.Toggle,\r\n        bgSound: cc.AudioClip,\r\n        soundSpinMis: cc.AudioClip,\r\n        soundSpinWin: cc.AudioClip,\r\n        soundBigWin: cc.AudioClip,\r\n        soundJackpot: cc.AudioClip,\r\n        soundBonus: cc.AudioClip,\r\n        soundClick: cc.AudioClip,\r\n        soundSpin: cc.AudioClip,\r\n        menuSetting: cc.Node,\r\n        _keyMusic: \"music_kc\",\r\n        _keySound: \"sound_kc\",\r\n        _musicSlotState : 0,\r\n        _soundSlotState : 0,\r\n        _isFreeTrial : false,\r\n        _myMoneyTrial : 0,\r\n        _mySession : 0,\r\n    },\r\n    onLoad () {\r\n        this._TotalColumn     = 5;\r\n        this.TotalItemRun     = 20;\r\n        this.totalSymbol      = 7;\r\n        this.winMoney         = 0;\r\n        this.freeSpin         = 0;\r\n        this.init();\r\n        this.roomNumber       = ListRoom[\"1l\"];\r\n        this.lb_sodu.string = Utils.addDotToNumber(GameVariables.Poker.getChip(SmartFoxSDK.ZeusController.ZoneInstance.mySelf));\r\n        this.schedule(this.updateJackpot, 3);\r\n        this.updateJackpot();\r\n        this.initSound();\r\n    },\r\n    initSound() {\r\n        var musicSave = cc.sys.localStorage.getItem(this._keyMusic);\r\n        if (musicSave != null) {\r\n            this._musicSlotState = parseInt(musicSave);\r\n        } else {\r\n            this._musicSlotState = 1;\r\n            cc.sys.localStorage.setItem(this._keyMusic, \"1\");\r\n        }\r\n\r\n        var soundSave = cc.sys.localStorage.getItem(this._keySound);\r\n        if (soundSave != null) {\r\n            this._soundSlotState = parseInt(soundSave);\r\n        } else {\r\n            this._soundSlotState = 1;\r\n            cc.sys.localStorage.setItem(this._keySound, \"1\");\r\n        }\r\n        if(this.bgSound != null && !this.toggleMusic.isChecked) {\r\n            this.musicId = cc.audioEngine.play(this.bgSound, true, 1);\r\n        }else{\r\n            cc.audioEngine.pause(this.musicId);\r\n        }\r\n    },\r\n    onDisable(){\r\n        cc.audioEngine.pause(this.musicId);\r\n    },\r\n    eventMusic() {\r\n        this._musicSlotState         = this.toggleSound.isChecked? 0: 1;\r\n        if (!this.toggleMusic.isChecked){\r\n            cc.audioEngine.resume(this.musicId);\r\n        }else\r\n            cc.audioEngine.pause(this.musicId);\r\n        cc.sys.localStorage.setItem(this._keyMusic,  this._musicSlotState);\r\n    },\r\n    eventSound() {\r\n        this._soundSlotState = this.toggleSound.isChecked? 0: 1;\r\n        cc.sys.localStorage.setItem(this._keySound,  this._soundSlotState);\r\n    },\r\n    playSpin() {\r\n        if (this._soundSlotState == 1) {\r\n            cc.audioEngine.play(this.soundSpin, false, 1);\r\n        }\r\n    },\r\n    playSpinMis() {\r\n        if (this._soundSlotState == 1) {\r\n            cc.audioEngine.play(this.soundSpinMis, false, 1);\r\n        }\r\n    },\r\n    playSpinWin() {\r\n        if (this._soundSlotState == 1) {\r\n            cc.audioEngine.play(this.soundSpinWin, false, 1);\r\n        }\r\n    },\r\n    playBigWin() {\r\n        if (this._soundSlotState == 1) {\r\n            cc.audioEngine.play(this.soundBigWin, false, 1);\r\n        }\r\n    },\r\n    playJackpot() {\r\n        if (this._soundSlotState == 1) {\r\n            cc.audioEngine.play(this.soundJackpot, false, 1);\r\n        }\r\n    },\r\n    playBonus() {\r\n        if (this._soundSlotState == 1) {\r\n            cc.audioEngine.play(this.soundBonus, false, 1);\r\n        }\r\n    },\r\n    playClick() {\r\n        if (this._soundSlotState == 1) {\r\n            cc.audioEngine.play(this.soundClick, false, 1);\r\n        }\r\n    },\r\n    updateJackpot(){\r\n        let key = \"zeus\"+cc.betLevel;\r\n        if(SmartFoxSDK.ZeusController.ZoneInstance.mySelf){\r\n            if(SmartFoxSDK.ZeusController.ZoneInstance.mySelf){\r\n                let variableJackpot = SmartFoxSDK.ZeusController.ZoneInstance.mySelf.getVariable(key);\r\n                if(variableJackpot){\r\n                    let jackpot = variableJackpot.value;\r\n                    let current_lb_jackpot = this.lb_hu.string;\r\n                    current_lb_jackpot = current_lb_jackpot.split(\".\").join(\"\");\r\n                    let currentHu = parseFloat(current_lb_jackpot);\r\n                    Utils.numberTo(this.lb_hu, currentHu, jackpot, 1000, true);\r\n                }\r\n            }\r\n\r\n        }\r\n    },\r\n    updateUserVariableSlot(event) {\r\n        let key = \"fszeus\"+cc.betLevel;\r\n        if(event.changedVars.indexOf(key) >= 0){\r\n            // get free spine of room in here\r\n            //key: \"fs\" + \"zeus1l\" free spin of bet 100\r\n            // key: \"fs\" + \"zeus1k\" free spin of bet 1000\r\n            // key: \"fs\" + \"zeus10k\" free spin of bet 1000\r\n            if(event.user.isItMe){\r\n                let freeSpin    = SmartFoxSDK.ZeusController.ZoneInstance.mySelf.getVariable(key).value;\r\n                this.freeSpin   = freeSpin;\r\n                this.WinGame.updateFreeSpin();\r\n            }\r\n        }\r\n    },\r\n    updateUserVariable(subChip){\r\n        if (!this._isFreeTrial && cc.currentUI != \"\")\r\n            this.lb_sodu.string = Utils.addDotToNumber(GameVariables.Poker.getChip(SmartFoxSDK.ZeusController.ZoneInstance.mySelf)-subChip);\r\n    },\r\n    onEnable(){\r\n        mm.audio.pauseMusic();\r\n        mm.Loading.hide();\r\n        if (cc.betLevel == \"choithu\"){\r\n            this._isFreeTrial     = true;\r\n            this._myMoneyTrial    = 50000000;\r\n            this.lb_sodu.string   = Utils.addDotToNumber(50000000);\r\n            this._mySession       = 0;\r\n            this.lbSession.string = \"#\"+this._mySession;\r\n        }else{\r\n            this._myMoneyTrial = 0;\r\n            this._isFreeTrial  = false;\r\n        }\r\n        this.roomNumber = ListRoom[cc.betLevel];\r\n        if(this.roomNumber === undefined){\r\n            cc.betLevel = \"1l\";\r\n        }\r\n        this.roomNumber = ListRoom[cc.betLevel];\r\n        this.roomNumber = (this.roomNumber)%4;\r\n        this.roomNumber = this.roomNumber < 1 ? 1: this.roomNumber;\r\n        this.lb_phong.string = Helper.numberWithCommas(this.getMoneyInRoom());\r\n        this.selectLines.init(this);\r\n        this.WinGame.init(this);\r\n        this.lbMoneyWin.string = \"0\";\r\n        this.showLineWin(false);\r\n    },\r\n    init: function() {\r\n        let self = this;\r\n        let lineArr1 = [];\r\n        let lineArr2 = [];\r\n        let lineArr3 = [];\r\n        Promise.all(this.reels.map(function(reel, index) {\r\n            let lastArray = [];\r\n            lastArray = self.initRandomItems(self.TotalItemRun);\r\n\r\n            lineArr1.push(lastArray[lastArray.length-1]);\r\n            lineArr2.push(lastArray[lastArray.length-2]);\r\n            lineArr3.push(lastArray[lastArray.length-3]);\r\n            reel.init(self, lastArray);\r\n        })).then(result => {\r\n            self.lastResult = lineArr3.concat(lineArr2).concat(lineArr1);\r\n        });\r\n    },\r\n    setNumberLines: function(totalLines) {\r\n        this.lbNumberLine.string = totalLines;\r\n    },\r\n    setNumberStake: function(totalStake) {\r\n        this.lbNumberStake.string = Helper.numberWithCommas(totalStake*this.getMoneyInRoom());\r\n    },\r\n    setMoneyWin: function(totalMoney) {\r\n        Helper.numberTo(this.lbMoneyWin, parseInt(this.lbMoneyWin.string), totalMoney, 1200, true);\r\n        if (!this._isFreeTrial){\r\n            this.lb_sodu.string = Utils.addDotToNumber(GameVariables.Poker.getChip(SmartFoxSDK.ZeusController.ZoneInstance.mySelf));\r\n        }else{\r\n            this._myMoneyTrial = this._myMoneyTrial + totalMoney;\r\n            this.lb_sodu.string = Utils.addDotToNumber(this._myMoneyTrial);\r\n        }\r\n        this.isSpin    = false;\r\n    },\r\n    updateDataPhong(roomId) {\r\n\r\n    },\r\n    // update (dt) {},\r\n    eventQuayNhanh: function() {\r\n        if (this._isFreeTrial){\r\n            this.addNotice(Language.getString(\"noti_not_trial\"));\r\n            return;\r\n        }\r\n        if(!this.checkEnoughMoney()){\r\n            mm.Toast.showToast(1, Language.getString(\"noti_not_money\"));\r\n            return;\r\n        }\r\n        if (this.isSpin){\r\n            this.addNotice(Language.getString(\"noti_is_playing\"));\r\n            return;\r\n        }\r\n\r\n        this.isSpin = true;\r\n        this.isFast = true;\r\n        this.isAuto = true;\r\n        this.pauseSystemEventNode(this.btnAutoQuay, false);\r\n        this.pauseSystemEventNode(this.btnQuayNhanh, true);\r\n        this.btnStopQuay.active = true;\r\n        this.autoQuay();\r\n    },\r\n    eventAutoQuay: function() {\r\n        if (this._isFreeTrial){\r\n            this.addNotice(Language.getString(\"noti_not_trial\"));\r\n            return;\r\n        }\r\n        if(!this.checkEnoughMoney()){\r\n            mm.Toast.showToast(1, Language.getString(\"noti_not_money\"));\r\n            return;\r\n        }\r\n        if (this.isSpin){\r\n            this.addNotice(Language.getString(\"noti_is_playing\"));\r\n            return;\r\n        }\r\n        this.isSpin = true;\r\n        this.isFast = false;\r\n        this.isAuto = true;\r\n        this.pauseSystemEventNode(this.btnAutoQuay, true);\r\n        this.pauseSystemEventNode(this.btnQuayNhanh, false);\r\n        this.btnStopQuay.active = true;\r\n        this.autoQuay();\r\n    },\r\n    runQuay() {\r\n        if (this._isFreeTrial){\r\n            this.isSpin    = true;\r\n            this._myMoneyTrial = this._myMoneyTrial-this.getTotalBet();\r\n            if (this.freeSpin < 1)\r\n                this.lb_sodu.string = Utils.addDotToNumber(this._myMoneyTrial);\r\n            if (this._myMoneyTrial < 1)\r\n                mm.Toast.showToast(1, Language.getString(\"noti_not_money\"));\r\n            this._mySession++;\r\n            this.ZeusRun(TrialResult.getItemTrial());\r\n            this.freeSpin--;\r\n        }else{\r\n            this.playSpin();\r\n            this.isSpin    = true;\r\n            let betRequest = new ZeusRequest.BetRequest();\r\n            this.showLineWin(false);\r\n            betRequest.setBet(this.getMoneyInRoom());\r\n            this.setLinesBet(betRequest);\r\n            if(!this.checkEnoughMoney()){\r\n                mm.Toast.showToast(1, Language.getString(\"noti_not_money\"));\r\n                return;\r\n            }\r\n            SmartFoxSDK.ZeusController.ZoneInstance.send(betRequest.toSRequest());\r\n            // sub money\r\n            if (this.freeSpin < 1)\r\n                this.lb_sodu.string = Utils.addDotToNumber(GameVariables.Poker.getChip(SmartFoxSDK.ZeusController.ZoneInstance.mySelf) - this.getTotalBet());\r\n        }\r\n    },\r\n    eventStopQuay: function() {\r\n        this.isFast = false;\r\n        this.isAuto = false;\r\n        this.btnStopQuay.active = false;\r\n        this.pauseSystemEventNode(this.btnAutoQuay, false);\r\n        this.pauseSystemEventNode(this.btnQuayNhanh, false);\r\n\r\n        let request = new ZeusRequest.StopAutoPlayRequest();\r\n        SmartFoxSDK.ZeusController.ZoneInstance.send(request.toSRequest());\r\n    },\r\n    eventPhong: function(event, data) {\r\n        if (this._isFreeTrial){\r\n            this.addNotice(Language.getString(\"noti_not_trial\"));\r\n            return;\r\n        }\r\n        if (this.isSpin || this.isAuto || this.isFast){\r\n            this.addNotice(Language.getString(\"noti_is_playing\"));\r\n            return;\r\n        }\r\n        this.roomNumber = (this.roomNumber + 1)%4;\r\n        this.roomNumber = this.roomNumber < 1 ? 1: this.roomNumber;\r\n        this.lb_phong.string = Helper.numberWithCommas(this.getMoneyInRoom());\r\n       this.setNumberStake(this.selectLines.getTotalLineSelect());\r\n        if(this.roomNumber == 1){\r\n            cc.betLevel = \"1l\";\r\n        }else if(this.roomNumber == 2){\r\n            cc.betLevel = \"1k\";\r\n        }else if(this.roomNumber == 3){\r\n            cc.betLevel = \"10k\";\r\n        }\r\n        this.updateJackpot();\r\n    },\r\n    eventSelectLines: function(){\r\n        if (this._isFreeTrial){\r\n            this.addNotice(Language.getString(\"noti_not_trial\"));\r\n            return;\r\n        }\r\n        if (this.isSpin || this.isAuto || this.isFast){\r\n\r\n            this.addNotice(Language.getString(\"noti_is_playing\"));\r\n            return;\r\n        }\r\n        this.selectLines.eventOpen();\r\n    },\r\n    checkEnoughMoney(){\r\n        let totalBet = this.getMoneyInRoom() * 25;\r\n        switch (this.selectLines.typeLine) {\r\n            case 1:\r\n                totalBet = this.getMoneyInRoom() * 13;\r\n                break;\r\n            case 2:\r\n                totalBet = this.getMoneyInRoom() * 12;\r\n                break;\r\n            case 3:\r\n                let listLine = [];\r\n                for (let i=1; i< this.selectLines.data.length; i++){\r\n                    if (this.selectLines.data[i]){\r\n                        listLine.push(i);\r\n                    }\r\n                }\r\n                totalBet = this.getMoneyInRoom() * listLine.length;\r\n                break;\r\n        }\r\n        if(GameVariables.Poker.getChip(SmartFoxSDK.ZeusController.ZoneInstance.mySelf) < totalBet){\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    autoQuay() {\r\n        if (this._isFreeTrial){\r\n            if (this.freeSpin > 0){\r\n                this.eventQuay();\r\n            }\r\n        }else {\r\n            if (this.freeSpin < 1){\r\n                if (this.isAuto){\r\n                    let request    = new ZeusRequest.AutoPlayRequest();\r\n                    request.setBet(this.getMoneyInRoom());\r\n                    this.setLinesBet(request);\r\n                    if(!this.checkEnoughMoney()){\r\n                        mm.Toast.showToast(1, Language.getString(\"noti_not_money\"));\r\n                        return;\r\n                    }\r\n                    SmartFoxSDK.ZeusController.ZoneInstance.send(request.toSRequest());\r\n                    this.lb_sodu.string = Utils.addDotToNumber(GameVariables.Poker.getChip(SmartFoxSDK.ZeusController.ZoneInstance.mySelf) - this.getTotalBet());\r\n                }\r\n            }else{\r\n                this.eventQuay();\r\n            }\r\n        }\r\n    },\r\n\r\n    getTotalBet(){\r\n        let bet = this.getMoneyInRoom();\r\n        switch (this.selectLines.typeLine) {\r\n            case 0: // all\r\n                return this.selectLines.getTotalLine() * bet;\r\n            case 1: // le\r\n                return this.selectLines.getTotalLineLe()* bet;\r\n            case 2: // chan\r\n                return this.selectLines.getTotalLineChan()* bet;\r\n            case 3:\r\n                return this.selectLines.getTotalLineSelect() * bet;\r\n        }\r\n        return bet;\r\n    },\r\n    setLinesBet(request){\r\n        switch (this.selectLines.typeLine) {\r\n            case 1:\r\n                request.setLineLe();\r\n                break;\r\n            case 2:\r\n                request.setLineChan();\r\n                break;\r\n            case 3:\r\n                let listLine = [];\r\n                for (let i=1; i< this.selectLines.data.length; i++){\r\n                    if (this.selectLines.data[i]){\r\n                        listLine.push(i);\r\n                    }\r\n                }\r\n                request.setLine(listLine);\r\n                break;\r\n        }\r\n    },\r\n    eventQuay: function() {\r\n        if(!this._isFreeTrial && !this.checkEnoughMoney()){\r\n            mm.Toast.showToast(1, Language.getString(\"noti_not_money\"));\r\n            return;\r\n        }\r\n        this.pauseSystemEventNode(this.btnQuay, true);\r\n        this.runQuay();\r\n    },\r\n    pauseSystemEventNode: function(nodeEvent, isPause) {\r\n        Helper.setMaterialGray( nodeEvent.getComponent(cc.Sprite), isPause);\r\n        if (isPause){\r\n            nodeEvent.pauseSystemEvents(true);\r\n        }else\r\n            nodeEvent.resumeSystemEvents(true);\r\n    },\r\n    eventBack: function() {\r\n        if (this.isSpin || this.isAuto || this.isFast){\r\n            this.addNotice(Language.getString(\"noti_is_playing\"));\r\n            return;\r\n        }\r\n        UIManger.show(\"UIZeusLobby\", {pop: true, src: \"zeus\"});\r\n    },\r\n    eventSetting: function() {\r\n        this.menuSetting.active = !this.menuSetting.active;\r\n    },\r\n    eventVinhDanh: function() {\r\n        let request = new CasinoRequest.LeaderBoardRequest();\r\n        SmartFoxSDK.ZeusController.ZoneInstance.send(request.toSRequest());\r\n    },\r\n    eventLichSuGiaoDich: function() {\r\n        let request = new CasinoRequest.HistoryRequest();\r\n        SmartFoxSDK.ZeusController.ZoneInstance.send(request.toSRequest());\r\n    },\r\n    eventBangThuong: function() {\r\n        this.show(\"UIZeusHelper\", {pop: true, src: \"zeus\"});\r\n    },\r\n    ZeusRun: function(data){\r\n        this.showLineWin(false);\r\n        var self = this;\r\n        let result = this.getDataResult(data.result);\r\n        Promise.all(result.map(function(cel, cel_index){\r\n            Promise.all(cel.map(function(icon, index){\r\n                self.reels[cel_index].icons[index].setIcon(icon, true);\r\n            }));\r\n        }));\r\n        this.lineWin    = data.lineWin;\r\n        this.winMoney   = data.winMoney;\r\n        this.freeGift   = data.freeGift;\r\n        this.xSpecial   = data.xSpecial;\r\n        this.isBonus    = data.isBonus;\r\n        this.isFree     = data.isFreeSpin;\r\n        this.session    = data.session;\r\n        this.isNoHu     = data.isNohu;\r\n        this.isThangLon = data.isThangLon;\r\n        this.freeSpin   = data.freeSpin;\r\n        this.type       = data.type;\r\n        this.runReels();\r\n        if (!data.isFreeSpin)\r\n            this.WinGame.updateFreeSpin();\r\n        if (this._isFreeTrial){\r\n            this.lbSession.string = \"#\"+this._mySession;\r\n        }else{\r\n            this.lbSession.string = \"#\"+this.session;\r\n        }\r\n    },\r\n    initRandomItems: function(numberItem) {\r\n        let listItem = [];\r\n        for (let i=0; i< numberItem; i++){\r\n            listItem[i] = this.random();\r\n        }\r\n        return listItem;\r\n    },\r\n    getDataResult: function(result) {\r\n        let self = this;\r\n        let newArray = [];\r\n        for (let i=0; i< this._TotalColumn; i++){\r\n            newArray[i] = [];\r\n        }\r\n        for (let i=0; i< result.length; i++) {\r\n            newArray[i%self._TotalColumn].push(result[i]);\r\n        }\r\n        for (let i=0; i< this._TotalColumn; i++){\r\n            let randomArr = this.initRandomItems(this.TotalItemRun-6);\r\n            newArray[i] = newArray[i].concat(randomArr);\r\n        }\r\n        for (let i=0; i<  this.lastResult.length; i++) {\r\n            newArray[i%self._TotalColumn].push( this.lastResult[i]);\r\n        }\r\n        this.lastResult = result;\r\n        return newArray;\r\n    },\r\n    reformatResult(result, size) {\r\n        let res = [];\r\n        for(let i=0;i < result.length; i = i+size)\r\n            res.push(result.slice(i,i+size));\r\n        return res;\r\n    },\r\n    runActionWon: function() {\r\n        this.showLineWin(true);\r\n        this.WinGame.runWinGame();\r\n        this.pauseSystemEventNode(this.btnQuay, false);\r\n    },\r\n    resume() {\r\n        if (this.winMoney > 0){\r\n            setTimeout(function(){\r\n                this.WinGame.runWinGame();\r\n            }.bind(this), 300);\r\n        }else {\r\n            this.WinGame.runWinGame();\r\n        }\r\n    },\r\n    setEventMainLine: function(isPause) {\r\n        Promise.all(this.listMainLines.children.map(function(mainLine, index){\r\n            if (isPause)\r\n                mainLine.pauseSystemEvents(true);\r\n            else\r\n                mainLine.resumeSystemEvents(true);\r\n        }));\r\n    },\r\n    showLineWin: function(isShow) {\r\n        // add money\r\n        let self = this;\r\n        if (isShow){\r\n            this.setEventMainLine(isShow);\r\n            this.totalLineWin   = this.lineWin.length;\r\n            this.posLineWin     = 0;\r\n            if (this.totalLineWin > 0){\r\n                Promise.all(this.lineWin.map(function(posLine){\r\n                    self.listMainLines.children[posLine].getComponent(\"ZeusMainLine\").onEf();\r\n                }));\r\n                this.scheduleOnce(function(){\r\n                    Promise.all(self.lineWin.map(function(posLine){\r\n                        self.listMainLines.children[posLine].getComponent(\"ZeusMainLine\").offEf();\r\n                    }));\r\n                    self.schedule( this.showMainLine, 1);\r\n                }, 2);\r\n            }\r\n        }else {\r\n            this.unschedule(this.showMainLine);\r\n            if (this.lineWin && this.lineWin.length > 0) {\r\n                Promise.all(this.lineWin.map(function (posLine) {\r\n                    self.listMainLines.children[posLine].getComponent(\"ZeusMainLine\").offhover();\r\n                    self.listMainLines.children[posLine].pauseSystemEvents(true);\r\n                }));\r\n            }\r\n        }\r\n    },\r\n    showMainLine: function() {\r\n        if (this.lineWin.length > 0){\r\n            if (this.listMainLines.children[this.lineWin[this.posLineWin%this.totalLineWin]] != undefined)\r\n                this.listMainLines.children[this.lineWin[this.posLineWin%this.totalLineWin]].getComponent(\"ZeusMainLine\").offEf();\r\n            this.posLineWin = (this.posLineWin+1)%this.totalLineWin;\r\n            if (this.listMainLines.children[this.lineWin[this.posLineWin]] != undefined)\r\n                this.listMainLines.children[this.lineWin[this.posLineWin]].getComponent(\"ZeusMainLine\").onEf();\r\n        }\r\n    },\r\n    runReels: function () {\r\n        Promise.all(this.reels.map(function(reel, index) {\r\n            reel.spin(index);\r\n        }));\r\n    },\r\n    copy: function(){\r\n        Promise.all(this.reels.map(function(reel){\r\n            reel.icons[reel.icons.length-1].setIcon(reel.icons[2].data);\r\n            reel.icons[reel.icons.length-2].setIcon(reel.icons[1].data);\r\n            reel.icons[reel.icons.length-3].setIcon(reel.icons[0].data);\r\n        }));\r\n    },\r\n    random: function(){\r\n        return  ~~(Math.random()*this.totalSymbol);\r\n    },\r\n    getMoneyInRoom: function() {\r\n        return 10*Math.pow(10, this.roomNumber);\r\n    },\r\n    checkHasMoney: function() {\r\n        return true;\r\n    },\r\n    addNotice: function (message) {\r\n        let self = this;\r\n        this.noticeNode.active = true;\r\n        this.noticeNode.getChildByName(\"lb_noti\").getComponent(cc.Label).string = message;\r\n        setTimeout(function(){\r\n            self.noticeNode.active = false;\r\n        }, 1200);\r\n    }\r\n});\r\n"]}