{"version":3,"sources":["assets\\scripts\\zeus\\ZeusWinGame.js"],"names":["self","Helper","require","cc","Class","VozBaseComponent","properties","lbMoneyWin","Label","BonusFreeSpine","Node","NoHuCoin","ThangText","ThangLonCoin","FreeCount","onLoad","init","obj","SLV","runWinGame","bgAll","node","getChildByName","active","isThangLon","isNoHu","playBigWin","runZeusThangLon","playJackpot","runZeusNoHu","isFree","runFreeSpine","isBonus","playBonus","runBonusSpine","setMoneyWin","winMoney","updateFreeSpin","playSpinWin","numberTo","scheduleOnce","autoQuay","type","playSpinMis","freeSpin","getComponent","string","checkRunAgainWin","isAuto","sp","Skeleton","setAnimation","show","src","pop","data","freeGift","xSpecial","lbMoney","setPosition","v2","d","moveTo","runAction","sequence","delayTime","callFunc"],"mappings":";;;;;;AAAA,IAAIA,IAAJ;;AACA,IAAIC,MAAM,GAAGC,OAAO,CAAC,QAAD,CAApB;;AACAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,gBADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,UAAU,EAAYJ,EAAE,CAACK,KADjB;AAERC,IAAAA,cAAc,EAAQN,EAAE,CAACO,IAFjB;AAGRC,IAAAA,QAAQ,EAAQR,EAAE,CAACO,IAHX;AAIRE,IAAAA,SAAS,EAAOT,EAAE,CAACO,IAJX;AAKRG,IAAAA,YAAY,EAAIV,EAAE,CAACO,IALX;AAMRI,IAAAA,SAAS,EAAaX,EAAE,CAACO;AANjB,GAHP;AAYLK,EAAAA,MAZK,oBAYK;AACNf,IAAAA,IAAI,GAAG,IAAP;AACH,GAdI;AAeLgB,EAAAA,IAfK,gBAeAC,GAfA,EAeK;AACN,SAAKC,GAAL,GAAWD,GAAX;AACH,GAjBI;AAkBLE,EAAAA,UAlBK,wBAkBQ;AACT,QAAIC,KAAK,GAAO,KAAKC,IAAL,CAAUC,cAAV,CAAyB,QAAzB,CAAhB;AACAF,IAAAA,KAAK,CAACG,MAAN,GAAgB,IAAhB;;AACA,QAAI,KAAKL,GAAL,CAASM,UAAT,IAAuB,CAAC,KAAKN,GAAL,CAASO,MAArC,EAA6C;AACzC,WAAKP,GAAL,CAASQ,UAAT;AACA,WAAKC,eAAL;AACH,KAHD,MAGM,IAAI,KAAKT,GAAL,CAASO,MAAb,EAAoB;AACtB,WAAKP,GAAL,CAASU,WAAT;AACA,WAAKC,WAAL;AACH,KAHK,MAGA,IAAI,KAAKX,GAAL,CAASY,MAAb,EAAoB;AACtB,WAAKC,YAAL;AACH,KAFK,MAEA,IAAI,KAAKb,GAAL,CAASc,OAAb,EAAqB;AACvB,WAAKd,GAAL,CAASe,SAAT;AACA,WAAKC,aAAL;AACH,KAHK,MAGD;AACDlC,MAAAA,IAAI,CAACkB,GAAL,CAASiB,WAAT,CAAqBnC,IAAI,CAACkB,GAAL,CAASkB,QAA9B;AACApC,MAAAA,IAAI,CAACqC,cAAL;;AACA,UAAI,KAAKnB,GAAL,CAASkB,QAAT,GAAoB,CAAxB,EAA0B;AACtB,aAAKlB,GAAL,CAASoB,WAAT;AACA,aAAK/B,UAAL,CAAgBc,IAAhB,CAAqBE,MAArB,GAA8B,IAA9B;AACAtB,QAAAA,MAAM,CAACsC,QAAP,CAAgB,KAAKhC,UAArB,EAAiC,CAAjC,EAAoC,KAAKW,GAAL,CAASkB,QAA7C,EAAuD,IAAvD,EAA6D,IAA7D,EAAmE,YAAY;AAC3EpC,UAAAA,IAAI,CAACwC,YAAL,CAAkB,YAAU;AACxBxC,YAAAA,IAAI,CAACO,UAAL,CAAgBc,IAAhB,CAAqBE,MAArB,GAA8B,KAA9B;AACAH,YAAAA,KAAK,CAACG,MAAN,GAAgB,KAAhB;AACAvB,YAAAA,IAAI,CAACkB,GAAL,CAASuB,QAAT;AACH,WAJD,EAIG,CAJH;AAKH,SAND;AAOA,aAAKvB,GAAL,CAASkB,QAAT,GAAsB,CAAtB;AACH,OAXD,MAWK;AACDhB,QAAAA,KAAK,CAACG,MAAN,GAAgB,KAAhB;AACAvB,QAAAA,IAAI,CAACkB,GAAL,CAASuB,QAAT;AACH;AACJ;;AACD,QAAI,KAAKvB,GAAL,CAASwB,IAAT,IAAiB,CAArB,EACI,KAAKxB,GAAL,CAASyB,WAAT;AACP,GArDI;AAsDLN,EAAAA,cAtDK,4BAsDY;AACb,QAAI,KAAKnB,GAAL,CAAS0B,QAAT,GAAoB,CAAxB,EACI,KAAK9B,SAAL,CAAeS,MAAf,GAA8B,KAA9B,CADJ,KAEI;AACA,WAAKT,SAAL,CAAeS,MAAf,GAA8B,IAA9B;AACA,WAAKT,SAAL,CAAeQ,cAAf,CAA8B,qBAA9B,EAAqDuB,YAArD,CAAkE1C,EAAE,CAACK,KAArE,EAA4EsC,MAA5E,GAAqF,KAAK5B,GAAL,CAAS0B,QAA9F;AACH;AACJ,GA7DI;AA8DLG,EAAAA,gBA9DK,8BA8Dc;AACf,QAAI,KAAK7B,GAAL,CAASc,OAAT,IAAoB,KAAKd,GAAL,CAASkB,QAAT,GAAoB,CAAxC,IAA6C,KAAKlB,GAAL,CAASY,MAAtD,IAAgE,KAAKZ,GAAL,CAASO,MAAzE,IAAmF,KAAKP,GAAL,CAASM,UAA5F,IAA0G,KAAKN,GAAL,CAAS8B,MAAvH,EACI,KAAK7B,UAAL;AACP,GAjEI;AAkELY,EAAAA,YAlEK,0BAkEU;AACX,SAAKb,GAAL,CAASY,MAAT,GAA8B,KAA9B;AACA,SAAKrB,cAAL,CAAoBc,MAApB,GAA8B,IAA9B;AACA,SAAKd,cAAL,CAAoBoC,YAApB,CAAiCI,EAAE,CAACC,QAApC,EAA8CC,YAA9C,CAA2D,CAA3D,EAA8D,WAA9D,EAA2E,IAA3E;AACA,SAAKX,YAAL,CAAkB,YAAU;AACxBxC,MAAAA,IAAI,CAACqB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCC,MAAnC,GAA4C,KAA5C;AACAvB,MAAAA,IAAI,CAACS,cAAL,CAAoBc,MAApB,GAA8B,KAA9B;AACAvB,MAAAA,IAAI,CAACc,SAAL,CAAeS,MAAf,GAA8B,IAA9B;AACAvB,MAAAA,IAAI,CAACc,SAAL,CAAeQ,cAAf,CAA8B,qBAA9B,EAAqDuB,YAArD,CAAkE1C,EAAE,CAACK,KAArE,EAA4EsC,MAA5E,GAAqF9C,IAAI,CAACkB,GAAL,CAAS0B,QAA9F;AACA5C,MAAAA,IAAI,CAAC+C,gBAAL;AACH,KAND,EAMG,CANH;AAOH,GA7EI;AA8ELb,EAAAA,aA9EK,2BA8EW;AACZ,SAAKhB,GAAL,CAASc,OAAT,GAA8B,KAA9B;AACA,SAAKvB,cAAL,CAAoBc,MAApB,GAA8B,IAA9B;AACA,SAAKd,cAAL,CAAoBoC,YAApB,CAAiCI,EAAE,CAACC,QAApC,EAA8CC,YAA9C,CAA2D,CAA3D,EAA8D,WAA9D,EAA2E,IAA3E;AACA,SAAKX,YAAL,CAAkB,YAAU;AACxBxC,MAAAA,IAAI,CAACS,cAAL,CAAoBc,MAApB,GAA6B,KAA7B;AACAvB,MAAAA,IAAI,CAACoD,IAAL,CAAU,aAAV,EAAyB;AAACC,QAAAA,GAAG,EAAE,MAAN;AAAcC,QAAAA,GAAG,EAAE,IAAnB;AAAyBC,QAAAA,IAAI,EAAE;AAAC,mBAASvD,IAAI,CAACkB,GAAL,CAASsC,QAAnB;AAA6B,sBAAYxD,IAAI,CAACkB,GAAL,CAASuC,QAAlD;AAA4D,mBAASzD,IAAI,CAACkB,GAAL,CAASkB;AAA9E;AAA/B,OAAzB;AACH,KAHD,EAGG,CAHH;AAIH,GAtFI;AAuFLP,EAAAA,WAvFK,yBAuFQ;AACT,SAAKX,GAAL,CAASO,MAAT,GAAgC,KAAhC;AACA,SAAKd,QAAL,CAAcY,MAAd,GAAwB,IAAxB;AACA,QAAImC,OAAO,GAAG1D,IAAI,CAACqB,IAAL,CAAUC,cAAV,CAAyB,eAAzB,CAAd;AACAoC,IAAAA,OAAO,CAACC,WAAR,CAAoBxD,EAAE,CAACyD,EAAH,CAAM,CAAN,EAAS,CAAC,EAAV,CAApB;AACAF,IAAAA,OAAO,CAACnC,MAAR,GAAiB,IAAjB;AACA,SAAKX,SAAL,CAAeW,MAAf,GAA2B,IAA3B;AACA,SAAKX,SAAL,CAAeiC,YAAf,CAA4BI,EAAE,CAACC,QAA/B,EAAyCC,YAAzC,CAAsD,CAAtD,EAAyD,MAAzD,EAAiE,IAAjE;AACAlD,IAAAA,MAAM,CAACsC,QAAP,CAAgBmB,OAAO,CAACb,YAAR,CAAqB1C,EAAE,CAACK,KAAxB,CAAhB,EAAgD,CAAhD,EAAmD,KAAKU,GAAL,CAASkB,QAA5D,EAAsE,IAAtE,EAA4E,IAA5E,EAAkF,YAAY;AAC1FpC,MAAAA,IAAI,CAACwC,YAAL,CAAkB,YAAU;AACxB,YAAIqB,CAAC,GAAG1D,EAAE,CAAC2D,MAAH,CAAU,GAAV,EAAe3D,EAAE,CAACyD,EAAH,CAAM,CAAN,EAAS,GAAT,CAAf,CAAR;AACAF,QAAAA,OAAO,CAACK,SAAR,CAAkB5D,EAAE,CAAC6D,QAAH,CAAYH,CAAZ,EAAe1D,EAAE,CAAC8D,SAAH,CAAa,CAAb,CAAf,EAAgC9D,EAAE,CAAC+D,QAAH,CAAY,YAAY;AACtElE,UAAAA,IAAI,CAACqB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCC,MAAnC,GAA6C,KAA7C;AACAvB,UAAAA,IAAI,CAACW,QAAL,CAAcY,MAAd,GAAwB,KAAxB;AACAvB,UAAAA,IAAI,CAACY,SAAL,CAAeW,MAAf,GAAyB,KAAzB;AACAmC,UAAAA,OAAO,CAACnC,MAAR,GAAgC,KAAhC;AACAvB,UAAAA,IAAI,CAAC+C,gBAAL;AACH,SANiD,CAAhC,CAAlB;AAOH,OATD,EASG,CATH;AAUH,KAXD;AAYH,GA3GI;AA4GLpB,EAAAA,eA5GK,6BA4GY;AACb,SAAKT,GAAL,CAASM,UAAT,GAAsB,KAAtB;AACA,SAAKX,YAAL,CAAkBU,MAAlB,GAA2B,IAA3B;AACA,SAAKX,SAAL,CAAeW,MAAf,GAA2B,IAA3B;AACA,SAAKX,SAAL,CAAeiC,YAAf,CAA4BI,EAAE,CAACC,QAA/B,EAAyCC,YAAzC,CAAsD,CAAtD,EAAyD,UAAzD,EAAqE,IAArE;AACA,QAAIO,OAAO,GAAG1D,IAAI,CAACqB,IAAL,CAAUC,cAAV,CAAyB,eAAzB,CAAd;AACAoC,IAAAA,OAAO,CAACC,WAAR,CAAoBxD,EAAE,CAACyD,EAAH,CAAM,CAAN,EAAS,CAAC,EAAV,CAApB;AACAF,IAAAA,OAAO,CAACnC,MAAR,GAAiB,IAAjB;AACAtB,IAAAA,MAAM,CAACsC,QAAP,CAAgBmB,OAAO,CAACb,YAAR,CAAqB1C,EAAE,CAACK,KAAxB,CAAhB,EAAgD,CAAhD,EAAmD,KAAKU,GAAL,CAASkB,QAA5D,EAAsE,IAAtE,EAA4E,IAA5E,EAAkF,YAAY;AAC1FpC,MAAAA,IAAI,CAACwC,YAAL,CAAkB,YAAU;AACxB,YAAIqB,CAAC,GAAG1D,EAAE,CAAC2D,MAAH,CAAU,GAAV,EAAe3D,EAAE,CAACyD,EAAH,CAAM,CAAN,EAAS,GAAT,CAAf,CAAR;AACAF,QAAAA,OAAO,CAACK,SAAR,CAAkB5D,EAAE,CAAC6D,QAAH,CAAYH,CAAZ,EAAe1D,EAAE,CAAC8D,SAAH,CAAa,GAAb,CAAf,EAAkC9D,EAAE,CAAC+D,QAAH,CAAY,YAAY;AACxER,UAAAA,OAAO,CAACnC,MAAR,GAAiB,KAAjB;AACAvB,UAAAA,IAAI,CAACqB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCC,MAAnC,GAA6C,KAA7C;AACAvB,UAAAA,IAAI,CAACa,YAAL,CAAkBU,MAAlB,GAA8B,KAA9B;AACAvB,UAAAA,IAAI,CAACY,SAAL,CAAeW,MAAf,GAA8B,KAA9B;AACAvB,UAAAA,IAAI,CAAC+C,gBAAL;AACH,SANmD,CAAlC,CAAlB;AAOH,OATD,EASG,CATH;AAUH,KAXD;AAYH;AAhII,CAAT","sourceRoot":"/","sourcesContent":["let self;\r\nlet Helper = require(\"Helper\");\r\ncc.Class({\r\n    extends: cc.VozBaseComponent,\r\n\r\n    properties: {\r\n        lbMoneyWin          : cc.Label,\r\n        BonusFreeSpine      : cc.Node,\r\n        NoHuCoin    \t\t: cc.Node,\r\n        ThangText   \t\t: cc.Node,\r\n        ThangLonCoin\t\t: cc.Node,\r\n        FreeCount           : cc.Node\r\n    },\r\n\r\n    onLoad () {\r\n        self = this;\r\n    },\r\n    init(obj) {\r\n        this.SLV = obj;\r\n    },\r\n    runWinGame() {\r\n        let bgAll     = this.node.getChildByName(\"bg_all\");\r\n        bgAll.active  = true;\r\n        if (this.SLV.isThangLon && !this.SLV.isNoHu) {\r\n            this.SLV.playBigWin();\r\n            this.runZeusThangLon();\r\n        }else if (this.SLV.isNoHu){\r\n            this.SLV.playJackpot();\r\n            this.runZeusNoHu();\r\n        }else if (this.SLV.isFree){\r\n            this.runFreeSpine();\r\n        }else if (this.SLV.isBonus){\r\n            this.SLV.playBonus();\r\n            this.runBonusSpine();\r\n        }else{\r\n            self.SLV.setMoneyWin(self.SLV.winMoney);\r\n            self.updateFreeSpin();\r\n            if (this.SLV.winMoney > 0){\r\n                this.SLV.playSpinWin();\r\n                this.lbMoneyWin.node.active = true;\r\n                Helper.numberTo(this.lbMoneyWin, 0, this.SLV.winMoney, 1200, true, function () {\r\n                    self.scheduleOnce(function(){\r\n                        self.lbMoneyWin.node.active = false;\r\n                        bgAll.active  = false;\r\n                        self.SLV.autoQuay();\r\n                    }, 1);\r\n                });\r\n                this.SLV.winMoney   = 0;\r\n            }else{\r\n                bgAll.active  = false;\r\n                self.SLV.autoQuay();\r\n            }\r\n        }\r\n        if (this.SLV.type == 0)\r\n            this.SLV.playSpinMis();\r\n    },\r\n    updateFreeSpin() {\r\n        if (this.SLV.freeSpin < 1)\r\n            this.FreeCount.active       = false;\r\n        else{\r\n            this.FreeCount.active       = true;\r\n            this.FreeCount.getChildByName(\"lb_free_spine_count\").getComponent(cc.Label).string = this.SLV.freeSpin;\r\n        }\r\n    },\r\n    checkRunAgainWin() {\r\n        if (this.SLV.isBonus || this.SLV.winMoney > 0 || this.SLV.isFree || this.SLV.isNoHu || this.SLV.isThangLon || this.SLV.isAuto)\r\n            this.runWinGame();\r\n    },\r\n    runFreeSpine() {\r\n        this.SLV.isFree             = false;\r\n        this.BonusFreeSpine.active  = true;\r\n        this.BonusFreeSpine.getComponent(sp.Skeleton).setAnimation(0, 'FreeSpine', true);\r\n        this.scheduleOnce(function(){\r\n            self.node.getChildByName(\"bg_all\").active = false;\r\n            self.BonusFreeSpine.active  = false;\r\n            self.FreeCount.active       = true;\r\n            self.FreeCount.getChildByName(\"lb_free_spine_count\").getComponent(cc.Label).string = self.SLV.freeSpin;\r\n            self.checkRunAgainWin();\r\n        }, 3);\r\n    },\r\n    runBonusSpine() {\r\n        this.SLV.isBonus            = false;\r\n        this.BonusFreeSpine.active  = true;\r\n        this.BonusFreeSpine.getComponent(sp.Skeleton).setAnimation(0, 'BonusGame', true);\r\n        this.scheduleOnce(function(){\r\n            self.BonusFreeSpine.active = false;\r\n            self.show(\"UIZeusBonus\", {src: 'zeus', pop: true, data: {\"gifts\": self.SLV.freeGift, \"xSpecial\": self.SLV.xSpecial, \"total\": self.SLV.winMoney}});\r\n        }, 2);\r\n    },\r\n    runZeusNoHu(){\r\n        this.SLV.isNoHu               = false;\r\n        this.NoHuCoin.active  = true;\r\n        let lbMoney = self.node.getChildByName(\"lb_number_win\");\r\n        lbMoney.setPosition(cc.v2(0, -50));\r\n        lbMoney.active = true;\r\n        this.ThangText.active    = true;\r\n        this.ThangText.getComponent(sp.Skeleton).setAnimation(0, \"NoHu\", true);\r\n        Helper.numberTo(lbMoney.getComponent(cc.Label), 0, this.SLV.winMoney, 1200, true, function () {\r\n            self.scheduleOnce(function(){\r\n                let d = cc.moveTo(0.5, cc.v2(0, 190));\r\n                lbMoney.runAction(cc.sequence(d, cc.delayTime(1), cc.callFunc(function () {\r\n                    self.node.getChildByName(\"bg_all\").active  = false;\r\n                    self.NoHuCoin.active  = false;\r\n                    self.ThangText.active  = false;\r\n                    lbMoney.active                = false;\r\n                    self.checkRunAgainWin();\r\n                })));\r\n            }, 5);\r\n        });\r\n    },\r\n    runZeusThangLon(){\r\n        this.SLV.isThangLon = false;\r\n        this.ThangLonCoin.active = true;\r\n        this.ThangText.active    = true;\r\n        this.ThangText.getComponent(sp.Skeleton).setAnimation(0, \"ThangLon\", true);\r\n        let lbMoney = self.node.getChildByName(\"lb_number_win\");\r\n        lbMoney.setPosition(cc.v2(0, -30));\r\n        lbMoney.active = true;\r\n        Helper.numberTo(lbMoney.getComponent(cc.Label), 0, this.SLV.winMoney, 1200, true, function () {\r\n            self.scheduleOnce(function(){\r\n                let d = cc.moveTo(0.5, cc.v2(0, 170));\r\n                lbMoney.runAction(cc.sequence(d, cc.delayTime(0.5), cc.callFunc(function () {\r\n                    lbMoney.active = false;\r\n                    self.node.getChildByName(\"bg_all\").active  = false;\r\n                    self.ThangLonCoin.active    = false;\r\n                    self.ThangText.active       = false;\r\n                    self.checkRunAgainWin();\r\n                })));\r\n            }, 3);\r\n        });\r\n    },\r\n});\r\n"]}