{"version":3,"sources":["assets\\scripts\\maubinh\\MauBinhController.js"],"names":["MauBinhEvent","require","Language","MauBinhController","SmartFoxSDK","BaseController","extend","m_tableInfo","registerEvents","_super","ZoneInstance","addEventListenerExtension","CasinoEvent","RESPONSE_NAME","GROUP_GAME_RES","onGroupRoomEvent","QUICK_JOIN_GAME_RES","onQuickJoinRoom","SIT_ON_RES","onUserSitOn","SIT_OUT_RES","onUserSitOut","STAND_UP_RES","onUserStandUp","PRE_START_RES","onPreStart","START_RES","onStartEvent","KICK_RES","onKickUser","FINISH_GAME_RES","onFinishGame","LOAD_TABLE_RES","onLoadTableEvent","SHOW_DOWN_RES","onShowDownEvent","XEP_XONG_RES","onXepXongEvent","BAO_BINH_RES","onBaoBinhEvent","removeEvents","removeEventListenerExtension","onEventLogin","event","groupRequest","CasinoRequest","GroupGameRequest","setGame","zoneName","send","toSRequest","getUILobby","scene","cc","director","getScene","uiLobby","find","getComponent","name","onLeaderBoardEvent","arrLeaderboard","data","getSArray","i","size","sItem","get","getObject","item","session","account","getUtfString","win","getDouble","push","updateRank","groupRoom","GroupGameEvent","fromEvent","mm","game","undefined","groups","displayname","GameVariables","getDisplayName","mySelf","chip","getChip","UIManger","show","pop","request","LeaderBoardRequest","quickJoin","QuickJoinGameEvent","roomId","JoinRoomRequest","Toast","showToast","getString","onEventUserExitRoom","user","isItMe","getUI","node","active","removePlayer","listPlayers","ShowDownEvent","showDown","responseXepXong","XepXongResEvent","setTextXepXong","responseBaoBinh","BaoBinhResEvent","setTextBaoBinh","_data","room","preLoadUI","Loading","hide","controller","setInfoTable","id","Utils","formatCurrency","Poker","getBetChip","LoadTableInfoEvent","m_isGameStart","m_listActiveUserName","indexOf","requestSitOn","_updateNodePlayers","m_listDesk","m_isPrestart","setWaitingTimer","bind","onCanRegisterOwnerEvent","onRegisterOwner","userSitOnEvent","UserSitOnEvent","desk","DeskId","m_deskId","UserName","m_userName","DeskState","m_deskState","UserChip","m_buyIn","m_listUser","sitOutRes","UserSitOutEvent","indexUser","m_listUserSitOut","m_username","m_isSitOut","splice","player","_getJSPlayerByName","setSitOut","preStart","PreStartEvent","m_prestartTime","length","_getJSPlayerById","onPreStartEvent","newMatch","requestLeaveRoom","showDeskEmpty","self","start","StartEvent","m_currentUser","m_userTime","userOut","jsPlayer","_updateUIHandPlayers","_dealCards","m_listCard","m_gameTime","showAllButtonAction","hideDeskEmpty","FinishGameEvent","showFinishGame","kickRes","KickUserEvent","m_resType","onPublicMessage","sender","msg","message","dataSender","dn","fb","msgItem","instance","getInstance","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["let MauBinhEvent = require('MauBinhEvent');\r\nlet Language     = require('maubinhLanguage');\r\nlet MauBinhController = SmartFoxSDK.BaseController.extend({\r\n    m_tableInfo: null,\r\n    registerEvents(){\r\n        this._super();\r\n        this.ZoneInstance.addEventListenerExtension(CasinoEvent.RESPONSE_NAME.GROUP_GAME_RES, this.onGroupRoomEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(CasinoEvent.RESPONSE_NAME.QUICK_JOIN_GAME_RES, this.onQuickJoinRoom, this);\r\n\r\n        this.ZoneInstance.addEventListenerExtension(MauBinhEvent.RESPONSE_NAME.SIT_ON_RES, this.onUserSitOn, this);\r\n        this.ZoneInstance.addEventListenerExtension(MauBinhEvent.RESPONSE_NAME.SIT_OUT_RES, this.onUserSitOut, this);\r\n        this.ZoneInstance.addEventListenerExtension(MauBinhEvent.RESPONSE_NAME.STAND_UP_RES, this.onUserStandUp, this);\r\n        this.ZoneInstance.addEventListenerExtension(MauBinhEvent.RESPONSE_NAME.PRE_START_RES, this.onPreStart, this);\r\n        this.ZoneInstance.addEventListenerExtension(MauBinhEvent.RESPONSE_NAME.START_RES, this.onStartEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(MauBinhEvent.RESPONSE_NAME.KICK_RES, this.onKickUser, this);\r\n        this.ZoneInstance.addEventListenerExtension(MauBinhEvent.RESPONSE_NAME.FINISH_GAME_RES, this.onFinishGame, this);\r\n        this.ZoneInstance.addEventListenerExtension(MauBinhEvent.RESPONSE_NAME.LOAD_TABLE_RES, this.onLoadTableEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(MauBinhEvent.RESPONSE_NAME.SHOW_DOWN_RES, this.onShowDownEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(MauBinhEvent.RESPONSE_NAME.XEP_XONG_RES, this.onXepXongEvent, this);\r\n        this.ZoneInstance.addEventListenerExtension(MauBinhEvent.RESPONSE_NAME.BAO_BINH_RES, this.onBaoBinhEvent, this);\r\n    },\r\n    removeEvents(){\r\n        this._super();\r\n        this.ZoneInstance.removeEventListenerExtension(CasinoEvent.RESPONSE_NAME.GROUP_GAME_RES, this.onGroupRoomEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(CasinoEvent.RESPONSE_NAME.QUICK_JOIN_GAME_RES, this.onQuickJoinRoom, this);\r\n\r\n        this.ZoneInstance.removeEventListenerExtension(MauBinhEvent.RESPONSE_NAME.SIT_ON_RES, this.onUserSitOn, this);\r\n        this.ZoneInstance.removeEventListenerExtension(MauBinhEvent.RESPONSE_NAME.SIT_OUT_RES, this.onUserSitOut, this);\r\n        this.ZoneInstance.removeEventListenerExtension(MauBinhEvent.RESPONSE_NAME.STAND_UP_RES, this.onUserStandUp, this);\r\n        this.ZoneInstance.removeEventListenerExtension(MauBinhEvent.RESPONSE_NAME.PRE_START_RES, this.onPreStart, this);\r\n        this.ZoneInstance.removeEventListenerExtension(MauBinhEvent.RESPONSE_NAME.START_RES, this.onStartEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(MauBinhEvent.RESPONSE_NAME.KICK_RES, this.onKickUser, this);\r\n        this.ZoneInstance.removeEventListenerExtension(MauBinhEvent.RESPONSE_NAME.FINISH_GAME_RES, this.onFinishGame, this);\r\n        this.ZoneInstance.removeEventListenerExtension(MauBinhEvent.RESPONSE_NAME.LOAD_TABLE_RES, this.onLoadTableEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(MauBinhEvent.RESPONSE_NAME.SHOW_DOWN_RES, this.onShowDownEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(MauBinhEvent.RESPONSE_NAME.XEP_XONG_RES, this.onXepXongEvent, this);\r\n        this.ZoneInstance.removeEventListenerExtension(MauBinhEvent.RESPONSE_NAME.BAO_BINH_RES, this.onBaoBinhEvent, this);\r\n    },\r\n    onEventLogin(event){\r\n        this._super(event);\r\n        let groupRequest = new CasinoRequest.GroupGameRequest();\r\n        groupRequest.setGame(this.zoneName);\r\n        this.ZoneInstance.send(groupRequest.toSRequest());\r\n    },\r\n    getUILobby(){\r\n        const scene = cc.director.getScene();\r\n        let uiLobby =  cc.find(\"UILobby\", scene);\r\n        return uiLobby.getComponent(uiLobby.name);\r\n    },\r\n    onLeaderBoardEvent(event){\r\n        let arrLeaderboard =[];\r\n        let data = event.getSArray(\"d\");\r\n        for(let i = 0;i < data.size();i++){\r\n            let sItem = data.get(i).getObject();\r\n            let item = {};\r\n            item.session = i +1;\r\n            item.account = sItem.getUtfString(\"dn\");\r\n            item.win = sItem.getDouble(\"m\");\r\n            arrLeaderboard.push(item);\r\n        }\r\n        if(this.getUILobby()){\r\n            this.getUILobby().updateRank(arrLeaderboard);\r\n        }\r\n    },\r\n    onGroupRoomEvent(event){\r\n        let groupRoom = new CasinoEvent.GroupGameEvent().fromEvent(event);\r\n        if(mm.game == undefined)\r\n            mm.game = {};\r\n        mm.game[this.zoneName] = {};\r\n        mm.game[this.zoneName].groups = groupRoom.groups;\r\n        mm.game[this.zoneName].displayname = GameVariables.getDisplayName(this.ZoneInstance.mySelf);\r\n        mm.game[this.zoneName].chip = GameVariables.getChip(this.ZoneInstance.mySelf);\r\n        UIManger.show(\"UILobby\", {pop: true, data: {game: \"maubinh\", ZoneInstance: this.ZoneInstance}}, function () {\r\n            let request = new CasinoRequest.LeaderBoardRequest();\r\n            SmartFoxSDK.MauBinhController.ZoneInstance.send(request.toSRequest());\r\n        });\r\n    },\r\n    onQuickJoinRoom(event){\r\n        let quickJoin = new CasinoEvent.QuickJoinGameEvent().fromEvent(event);\r\n        if(quickJoin.roomId >= 0){\r\n            this.ZoneInstance.send(new CasinoRequest.JoinRoomRequest(quickJoin.roomId, \"1\", true).toSRequest());\r\n        }else{\r\n            mm.Toast.showToast(1, Language.getString(\"noti_phong_day\"));\r\n        }\r\n    },\r\n    onEventUserExitRoom(event){\r\n        let user = event.user;\r\n        if(user.isItMe){\r\n            if (this.getUI() != null)\r\n                this.getUI().node.active = false;\r\n            UIManger.show(\"UILobby\", {pop: true, data: {game: \"maubinh\", ZoneInstance: this.ZoneInstance}});\r\n        }else{\r\n            this.getUI().removePlayer([user.name]);\r\n        }\r\n    },\r\n    onShowDownEvent(event){\r\n        let listPlayers = new MauBinhEvent.ShowDownEvent().fromEvent(event);\r\n        this.getUI().showDown(listPlayers);\r\n    },\r\n    onXepXongEvent(event){\r\n        let responseXepXong = new MauBinhEvent.XepXongResEvent().fromEvent(event);\r\n        this.getUI().setTextXepXong(responseXepXong);\r\n    },\r\n    onBaoBinhEvent(event){\r\n        let responseBaoBinh = new MauBinhEvent.BaoBinhResEvent().fromEvent(event);\r\n        this.getUI().setTextBaoBinh(responseBaoBinh);\r\n    },\r\n    onLoadTableEvent(event){\r\n        let _data = {pop: true, data: {room: this.room}};\r\n        this.preLoadUI(_data, function () {\r\n            mm.Loading.hide();\r\n            this.getUI().controller = this;\r\n            this.getUI().setInfoTable(\"MauBinh / #\"+this.room.id, Utils.formatCurrency(GameVariables.Poker.getBetChip(this.room)));\r\n            this.m_tableInfo = new MauBinhEvent.LoadTableInfoEvent().fromEvent(event);\r\n            this.m_tableInfo.room = this.room;\r\n            if(!this.m_tableInfo.m_isGameStart || this.m_tableInfo.m_listActiveUserName.indexOf(this.ZoneInstance.mySelf.name) < 0){\r\n                this.getUI().requestSitOn();\r\n            }\r\n            this.getUI()._updateNodePlayers(this.m_tableInfo.m_listDesk);\r\n            if(this.m_tableInfo.m_isPrestart && !this.m_tableInfo.m_isGameStart){\r\n                this.getUI().setWaitingTimer(true, 5, this.m_tableInfo.m_isPrestart / 100);\r\n            }\r\n        }.bind(this));\r\n    },\r\n    onCanRegisterOwnerEvent(event){\r\n\r\n    },\r\n    onRegisterOwner(event){\r\n\r\n    },\r\n    onUserSitOn(event){\r\n        let userSitOnEvent = new MauBinhEvent.UserSitOnEvent().fromEvent(event);\r\n        // add to list desk\r\n        let desk = {};\r\n        desk.DeskId = userSitOnEvent.m_deskId;\r\n        desk.UserName = userSitOnEvent.m_userName;\r\n        desk.DeskState = userSitOnEvent.m_deskState;\r\n        desk.UserChip = userSitOnEvent.m_buyIn;\r\n        this.m_tableInfo.m_listDesk.push(desk);\r\n\r\n        // add to list user\r\n        this.m_tableInfo.m_listUser.push(userSitOnEvent.m_userName);\r\n\r\n        this.getUI()._updateNodePlayers(this.m_tableInfo.m_listDesk);\r\n    },\r\n    onUserSitOut(event){\r\n        mm.Loading.hide();\r\n        let sitOutRes = new MauBinhEvent.UserSitOutEvent().fromEvent(event);\r\n        let indexUser = this.m_tableInfo.m_listUserSitOut.indexOf(sitOutRes.m_username);\r\n        if(indexUser < 0){\r\n            this.m_tableInfo.m_listUserSitOut.push(sitOutRes.m_username);\r\n        }else if(!sitOutRes.m_isSitOut){\r\n            this.m_tableInfo.m_listUserSitOut.splice(indexUser, 1);\r\n        }\r\n        let player = this.getUI()._getJSPlayerByName(sitOutRes.m_username);\r\n        if(player)\r\n            player.setSitOut(sitOutRes.m_isSitOut);\r\n        if(this.ZoneInstance.mySelf.name == sitOutRes.m_username){\r\n            if(sitOutRes.m_isSitOut)\r\n                mm.Toast.showToast(1, Language.getString(\"dang_ky_roi_ban\"));\r\n            else\r\n                mm.Toast.showToast(1, Language.getString(\"huy_roi_ban\"));\r\n        }\r\n    },\r\n    onPreStart(event){\r\n        let preStart = new MauBinhEvent.PreStartEvent().fromEvent(event);\r\n        this.m_tableInfo.m_isPrestart = preStart.m_isPrestart;\r\n        this.m_tableInfo.m_prestartTime = preStart.m_prestartTime;\r\n        this.m_tableInfo.m_isGameStart = false;\r\n        for(let i = 0; i < this.m_tableInfo.m_listDesk.length;i++){\r\n            let desk = this.m_tableInfo.m_listDesk[i];\r\n            let player = this.getUI()._getJSPlayerById(desk.DeskId);\r\n            player.onPreStartEvent(preStart);\r\n        }\r\n        if(preStart.m_isPrestart){\r\n            this.getUI().setWaitingTimer(true,preStart.m_prestartTime / 1000, preStart.m_prestartTime / 1000);\r\n            this.getUI().newMatch();\r\n        }\r\n        // remove me if register leave table\r\n        if(this.m_tableInfo.m_listUserSitOut.indexOf(this.ZoneInstance.mySelf.name) >= 0){\r\n            this.getUI().requestLeaveRoom();\r\n        }\r\n        this.getUI().onPreStartEvent();\r\n        this.getUI().showDeskEmpty();\r\n    },\r\n    onStartEvent(event){\r\n        this.getUI().setWaitingTimer(false);\r\n        let self  = this;\r\n        let start = new MauBinhEvent.StartEvent().fromEvent(event);\r\n        this.m_tableInfo.m_currentUser =  start.m_currentUser;\r\n        this.m_tableInfo.m_userTime = start.m_userTime;\r\n        this.m_tableInfo.m_isGameStart = true;\r\n        if(this.m_tableInfo.m_listActiveUserName){\r\n            let userOut = [];\r\n            for(let i = 0; i < this.m_tableInfo.m_listActiveUserName.length;i++){\r\n                if(start.m_listActiveUserName.indexOf(this.m_tableInfo.m_listActiveUserName[i]) < 0){\r\n                    userOut.push(this.m_tableInfo.m_listActiveUserName[i]);\r\n                }\r\n            }\r\n            this.getUI().removePlayer(userOut);\r\n        }\r\n        this.m_tableInfo.m_listActiveUserName = start.m_listActiveUserName;\r\n        for(let i = 0; i < this.m_tableInfo.m_listDesk.length;i++){\r\n            let desk = this.m_tableInfo.m_listDesk[i];\r\n            let jsPlayer = this.getUI()._getJSPlayerById(desk.DeskId);\r\n            jsPlayer.onStartEvent(start);\r\n        }\r\n        this.getUI().onStartEvent();\r\n        this.getUI()._updateNodePlayers(this.m_tableInfo.m_listDesk);\r\n        this.getUI()._updateUIHandPlayers();\r\n        this.getUI()._dealCards(this.m_tableInfo.m_listDesk, start.m_listCard, start.m_gameTime, function () {\r\n            if(self.ZoneInstance.mySelf.name == self.m_tableInfo.m_currentUser){\r\n                self.getUI().showAllButtonAction();\r\n            }\r\n        });\r\n\r\n        this.getUI().hideDeskEmpty();\r\n    },\r\n    onFinishGame(event){\r\n        let listPlayers = new MauBinhEvent.FinishGameEvent().fromEvent(event);\r\n        this.getUI().showFinishGame(listPlayers);\r\n    },\r\n    onUserStandUp(event){\r\n\r\n    },\r\n    onKickUser(event){\r\n        let kickRes = new MauBinhEvent.KickUserEvent().fromEvent(event);\r\n        if(kickRes.m_resType == 2){\r\n            if(this.getUI()._getJSPlayerByName(kickRes.m_username) != null){\r\n                this.getUI().removePlayer([kickRes.m_username]);\r\n                if(this.ZoneInstance.mySelf.name == kickRes.m_username){\r\n                    this.getUI().requestLeaveRoom();\r\n                }\r\n            }\r\n        }\r\n    },\r\n    onPublicMessage(event){\r\n        let sender = event.sender;\r\n        let msg = event.message;\r\n        let data = event.data;\r\n        let dataSender = data != null ? {dn: data.get(\"dn\"), fb : data.get(\"fb\")} : {dn: \"...\", fb : \"\"};\r\n        let msgItem = {};\r\n        msgItem.sender = sender;\r\n        msgItem.msg = msg;\r\n        msgItem.dataSender = dataSender;\r\n        this.getUI().onPublicMessage(msgItem);\r\n    },\r\n});\r\nlet instance = null;\r\nlet getInstance = function () {\r\n    if(instance == null)\r\n        instance = new MauBinhController('UIMauBinh','maubinh');\r\n    return instance;\r\n}\r\nSmartFoxSDK.MauBinhController = module.exports = getInstance();\r\n"]}