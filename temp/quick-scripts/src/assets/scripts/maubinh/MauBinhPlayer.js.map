{"version":3,"sources":["assets\\scripts\\maubinh\\MauBinhPlayer.js"],"names":["BinhCard","require","MauBinhUtils","cc","Class","Player","properties","preCard","Prefab","Hands","Node","chi1","chi2","chi3","lbXepBai","totalMauBinhWin","thangText","listBgChi","listChi","Label","fontWin","Font","fontLose","lbNoti","RichText","onLoad","initListCard","listCard","i","childrenCount","children","active","push","onEnable","_super","node","sizeCard","posCard","isItMe","_desk","UserName","SmartFoxSDK","MauBinhController","ZoneInstance","mySelf","name","onPreStartEvent","preStartRes","zIndex","hideAllCardOnHand","showXepBaiLabel","isShow","text","getComponent","string","hideChiLabel","cb","self","Promise","all","map","chiLabel","index","then","onStartEvent","startEvent","getPosCardHand","updateHands","scale","posX","x","card","showAllCardOnHand","cardIds","isOver","init","Card","showOver","hideOver","showAllCarCompetitor","showDownPlayer","showDownInfo","typeBinh","showResult","cards","scheduleOnce","showChi","slice","moneyChi","typeChi","totalMoney","isSap3Chi","length","getTextTypeBinhResult","color","getTypeChi","showWinEffect","showMoneyWin","user","room","getUserByName","getDesk","money","GameVariables","getChip","setMoney","moneyWin","type","listCards","pos","reveal","getCardType","showThangTrangResult","TypeBinh","TYPE_TAM_SANH","sp","Skeleton","setAnimation","TYPE_TAM_THUNG","TYPE_6_DOI","TYPE_5DOI_1XAM","TYPE_SANH_RONG","TYPE_SANH_RONG_DONG_HOA","TYPE_BINH_LUNG","showResultFinishGame","fontTxt","MoneyWin","font"],"mappings":"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","sourceRoot":"/","sourcesContent":["let BinhCard = require('BinhCard');\r\nlet MauBinhUtils = require('MauBinhUtils');\r\ncc.Class({\r\n    extends: cc.Player,\r\n\r\n    properties: {\r\n        preCard: cc.Prefab,\r\n        Hands: cc.Node,\r\n        chi1: cc.Node,\r\n        chi2: cc.Node,\r\n        chi3: cc.Node,\r\n        lbXepBai: cc.Node,\r\n        totalMauBinhWin: cc.Node,\r\n        thangText: cc.Node,\r\n        listBgChi: [cc.Node],\r\n        listChi: [cc.Label],\r\n        fontWin: cc.Font,\r\n        fontLose: cc.Font,\r\n        lbNoti: cc.RichText,\r\n    },\r\n    onLoad() {\r\n        this.initListCard();\r\n    },\r\n    initListCard() {\r\n        this.listCard = [];\r\n        for (let i=0; i< this.chi1.childrenCount; i++){\r\n            this.chi1.children[i].active = false;\r\n            this.listCard.push(this.chi1.children[i]);\r\n        }\r\n        for (let i=0; i< this.chi2.childrenCount; i++){\r\n            this.chi2.children[i].active = false;\r\n            this.listCard.push(this.chi2.children[i]);\r\n        }\r\n        for (let i=0; i< this.chi3.childrenCount; i++){\r\n            this.chi3.children[i].active = false;\r\n            this.listCard.push(this.chi3.children[i]);\r\n        }\r\n    },\r\n    onEnable(){\r\n        this._super();\r\n        this.lbNoti.node.active = false;\r\n        this.sizeCard           = 13;\r\n        this.posCard            = 0;\r\n    },\r\n    isItMe(){\r\n        if(this._desk.UserName == SmartFoxSDK.MauBinhController.ZoneInstance.mySelf.name){\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    onPreStartEvent(preStartRes){\r\n        this._super(preStartRes);\r\n        this.chi1.zIndex = 3;\r\n        this.chi2.zIndex = 2;\r\n        this.chi3.zIndex = 1;\r\n        this.thangText.active = false;\r\n        this.lbXepBai.active = false;\r\n        this.lbXepBai.zIndex = 0;\r\n        this.totalMauBinhWin.active = false;\r\n        this.hideAllCardOnHand();\r\n    },\r\n    showXepBaiLabel (isShow, text){\r\n        this.lbXepBai.zIndex = 5;\r\n        this.lbXepBai.active = true;\r\n        this.lbXepBai.getComponent(cc.Label).string = text;\r\n    },\r\n    hideChiLabel(cb) {\r\n        let self = this;\r\n        Promise.all(this.listChi.map(function(chiLabel, index){\r\n            self.listBgChi[index].active = false;\r\n            self.listBgChi[index].zIndex = 0;\r\n            chiLabel.node.zIndex = 0;\r\n            chiLabel.node.active = false;\r\n        })).then(function () {\r\n            if (cb)\r\n                cb();\r\n        });\r\n    },\r\n    onStartEvent(startEvent){\r\n        this.posCard = 0;\r\n        this.chi1.zIndex = 3;\r\n        this.chi2.zIndex = 2;\r\n        this.chi3.zIndex = 1;\r\n        this.thangText.active = false;\r\n        this.lbXepBai.active = false;\r\n        this.lbXepBai.zIndex = 0;\r\n        this.totalMauBinhWin.active = false;\r\n        this.hideAllCardOnHand();\r\n    },\r\n    getPosCardHand(posCard){\r\n        this.posCard  = posCard;\r\n        return this.listCard[posCard];\r\n    },\r\n    updateHands(scale, posX) {\r\n        this.Hands.scale = scale;\r\n        this.Hands.x      = posX;\r\n    },\r\n    hideAllCardOnHand() {\r\n        this.hideChiLabel();\r\n        Promise.all(this.listCard.map(function(card, index){\r\n            card.active = false;\r\n        }));\r\n    },\r\n    showAllCardOnHand(cardIds, isOver) {\r\n        Promise.all(this.listCard.map(function(card, index){\r\n            card.active = true;\r\n            card.getComponent(\"Card\").init(new BinhCard.Card(cardIds[index]));\r\n            if (isOver){\r\n                card.getComponent(\"Card\").showOver();\r\n            }else\r\n                card.getComponent(\"Card\").hideOver();\r\n\r\n        }));\r\n    },\r\n    showAllCarCompetitor() {\r\n        Promise.all(this.listCard.map(function(card, index){\r\n            card.active = true;\r\n            card.getComponent(\"Card\").init(null);\r\n        }));\r\n    },\r\n    showDownPlayer(showDownInfo) {\r\n        let self = this;\r\n        this.lbXepBai.active = false;\r\n        if (showDownInfo.typeBinh < 0)\r\n            self.showResult(showDownInfo);\r\n        if (this.isItMe())\r\n            this.showAllCardOnHand(showDownInfo.cards, true);\r\n        else\r\n            this.showAllCarCompetitor();\r\n        this.chi1.zIndex = 1;\r\n        this.chi2.zIndex = 0;\r\n        this.chi3.zIndex = 0;\r\n\r\n        this.scheduleOnce(function () {//chi1\r\n            this.showChi(this.listCard.slice(0, 5), showDownInfo.moneyChi[0], showDownInfo.typeChi[0], showDownInfo.cards.slice(0, 5), 0);\r\n        }, 2)\r\n        this.scheduleOnce(function () {//chi2\r\n            this.chi1.zIndex = 0;\r\n            this.chi2.zIndex = 1;\r\n            this.chi3.zIndex = 0;\r\n            this.showChi(this.listCard.slice(5, 10), showDownInfo.moneyChi[1],  showDownInfo.typeChi[1], showDownInfo.cards.slice(5, 10), 1);\r\n        }, 8)\r\n        this.scheduleOnce(function () {//chi3\r\n            this.chi1.zIndex = 0;\r\n            this.chi2.zIndex = 0;\r\n            this.chi3.zIndex = 1;\r\n            this.showChi(this.listCard.slice(10, 13), showDownInfo.moneyChi[2], showDownInfo.typeChi[2], showDownInfo.cards.slice(10, 13), 2);\r\n        }, 14)\r\n        this.scheduleOnce(function () {//Tong ket\r\n            self.showResult(showDownInfo);\r\n        }, 20)\r\n    },\r\n    showResult(showDownInfo) {\r\n        let self = this;\r\n        this.showAllCardOnHand(showDownInfo.cards, false);\r\n        this.chi1.zIndex = 3;\r\n        this.chi2.zIndex = 2;\r\n        this.chi3.zIndex = 1;\r\n        let totalMoney = 0;\r\n        let isSap3Chi  = true;\r\n        for (let i=0; i< showDownInfo.moneyChi.length; i++){\r\n            if (showDownInfo.moneyChi[i] >=0)\r\n                isSap3Chi = false;\r\n            totalMoney += showDownInfo.moneyChi[i];\r\n        }\r\n        this.hideChiLabel(function () {\r\n            let typeBinh = MauBinhUtils.getTextTypeBinhResult(showDownInfo.typeBinh, isSap3Chi)\r\n            if (typeBinh != \"\") {\r\n                self.listChi[1].node.zIndex = 3;\r\n                self.listChi[1].node.active = true;\r\n                self.listChi[1].string      = typeBinh;\r\n                self.listChi[1].node.color  = MauBinhUtils.getTypeChi(showDownInfo.typeBinh).color;\r\n                self.listBgChi[1].zIndex    = 3;\r\n                self.listBgChi[1].active    = true;\r\n            }\r\n            self.thangText.active = totalMoney > 0;\r\n            if(totalMoney > 0){\r\n                self.showWinEffect();\r\n            }\r\n            self.showMoneyWin(totalMoney);\r\n            let user = SmartFoxSDK.MauBinhController.room.getUserByName(self.getDesk().UserName);\r\n            let money = GameVariables.getChip(user);\r\n            self.setMoney(money);\r\n        })\r\n    },\r\n    showChi(cards, moneyWin, type, listCards, pos){\r\n        let self = this;\r\n        Promise.all(this.listCard.map(function(card, index){\r\n            card.active = true;\r\n            card.zIndex = 0;\r\n            card.getComponent(\"Card\").showOver();\r\n        }));\r\n        Promise.all(cards.map(function(card, index){\r\n            card.active = true;\r\n            if (self.isItMe())\r\n                card.getComponent(\"Card\").hideOver();\r\n            else\r\n                card.getComponent(\"Card\").reveal(new BinhCard.Card(listCards[index]));\r\n        }));\r\n        this.hideChiLabel(function () {\r\n            let chi1 = MauBinhUtils.getCardType(listCards);\r\n            self.listChi[pos].node.zIndex = 3;\r\n            self.listChi[pos].node.active = true;\r\n            self.listChi[pos].string      = MauBinhUtils.getTypeChi(chi1.type).text;\r\n            self.listChi[pos].node.color  = MauBinhUtils.getTypeChi(chi1.type).color;\r\n            self.listBgChi[pos].zIndex    = 3;\r\n            self.listBgChi[pos].active    = true;\r\n            self.showMoneyWin(moneyWin);\r\n        })\r\n    },\r\n    showThangTrangResult(type) {\r\n        this.totalMauBinhWin.zIndex = 10;\r\n        this.totalMauBinhWin.active = true;\r\n        switch (type){\r\n            case MauBinhUtils.TypeBinh.TYPE_TAM_SANH: {\r\n                this.totalMauBinhWin.getComponent(sp.Skeleton).setAnimation(0, \"3-Sanh\", true);\r\n                break;\r\n            }\r\n            case MauBinhUtils.TypeBinh.TYPE_TAM_THUNG: {\r\n                this.totalMauBinhWin.getComponent(sp.Skeleton).setAnimation(0, \"3-Thung\", true);\r\n                break;\r\n            }\r\n            case MauBinhUtils.TypeBinh.TYPE_6_DOI: {\r\n                this.totalMauBinhWin.getComponent(sp.Skeleton).setAnimation(0, \"Luc-Phe-Bon\", true);\r\n                break;\r\n            }\r\n            case MauBinhUtils.TypeBinh.TYPE_5DOI_1XAM: {\r\n                this.totalMauBinhWin.getComponent(sp.Skeleton).setAnimation(0, \"5-Doi-1-Sam\", true);\r\n                break;\r\n            }\r\n            case MauBinhUtils.TypeBinh.TYPE_SANH_RONG: {\r\n                this.totalMauBinhWin.getComponent(sp.Skeleton).setAnimation(0, \"Sanh-Rong\", true);\r\n                break;\r\n            }\r\n            case MauBinhUtils.TypeBinh.TYPE_SANH_RONG_DONG_HOA: {\r\n                this.totalMauBinhWin.getComponent(sp.Skeleton).setAnimation(0, \"Rong-Cuon\", true);\r\n                break;\r\n            }\r\n            case MauBinhUtils.TypeBinh.TYPE_BINH_LUNG: {\r\n                this.totalMauBinhWin.getComponent(sp.Skeleton).setAnimation(0, \"Binh-Lung\", true);\r\n                break;\r\n            }\r\n            default :{\r\n                this.totalMauBinhWin.active = false;\r\n            }\r\n        }\r\n    },\r\n    showResultFinishGame(totalMoney) {\r\n        this.lbXepBai.active = false;\r\n        if(totalMoney > 0){\r\n            this.showWinEffect();\r\n        }\r\n        this.showMoneyWin(totalMoney);\r\n    },\r\n    showMoneyWin(money){\r\n        let fontTxt = money > 0? this.fontWin: this.fontLose;\r\n        this.MoneyWin.font   = fontTxt;\r\n        this._super(money);\r\n    },\r\n});\r\n"]}