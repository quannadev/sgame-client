{"version":3,"sources":["assets/scripts/candy/UICandyRank.js"],"names":["Listview","require","Helper","cc","Class","VozBaseComponent","properties","listview","allRank","Sprite","allHu","listRank","listHu","onEnable","_data","items","numItems","length","node","zIndex","lastZIndex","onListRender","item","idx","rank","getComponent","name","init","eventClose","back","eventAllRank","setMaterialGray","eventHu"],"mappings":";;;;;;AAAA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,IAAMC,MAAM,GAAKD,OAAO,CAAC,QAAD,CAAxB;;AACAE,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,gBADP;AAELC,EAAAA,UAAU,EAAE;AACRC,IAAAA,QAAQ,EAAMP,QADN;AAERQ,IAAAA,OAAO,EAAOL,EAAE,CAACM,MAFT;AAGRC,IAAAA,KAAK,EAASP,EAAE,CAACM,MAHT;AAIRE,IAAAA,QAAQ,EAAE,EAJF;AAKRC,IAAAA,MAAM,EAAE;AALA,GAFP;AASLC,EAAAA,QATK,sBASK;AACN,QAAG,KAAKC,KAAL,IAAc,KAAKA,KAAL,CAAWC,KAA5B,EAAkC;AAC9B,WAAKJ,QAAL,GAAgB,KAAKG,KAAL,CAAWC,KAA3B;AACA,WAAKR,QAAL,CAAcS,QAAd,GAAyB,KAAKL,QAAL,CAAcM,MAAvC;AACH;;AACD,QAAI,KAAKC,IAAL,CAAUC,MAAV,IAAoBhB,EAAE,CAACiB,UAA3B,EAAsC;AAClC,WAAKF,IAAL,CAAUC,MAAV,GAAmBhB,EAAE,CAACiB,UAAtB;AACH;AACJ,GAjBI;AAkBLC,EAAAA,YAlBK,wBAkBQC,IAlBR,EAkBcC,GAlBd,EAkBmB;AACpB,QAAIC,IAAI,GAAG,KAAKb,QAAL,CAAcY,GAAd,CAAX;AACAD,IAAAA,IAAI,CAACG,YAAL,CAAkBH,IAAI,CAACI,IAAvB,EAA6BC,IAA7B,CAAkCH,IAAlC,EAAwCD,GAAxC;AACH,GArBI;AAsBLK,EAAAA,UAtBK,wBAsBQ;AACT,SAAKC,IAAL;AACH,GAxBI;AAyBLC,EAAAA,YAzBK,0BAyBU;AACX5B,IAAAA,MAAM,CAAC6B,eAAP,CAAuB,KAAKvB,OAA5B,EAAqC,KAArC;AACAN,IAAAA,MAAM,CAAC6B,eAAP,CAAuB,KAAKrB,KAA5B,EAAmC,IAAnC;;AACA,QAAG,KAAKI,KAAL,IAAc,KAAKA,KAAL,CAAWC,KAA5B,EAAkC;AAC9B,WAAKJ,QAAL,GAAgB,KAAKG,KAAL,CAAWC,KAA3B;AACA,WAAKR,QAAL,CAAcS,QAAd,GAAyB,KAAKL,QAAL,CAAcM,MAAvC;AACH;AACJ,GAhCI;AAiCLe,EAAAA,OAjCK,qBAiCK;AACN9B,IAAAA,MAAM,CAAC6B,eAAP,CAAuB,KAAKvB,OAA5B,EAAqC,IAArC;AACAN,IAAAA,MAAM,CAAC6B,eAAP,CAAuB,KAAKrB,KAA5B,EAAmC,KAAnC;;AACA,QAAG,KAAKI,KAAL,IAAc,KAAKA,KAAL,CAAWC,KAA5B,EAAkC;AAC9B,WAAKH,MAAL,GAAc,EAAd;AACA,WAAKL,QAAL,CAAcS,QAAd,GAAyB,KAAKJ,MAAL,CAAYK,MAArC;AACH;AACJ;AAxCI,CAAT","sourceRoot":"/","sourcesContent":["const Listview = require('Listview');\nconst Helper   = require('Helper');\ncc.Class({\n    extends: cc.VozBaseComponent,\n    properties: {\n        listview    : Listview,\n        allRank     : cc.Sprite,\n        allHu       : cc.Sprite,\n        listRank: [],\n        listHu: []\n    },\n    onEnable(){\n        if(this._data && this._data.items){\n            this.listRank = this._data.items;\n            this.listview.numItems = this.listRank.length;\n        }\n        if (this.node.zIndex <= cc.lastZIndex){\n            this.node.zIndex = cc.lastZIndex;\n        }\n    },\n    onListRender(item, idx) {\n        let rank = this.listRank[idx];\n        item.getComponent(item.name).init(rank, idx);\n    },\n    eventClose() {\n        this.back();\n    },\n    eventAllRank() {\n        Helper.setMaterialGray(this.allRank, false);\n        Helper.setMaterialGray(this.allHu, true);\n        if(this._data && this._data.items){\n            this.listRank = this._data.items;\n            this.listview.numItems = this.listRank.length;\n        }\n    },\n    eventHu() {\n        Helper.setMaterialGray(this.allRank, true);\n        Helper.setMaterialGray(this.allHu, false);\n        if(this._data && this._data.items){\n            this.listHu = [];\n            this.listview.numItems = this.listHu.length;\n        }\n    }\n});\n"]}