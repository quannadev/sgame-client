{"version":3,"sources":["assets/scripts/ui/UIRegister.js"],"names":["cc","Class","VozBaseComponent","properties","register_username","EditBox","register_diplayname","register_pass","register_pass_again","eventClickRegister","mm","audio","playButton","SmartFoxSDK","PortalController","ZoneInstance","isConnected","register","connect","string","Config","clearUserPass","Toast","showToast","Utils","validateString","includes","length","un","pass","zone","params","SObject","putByte","putUtfString","loginRequest","CasinoRequest","LoginRequest","send","toSRequest","eventClose","back"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,gBADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,iBAAiB,EAAEJ,EAAE,CAACK,OADd;AAERC,IAAAA,mBAAmB,EAAEN,EAAE,CAACK,OAFhB;AAGRE,IAAAA,aAAa,EAAEP,EAAE,CAACK,OAHV;AAIRG,IAAAA,mBAAmB,EAAER,EAAE,CAACK;AAJhB,GAHP;AASLI,EAAAA,kBATK,gCASe;AAChBC,IAAAA,EAAE,CAACC,KAAH,CAASC,UAAT;;AACA,QAAG,CAACC,WAAW,CAACC,gBAAZ,CAA6BC,YAA7B,CAA0CC,WAA1C,EAAJ,EAA4D;AACxDH,MAAAA,WAAW,CAACC,gBAAZ,CAA6BG,QAA7B,GAAwC,IAAxC;AACAJ,MAAAA,WAAW,CAACC,gBAAZ,CAA6BC,YAA7B,CAA0CG,OAA1C;AACA;AACH;;AACD,QAAG,KAAKd,iBAAL,CAAuBe,MAAvB,IAAiC,EAApC,EAAuC;AACnCC,MAAAA,MAAM,CAACC,aAAP;AACAX,MAAAA,EAAE,CAACY,KAAH,CAASC,SAAT,CAAmB,CAAnB,EAAsB,gCAAtB;AACA;AACH;;AACD,QAAG,CAACC,KAAK,CAACC,cAAN,CAAqB,KAAKrB,iBAAL,CAAuBe,MAA5C,CAAJ,EAAwD;AACpDC,MAAAA,MAAM,CAACC,aAAP;AACAX,MAAAA,EAAE,CAACY,KAAH,CAASC,SAAT,CAAmB,CAAnB,EAAsB,gDAAtB;AACA;AACH;;AACD,QAAG,CAACC,KAAK,CAACC,cAAN,CAAqB,KAAKnB,mBAAL,CAAyBa,MAA9C,CAAJ,EAA0D;AACtDC,MAAAA,MAAM,CAACC,aAAP;AACAX,MAAAA,EAAE,CAACY,KAAH,CAASC,SAAT,CAAmB,CAAnB,EAAsB,+CAAtB;AACA;AACH;;AACD,QAAG,KAAKjB,mBAAL,CAAyBa,MAAzB,IAAmC,EAAtC,EAAyC;AACrCC,MAAAA,MAAM,CAACC,aAAP;AACAX,MAAAA,EAAE,CAACY,KAAH,CAASC,SAAT,CAAmB,CAAnB,EAAsB,+BAAtB;AACA;AACH;;AACD,QAAG,KAAKnB,iBAAL,CAAuBe,MAAvB,CAA8BO,QAA9B,CAAuC,GAAvC,CAAH,EAA+C;AAC3CN,MAAAA,MAAM,CAACC,aAAP;AACAX,MAAAA,EAAE,CAACY,KAAH,CAASC,SAAT,CAAmB,CAAnB,EAAsB,gCAAtB;AACA;AACH;;AACD,QAAG,KAAKjB,mBAAL,CAAyBa,MAAzB,CAAgCO,QAAhC,CAAyC,GAAzC,CAAH,EAAiD;AAC7CN,MAAAA,MAAM,CAACC,aAAP;AACAX,MAAAA,EAAE,CAACY,KAAH,CAASC,SAAT,CAAmB,CAAnB,EAAsB,mCAAtB;AACA;AACH;;AACD,QAAG,KAAKnB,iBAAL,CAAuBe,MAAvB,IAAiC,KAAKb,mBAAL,CAAyBa,MAA7D,EAAoE;AAChEC,MAAAA,MAAM,CAACC,aAAP;AACAX,MAAAA,EAAE,CAACY,KAAH,CAASC,SAAT,CAAmB,CAAnB,EAAsB,sCAAtB;AACA;AACH;;AACD,QAAG,KAAKhB,aAAL,CAAmBY,MAAnB,IAA6B,EAAhC,EAAmC;AAC/BC,MAAAA,MAAM,CAACC,aAAP;AACAX,MAAAA,EAAE,CAACY,KAAH,CAASC,SAAT,CAAmB,CAAnB,EAAsB,2BAAtB;AACA;AACH;;AACD,QAAG,KAAKhB,aAAL,CAAmBY,MAAnB,IAA6B,KAAKX,mBAAL,CAAyBW,MAAzD,EAAgE;AAC5DC,MAAAA,MAAM,CAACC,aAAP;AACAX,MAAAA,EAAE,CAACY,KAAH,CAASC,SAAT,CAAmB,CAAnB,EAAsB,qBAAtB;AACA;AACH;;AACD,QAAG,KAAKhB,aAAL,CAAmBY,MAAnB,CAA0BQ,MAA1B,GAAmC,CAAtC,EAAwC;AACpCP,MAAAA,MAAM,CAACC,aAAP;AACAX,MAAAA,EAAE,CAACY,KAAH,CAASC,SAAT,CAAmB,CAAnB,EAAsB,0BAAtB;AACA;AACH;;AACD,QAAIK,EAAE,GAAG,KAAKxB,iBAAL,CAAuBe,MAAhC;AACA,QAAIU,IAAI,GAAG,KAAKtB,aAAL,CAAmBY,MAA9B;AACA,QAAIW,IAAI,GAAG,QAAX;AACA,QAAIC,MAAM,GAAG,IAAIlB,WAAW,CAACmB,OAAhB,EAAb;AACAD,IAAAA,MAAM,CAACE,OAAP,CAAe,IAAf,EAAqB,CAArB;AACAF,IAAAA,MAAM,CAACG,YAAP,CAAoB,MAApB,EAA4B,MAA5B;AACAH,IAAAA,MAAM,CAACG,YAAP,CAAoB,IAApB,EAA0B,KAAK5B,mBAAL,CAAyBa,MAAnD;AACA,QAAIgB,YAAY,GAAG,IAAIC,aAAa,CAACC,YAAlB,CAA+BT,EAA/B,EAAmCC,IAAnC,EAAyCC,IAAzC,EAA+CC,MAA/C,CAAnB;AACAlB,IAAAA,WAAW,CAACC,gBAAZ,CAA6Bc,EAA7B,GAAkCA,EAAlC;AACAf,IAAAA,WAAW,CAACC,gBAAZ,CAA6Be,IAA7B,GAAoCA,IAApC;AACAhB,IAAAA,WAAW,CAACC,gBAAZ,CAA6BC,YAA7B,CAA0CuB,IAA1C,CAA+CH,YAAY,CAACI,UAAb,EAA/C;AACH,GA7EI;AA8ELC,EAAAA,UA9EK,wBA8EO;AACR9B,IAAAA,EAAE,CAACC,KAAH,CAASC,UAAT;AACA,SAAK6B,IAAL;AACH;AAjFI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.VozBaseComponent,\n\n    properties: {\n        register_username: cc.EditBox,\n        register_diplayname: cc.EditBox,\n        register_pass: cc.EditBox,\n        register_pass_again: cc.EditBox\n    },\n    eventClickRegister(){\n        mm.audio.playButton();\n        if(!SmartFoxSDK.PortalController.ZoneInstance.isConnected()){\n            SmartFoxSDK.PortalController.register = true;\n            SmartFoxSDK.PortalController.ZoneInstance.connect();\n            return;\n        }\n        if(this.register_username.string == \"\"){\n            Config.clearUserPass();\n            mm.Toast.showToast(1, \"Tên đăng nhập không được trống\");\n            return;\n        }\n        if(!Utils.validateString(this.register_username.string)){\n            Config.clearUserPass();\n            mm.Toast.showToast(1, \"Tên đăng nhập chỉ chứa các ký tự A-Z, a-z, 0-9\");\n            return;\n        }\n        if(!Utils.validateString(this.register_diplayname.string)){\n            Config.clearUserPass();\n            mm.Toast.showToast(1, \"Tên hiển thị chỉ chứa các ký tự A-Z, a-z, 0-9\");\n            return;\n        }\n        if(this.register_diplayname.string == \"\"){\n            Config.clearUserPass();\n            mm.Toast.showToast(1, \"Tên hiển thị không được trống\");\n            return;\n        }\n        if(this.register_username.string.includes(\" \")){\n            Config.clearUserPass();\n            mm.Toast.showToast(1, \"Tài khoản bao gồm khoảng trắng\");\n            return;\n        }\n        if(this.register_diplayname.string.includes(\" \")){\n            Config.clearUserPass();\n            mm.Toast.showToast(1, \"Tên hiển thị bao gồm khoảng trắng\");\n            return;\n        }\n        if(this.register_username.string == this.register_diplayname.string){\n            Config.clearUserPass();\n            mm.Toast.showToast(1, \"Tài khoản và tên hiển thị trùng nhau\");\n            return;\n        }\n        if(this.register_pass.string == \"\"){\n            Config.clearUserPass();\n            mm.Toast.showToast(1, \"Mật khẩu không được trống\");\n            return;\n        }\n        if(this.register_pass.string != this.register_pass_again.string){\n            Config.clearUserPass();\n            mm.Toast.showToast(1, \"Mật khẩu không khớp\");\n            return;\n        }\n        if(this.register_pass.string.length < 6){\n            Config.clearUserPass();\n            mm.Toast.showToast(1, \"Mật khẩu nhỏ hơn 6 kí tự\");\n            return;\n        }\n        let un = this.register_username.string;\n        let pass = this.register_pass.string;\n        let zone = \"portal\";\n        let params = new SmartFoxSDK.SObject();\n        params.putByte(\"rt\", 4);\n        params.putUtfString(\"role\", \"user\");\n        params.putUtfString(\"dn\", this.register_diplayname.string);\n        let loginRequest = new CasinoRequest.LoginRequest(un, pass, zone, params);\n        SmartFoxSDK.PortalController.un = un;\n        SmartFoxSDK.PortalController.pass = pass;\n        SmartFoxSDK.PortalController.ZoneInstance.send(loginRequest.toSRequest());\n    },\n    eventClose(){\n        mm.audio.playButton();\n        this.back();\n    }\n});\n"]}