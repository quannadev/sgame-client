{"version":3,"sources":["assets\\scripts\\ui\\UIDialogBuyIn.js"],"names":["cc","Class","VozBaseComponent","properties","_distance","_current","_max","_min","_sizeDesk","_remainChip","lb_min","Label","lb_max","lb_current","lb_remain","SliderRaise","Slider","cbYes","onEnable","_data","initSlider","distance","remainChip","currentChip","min","max","node","zIndex","lastZIndex","string","Utils","formatCurrency","updateSlider","currentProcess","progress","addDotToNumber","eventPlus","mm","audio","playButton","eventSub","onSliderRaise","slider","process","Math","floor","parseFloat","toFixed","onToggleGroup","event","sizeDesk","eventConfirm","call","getBuyIn","getMinBet","eventCancel","back"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.VozBaseComponent,\r\n\r\n    properties: {\r\n        _distance: 100,\r\n        _current: 0,\r\n        _max: 0,\r\n        _min: 0,\r\n        _sizeDesk: 6,\r\n        _remainChip: 0,\r\n        lb_min: cc.Label,\r\n        lb_max: cc.Label,\r\n        lb_current: cc.Label,\r\n        lb_remain: cc.Label,\r\n        SliderRaise: cc.Slider,\r\n        cbYes: null\r\n    },\r\n    onEnable(){\r\n        this.cbYes = this._data.cbYes;\r\n        this.initSlider(this._data.distance, this._data.remainChip, this._data.currentChip, this._data.min, this._data.max);\r\n        if (this.node.zIndex <= cc.lastZIndex){\r\n            this.node.zIndex = cc.lastZIndex+1;\r\n        }\r\n    },\r\n    initSlider(distance, remainChip, currentChip, min,  max){\r\n        this._max = max;\r\n        this._min = min;\r\n        this._distance = distance;\r\n        this._current = currentChip;\r\n        this._remainChip = remainChip;\r\n        this.lb_remain.string = Utils.formatCurrency(remainChip);\r\n        this.updateSlider();\r\n    },\r\n    updateSlider(){\r\n        let currentProcess = this._current / this._max;\r\n        this.SliderRaise.progress = currentProcess;\r\n        this.lb_current.string = Utils.addDotToNumber(this._current);\r\n        this.lb_min.string = Utils.formatCurrency(this._min);\r\n        this.lb_max.string = Utils.formatCurrency(this._max);\r\n    },\r\n    eventPlus(){\r\n        mm.audio.playButton();\r\n        this._current += this._distance;\r\n        if(this._current > this._max){\r\n            this._current = this._max;\r\n        }\r\n        this.updateSlider();\r\n    },\r\n    eventSub(){\r\n        mm.audio.playButton();\r\n        this._current -= this._distance;\r\n        if(this._current < this._min){\r\n            this._current = this._min;\r\n        }\r\n        this.updateSlider();\r\n    },\r\n    onSliderRaise(slider){\r\n        let process = slider.progress;\r\n        this._current = Math.floor(parseFloat(process).toFixed(1)  * this._max);\r\n        if(this._current > this._remainChip){\r\n            this._current = this._remainChip;\r\n        }\r\n        if(this._current < this._min){\r\n            this._current = this._min;\r\n        }\r\n        this.lb_current.string = Utils.addDotToNumber(this._current);\r\n    },\r\n    onToggleGroup(event, sizeDesk){\r\n        mm.audio.playButton();\r\n        this._sizeDesk = sizeDesk;\r\n    },\r\n    eventConfirm(){\r\n        mm.audio.playButton();\r\n        if(this.cbYes){\r\n            this.cbYes.call(this);\r\n        }\r\n    },\r\n    getBuyIn(){\r\n        return this._current;\r\n    },\r\n    getMinBet(){\r\n        return this._distance;\r\n    },\r\n    eventCancel(){\r\n        mm.audio.playButton();\r\n        this.back();\r\n    }\r\n});\r\n"]}