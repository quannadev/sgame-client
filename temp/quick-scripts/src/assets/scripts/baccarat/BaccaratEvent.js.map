{"version":3,"sources":["assets\\scripts\\baccarat\\BaccaratEvent.js"],"names":["BaccaratEvent","RESPONSE_NAME","LOAD_GAME_RES","BET_RES","END_BETTING","HISTORY_RESULT","HISTORY_DETAIL","LoadGameEvent","CasinoEvent","_BaseEvent","extend","ctor","_super","fromEvent","event","isBetting","getBool","time","getInt","listChipPot","getDoubleArray","listMyChipPot","cardPlayer","getByteArray","cardBanker","usersOnboard","getUtfStringArray","winpot","chipUserOnBoard","resultArray","getSArray","allCau","i","size","sItem","get","getObject","type","push","getByte","BetEvent","userName","getUtfString","betChip","getDouble","typePot","EndBetting","HistoryResponse","result","HistoryDetailEvent","allScore","HistoryEvent","HISTORY_RES","items","data","item","session","toFixed","bet","win","bankerIds","getIntArray","playerIds","bankerPoint","playerPoint","LeaderBoardEvent","LEADERBOARD_RES","account","window","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["let BaccaratEvent = {};\r\nBaccaratEvent.RESPONSE_NAME = {\r\n    LOAD_GAME_RES: \"b1\",\r\n    BET_RES: \"b2\",\r\n    END_BETTING: \"b3\",\r\n    HISTORY_RESULT: \"b4\",\r\n    HISTORY_DETAIL: \"b5\",\r\n};\r\nBaccaratEvent.LoadGameEvent = CasinoEvent._BaseEvent.extend({\r\n    ctor(){\r\n        this._super(BaccaratEvent.RESPONSE_NAME.LOAD_GAME_RES);\r\n    },\r\n    fromEvent(event){\r\n        this.isBetting      = event.getBool(\"b\");\r\n        this.time           = event.getInt(\"t\");\r\n        this.listChipPot    = event.getDoubleArray(\"lcp\");\r\n        this.listMyChipPot  = event.getDoubleArray(\"lmcp\");\r\n        this.cardPlayer     = event.getByteArray(\"cp\");\r\n        this.cardBanker     = event.getByteArray(\"cb\");\r\n        this.usersOnboard   = event.getUtfStringArray(\"lu\");\r\n        if(!this.isBetting){\r\n            this.winpot = event.getByteArray(\"wp\");\r\n            this.chipUserOnBoard  = event.getDoubleArray(\"lc\");\r\n        }\r\n        let resultArray = event.getSArray(\"h\");\r\n        this.allCau = [];\r\n        for(let i = 0; i < resultArray.size(); i++) {\r\n            let sItem = resultArray.get(i).getObject();\r\n            let type  = sItem.getByteArray(\"rs\");\r\n            this.allCau.push({\r\n                \"cai\": sItem.getByte(\"pb\"),\r\n                \"con\": sItem.getByte(\"pp\"),\r\n                \"type\": sItem.getByteArray(\"rs\")\r\n            });\r\n\r\n        }\r\n        return this;\r\n    }\r\n})\r\nBaccaratEvent.BetEvent = CasinoEvent._BaseEvent.extend({\r\n    ctor(){\r\n        this._super(BaccaratEvent.RESPONSE_NAME.BET_RES);\r\n    },\r\n    fromEvent(event){\r\n        this.userName = event.getUtfString(\"un\");\r\n        this.betChip = event.getDouble(\"c\");\r\n        this.typePot = event.getByte(\"t\");\r\n        return this;\r\n    }\r\n});\r\nBaccaratEvent.EndBetting = CasinoEvent._BaseEvent.extend({\r\n    ctor(){\r\n        this._super(BaccaratEvent.RESPONSE_NAME.END_BETTING);\r\n    },\r\n    fromEvent(event){\r\n        this.cardPlayer = event.getByteArray(\"cp\");\r\n        this.cardBanker = event.getByteArray(\"cb\");\r\n        this.winpot     = event.getByteArray(\"wp\");\r\n        this.chipUserOnBoard  = event.getDoubleArray(\"lc\");\r\n        this.usersOnboard     = event.getUtfStringArray(\"lu\");\r\n        return this;\r\n    }\r\n});\r\nBaccaratEvent.HistoryResponse = CasinoEvent._BaseEvent.extend({\r\n    ctor(){\r\n        this._super(BaccaratEvent.RESPONSE_NAME.HISTORY_RESULT);\r\n    },\r\n    fromEvent(event){\r\n        this.result = event.getByteArray(\"lr\");\r\n        return this;\r\n    }\r\n});\r\nBaccaratEvent.HistoryDetailEvent= CasinoEvent._BaseEvent.extend({\r\n    ctor(){\r\n        this._super(BaccaratEvent.RESPONSE_NAME.HISTORY_DETAIL);\r\n    },\r\n    fromEvent(event){\r\n        let resultArray = event.getSArray(\"d\");\r\n        this.allCau   = [];\r\n        this.allScore = [];\r\n        for(let i = 0; i < resultArray.size(); i++) {\r\n            let sItem = resultArray.get(i).getObject();\r\n            this.allCau.push({\r\n                \"cai\": sItem.getByte(\"pb\"),\r\n                \"con\": sItem.getByte(\"pp\"),\r\n                \"type\": sItem.getByteArray(\"rs\")\r\n            })\r\n        }\r\n        return this.allCau;\r\n    }\r\n});\r\nBaccaratEvent.HistoryEvent = CasinoEvent._BaseEvent.extend({\r\n    ctor() {\r\n        this._super(CasinoEvent.RESPONSE_NAME.HISTORY_RES);\r\n        this.items = [];\r\n    },\r\n    fromEvent(event){\r\n        let data = event.getSArray(\"d\");\r\n        for(let i = 0; i < data.size(); i++){\r\n            let sItem   = data.get(i).getObject();\r\n            let item = {};\r\n            item.session     = sItem.getDouble(\"id\").toFixed(0);\r\n            item.time        = sItem.getUtfString(\"t\");\r\n            item.bet         = sItem.getDoubleArray(\"b\");\r\n            item.win         = sItem.getDoubleArray(\"w\");\r\n            item.bankerIds   = sItem.getIntArray(\"cb\");\r\n            item.playerIds   = sItem.getIntArray(\"cp\");\r\n            item.bankerPoint = sItem.getInt(\"pb\");\r\n            item.playerPoint = sItem.getInt(\"pp\");\r\n            this.items.push(item);\r\n        }\r\n        return this.items;\r\n    }\r\n});\r\nBaccaratEvent.LeaderBoardEvent = CasinoEvent._BaseEvent.extend({\r\n    ctor() {\r\n        this._super(CasinoEvent.RESPONSE_NAME.LEADERBOARD_RES);\r\n        this.items = [];\r\n    },\r\n    fromEvent(event){\r\n        let data = event.getSArray(\"d\");\r\n        for(let i = 0;i < data.size();i++){\r\n            let sItem = data.get(i).getObject();\r\n            let item = {};\r\n            item.session = i;\r\n            item.account = sItem.getUtfString(\"dn\");\r\n            item.win = sItem.getDouble(\"m\");\r\n            this.items.push(item);\r\n        }\r\n        return this.items;\r\n    }\r\n});\r\nwindow.BaccaratEvent = module.exports = BaccaratEvent;\r\n"]}