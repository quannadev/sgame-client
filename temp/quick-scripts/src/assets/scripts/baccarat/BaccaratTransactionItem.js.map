{"version":3,"sources":["assets/scripts/baccarat/BaccaratTransactionItem.js"],"names":["BaccaratCard","require","cc","Class","BaseItemCustom","properties","lbPhien","Label","lbBetConDoi","lbBetCon","lbBetHoa","lbBetCai","lbBetCaiDoi","lbWin","baiCon","Node","baiCai","lbTime","init","dataTransaction","string","session","Utils","addDotToNumber","bet","getWin","win","reFormatDisplayTime","time","playerIds","length","getChildByName","active","getComponent","Card","bankerIds","playerPoint","bankerPoint","prizes","total","i"],"mappings":"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","sourceRoot":"/","sourcesContent":["let BaccaratCard = require('BaccaratCard');\ncc.Class({\n    extends: cc.BaseItemCustom,\n\n    properties: {\n        lbPhien     : cc.Label,\n        lbBetConDoi : cc.Label,\n        lbBetCon    : cc.Label,\n        lbBetHoa    : cc.Label,\n        lbBetCai    : cc.Label,\n        lbBetCaiDoi : cc.Label,\n        lbWin       : cc.Label,\n        baiCon      : cc.Node,\n        baiCai      : cc.Node,\n        lbTime      : cc.Label,\n    },\n    init(dataTransaction) {\n        this.lbPhien.string     = \"#\"+dataTransaction.session;\n        this.lbBetConDoi.string        = Utils.addDotToNumber(dataTransaction.bet[0]);\n        this.lbBetCon.string           = Utils.addDotToNumber(dataTransaction.bet[1]);\n        this.lbBetHoa.string           = Utils.addDotToNumber(dataTransaction.bet[2]);\n        this.lbBetCai.string           = Utils.addDotToNumber(dataTransaction.bet[3]);\n        this.lbBetCaiDoi.string        = Utils.addDotToNumber(dataTransaction.bet[4]);\n        this.lbWin.string              = Utils.addDotToNumber(this.getWin(dataTransaction.win));\n        this.lbTime.string             = Utils.reFormatDisplayTime(dataTransaction.time);\n        if (dataTransaction.playerIds.length>2){\n            this.baiCon.getChildByName(\"card3\").active = true;\n            this.baiCon.getChildByName(\"card3\").getComponent(\"ItemCard\").init(new BaccaratCard.Card(dataTransaction.playerIds[2]));\n        }else\n            this.baiCon.getChildByName(\"card3\").active = false;\n        this.baiCon.getChildByName(\"card1\").getComponent(\"ItemCard\").init(new BaccaratCard.Card(dataTransaction.playerIds[0]));\n        this.baiCon.getChildByName(\"card2\").getComponent(\"ItemCard\").init(new BaccaratCard.Card(dataTransaction.playerIds[1]));\n\n        this.baiCai.getChildByName(\"card1\").getComponent(\"ItemCard\").init(new BaccaratCard.Card(dataTransaction.bankerIds[0]));\n        this.baiCai.getChildByName(\"card2\").getComponent(\"ItemCard\").init(new BaccaratCard.Card(dataTransaction.bankerIds[1]));\n        if (dataTransaction.bankerIds.length>2){\n            this.baiCai.getChildByName(\"card3\").active = true;\n            this.baiCai.getChildByName(\"card3\").getComponent(\"ItemCard\").init(new BaccaratCard.Card(dataTransaction.bankerIds[2]));\n        }else\n            this.baiCai.getChildByName(\"card3\").active = false;\n\n        this.baiCon.getChildByName(\"lb_point\").getComponent(cc.Label).string = dataTransaction.playerPoint;\n        this.baiCai.getChildByName(\"lb_point\").getComponent(cc.Label).string = dataTransaction.bankerPoint;\n    },\n    getWin(prizes){\n        let total = 0;\n        for (let i=0; i< prizes.length; i++){\n            total += prizes[i];\n        }\n        return total;\n    }\n});\n"]}