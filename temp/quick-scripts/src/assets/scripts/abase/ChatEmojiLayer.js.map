{"version":3,"sources":["assets/scripts/abase/ChatEmojiLayer.js"],"names":["cc","Class","Component","properties","initController","controlerSend","chatController","onEventSelect","event","data","target","parent","active","msg","sendMessage","mess","param","SmartFoxSDK","SObject","putUtfString","GameVariables","getDisplayName","mySelf","send","SmartFox","Requests","System","PublicMessageRequest","eventSendChat","edtChat","node","getChildByName","getComponent","EditBox","string","length"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE,EAHP;AAKLC,EAAAA,cALK,0BAKUC,aALV,EAKyB;AAC1B,SAAKC,cAAL,GAAsBD,aAAtB;AACH,GAPI;AAQLE,EAAAA,aARK,yBAQSC,KART,EAQgBC,IARhB,EAQsB;AACvBD,IAAAA,KAAK,CAACE,MAAN,CAAaC,MAAb,CAAoBC,MAApB,GAA6B,KAA7B;AACA,QAAIC,GAAG,GAAI,WAASJ,IAApB;AACA,SAAKK,WAAL,CAAiBD,GAAjB;AACH,GAZI;AAaLC,EAAAA,WAbK,uBAaOC,IAbP,EAaY;AACb,QAAIC,KAAK,GAAG,IAAIC,WAAW,CAACC,OAAhB,EAAZ;AACAF,IAAAA,KAAK,CAACG,YAAN,CAAmB,IAAnB,EAAyB,EAAzB;AACAH,IAAAA,KAAK,CAACG,YAAN,CAAmB,IAAnB,EAAyBC,aAAa,CAACC,cAAd,CAA6B,KAAKf,cAAL,CAAoBgB,MAAjD,CAAzB;AACA,SAAKhB,cAAL,CAAoBiB,IAApB,CAAyB,IAAIN,WAAW,CAACO,QAAZ,CAAqBC,QAArB,CAA8BC,MAA9B,CAAqCC,oBAAzC,CAA8DZ,IAA9D,EAAoEC,KAApE,CAAzB;AACH,GAlBI;AAmBLY,EAAAA,aAnBK,yBAmBSpB,KAnBT,EAmBgBC,IAnBhB,EAmBsB;AACvB,QAAIoB,OAAO,GAAG,KAAKC,IAAL,CAAUC,cAAV,CAAyB,SAAzB,EAAoCC,YAApC,CAAiDhC,EAAE,CAACiC,OAApD,CAAd;;AACA,QAAGJ,OAAO,CAACK,MAAR,CAAeC,MAAf,GAAwB,CAA3B,EAA6B;AACzB,WAAKrB,WAAL,CAAiBe,OAAO,CAACK,MAAzB;AACAL,MAAAA,OAAO,CAACK,MAAR,GAAiB,EAAjB;AACA1B,MAAAA,KAAK,CAACE,MAAN,CAAaC,MAAb,CAAoBC,MAApB,GAA6B,KAA7B;AACH;AACJ;AA1BI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n    },\n    initController(controlerSend) {\n        this.chatController = controlerSend;\n    },\n    onEventSelect(event, data) {\n        event.target.parent.active = false;\n        let msg =  \"emoij_\"+data;\n        this.sendMessage(msg);\n    },\n    sendMessage(mess){\n        let param = new SmartFoxSDK.SObject();\n        param.putUtfString(\"fb\", \"\");\n        param.putUtfString(\"dn\", GameVariables.getDisplayName(this.chatController.mySelf));\n        this.chatController.send(new SmartFoxSDK.SmartFox.Requests.System.PublicMessageRequest(mess, param));\n    },\n    eventSendChat(event, data) {\n        let edtChat = this.node.getChildByName(\"edtChat\").getComponent(cc.EditBox);\n        if(edtChat.string.length > 0){\n            this.sendMessage(edtChat.string);\n            edtChat.string = \"\";\n            event.target.parent.active = false;\n        }\n    },\n});\n"]}