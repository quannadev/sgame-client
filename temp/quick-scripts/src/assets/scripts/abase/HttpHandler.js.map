{"version":3,"sources":["assets/scripts/abase/HttpHandler.js"],"names":["HttpHandler","get","url","cb","xhr","XMLHttpRequest","onreadystatechange","readyState","status","response","responseText","open","send","post","data","console","log","cc","loader","getXMLHttpRequest","setRequestHeader","json","JSON","parse","stringify","module","exports"],"mappings":";;;;;;AAAA,IAAIA,WAAW,GAAG;AACdC,EAAAA,GADc,eACVC,GADU,EACJC,EADI,EACD;AACT,QAAIC,GAAG,GAAG,IAAIC,cAAJ,EAAV;;AACAD,IAAAA,GAAG,CAACE,kBAAJ,GAAyB,YAAY;AACjC,UAAIF,GAAG,CAACG,UAAJ,IAAkB,CAAlB,IAAwBH,GAAG,CAACI,MAAJ,IAAc,GAAd,IAAqBJ,GAAG,CAACI,MAAJ,GAAa,GAA9D,EAAoE;AAChE,YAAIC,QAAQ,GAAGL,GAAG,CAACM,YAAnB;;AACA,YAAIP,EAAJ,EAAQ;AACJA,UAAAA,EAAE,CAACM,QAAD,CAAF;AACH;AACJ,OALD,MAKO,CACN;AACJ,KARD;;AASAL,IAAAA,GAAG,CAACO,IAAJ,CAAS,KAAT,EAAgBT,GAAhB,EAAqB,IAArB;AACAE,IAAAA,GAAG,CAACQ,IAAJ;AACH,GAda;AAedC,EAAAA,IAfc,gBAeTX,GAfS,EAeHY,IAfG,EAeIX,EAfJ,EAeO;AACjBY,IAAAA,OAAO,CAACC,GAAR,CAAYd,GAAZ;AACA,QAAIE,GAAG,GAAGa,EAAE,CAACC,MAAH,CAAUC,iBAAV,EAAV;AACAf,IAAAA,GAAG,CAACO,IAAJ,CAAS,MAAT,EAAiBT,GAAjB,EAAsB,IAAtB;AACAE,IAAAA,GAAG,CAACgB,gBAAJ,CAAqB,cAArB,EAAqC,0BAArC;;AACAhB,IAAAA,GAAG,CAACE,kBAAJ,GAAyB,YAAY;AACjC,UAAIF,GAAG,CAACG,UAAJ,IAAkB,CAAlB,IAAwBH,GAAG,CAACI,MAAJ,IAAc,GAAd,IAAqBJ,GAAG,CAACI,MAAJ,GAAa,GAA9D,EAAoE;AAChE,YAAIa,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWnB,GAAG,CAACM,YAAf,CAAX;;AACA,YAAIP,EAAJ,EAAQ;AACJA,UAAAA,EAAE,CAACkB,IAAD,CAAF;AACH;AAEJ;AACJ,KARD;;AAUAjB,IAAAA,GAAG,CAACQ,IAAJ,CAASU,IAAI,CAACE,SAAL,CAAeV,IAAf,CAAT;AACH,GA/Ba,CAgCd;AACA;AACA;AACA;AACA;AACA;AACA;;AAtCc,CAAlB;AAwCAW,MAAM,CAACC,OAAP,GAAiB1B,WAAjB","sourceRoot":"/","sourcesContent":["let HttpHandler = {\n    get(url , cb){\n        var xhr = new XMLHttpRequest();\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState == 4 && (xhr.status >= 200 && xhr.status < 400)) {\n                var response = xhr.responseText;\n                if (cb) {\n                    cb(response);\n                }\n            } else {\n            }\n        };\n        xhr.open(\"GET\", url, true);\n        xhr.send();\n    },\n    post(url , data , cb){\n        console.log(url)\n        var xhr = cc.loader.getXMLHttpRequest();\n        xhr.open(\"POST\", url, true);\n        xhr.setRequestHeader(\"Content-Type\", \"text/plain;charset=UTF-8\");\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState == 4 && (xhr.status >= 200 && xhr.status < 400)) {\n                var json = JSON.parse(xhr.responseText);\n                if (cb) {\n                    cb(json);\n                }\n\n            }\n        }\n\n        xhr.send(JSON.stringify(data));\n    }\n    // (user_name, password, callback){\n    //     var data = {\n    //         \"un\": user_name,\n    //         \"pwd\": password\n    //     }\n    //     this.post(Config.URL+\"authen\",data,callback);\n    // }\n};\nmodule.exports = HttpHandler;"]}