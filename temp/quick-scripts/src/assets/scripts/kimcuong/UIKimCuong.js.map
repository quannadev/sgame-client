{"version":3,"sources":["assets\\scripts\\kimcuong\\UIKimCuong.js"],"names":["WinGame","require","Helper","reel","line","UtilsUI","TrialResult","Language","ListRoom","cc","Enum","Class","VozBaseComponent","properties","reels","type","iconPrefab","Prefab","noticeNode","Node","btnQuay","btnQuayNhanh","btnStopQuay","btnAutoQuay","bangThuong","lbNumberLine","Label","lbNumberStake","lbMoneyWin","lbSession","selectLines","listMainLines","isAuto","isFast","isSpin","isFreeSpin","red","lastResult","betSelect","roomNumber","posLineWin","totalLineWin","_TotalColumn","lb_phong","lb_sodu","lb_hu","toggleMusic","Toggle","toggleSound","bgSound","AudioClip","soundSpinMis","soundSpinWin","soundBigWin","soundJackpot","soundBonus","soundClick","soundSpin","menuSetting","_keyMusic","_keySound","_musicSlotState","_soundSlotState","_isFreeTrial","_myMoneyTrial","_mySession","onLoad","TotalItemRun","totalSymbol","winMoney","freeSpin","init","string","Utils","addDotToNumber","GameVariables","Poker","getChip","SmartFoxSDK","KimCuongController","ZoneInstance","mySelf","schedule","updateJackpot","initSound","musicSave","sys","localStorage","getItem","parseInt","setItem","soundSave","isChecked","musicId","audioEngine","play","pause","onDisable","eventMusic","resume","eventSound","playSpin","playSpinMis","playSpinWin","playBigWin","playJackpot","playBonus","playClick","key","betLevel","variableJackpot","getVariable","jackpot","value","current_lb_jackpot","split","join","currentHu","parseFloat","numberTo","updateUserVariableSlot","event","changedVars","indexOf","user","isItMe","updateFreeSpin","updateUserVariable","subChip","currentUI","onEnable","mm","audio","pauseMusic","undefined","MiniGame","numberWithCommas","getMoneyInRoom","loadImageRes","node","getChildByName","getComponent","Sprite","showLineWin","Loading","hide","self","lineArr1","lineArr2","lineArr3","Promise","all","map","index","lastArray","initRandomItems","push","length","then","result","concat","setNumberLines","totalLines","setNumberStake","totalStake","setMoneyWin","totalMoney","updateDataPhong","roomId","eventQuayNhanh","addNotice","getString","checkEnoughMoney","pauseSystemEventNode","active","autoQuay","eventAutoQuay","runQuay","getTotalBet","KimCuongRun","getItemTrial","betRequest","KimCuongRequest","BetRequest","setBet","setLinesBet","send","toSRequest","eventStopQuay","request","StopAutoPlayRequest","eventPhong","data","getTotalLineSelect","eventSelectLines","eventOpen","totalBet","typeLine","listLine","i","eventQuay","AutoPlayRequest","bet","getTotalLine","getTotalLineLe","getTotalLineChan","setLineLe","setLineChan","setLine","Toast","showToast","nodeEvent","isPause","setMaterialGray","pauseSystemEvents","resumeSystemEvents","eventBack","UIManger","show","pop","src","eventSetting","eventVinhDanh","CasinoRequest","LeaderBoardRequest","eventLichSuGiaoDich","HistoryRequest","eventBangThuong","eventCloseBangThuong","getDataResult","cel","cel_index","icon","icons","setIcon","lineWin","freeGift","isBonus","isFree","session","isNoHu","isNohu","isThangLon","runReels","numberItem","listItem","random","newArray","randomArr","reformatResult","size","res","slice","runActionWon","runWinGame","setTimeout","bind","setEventMainLine","children","mainLine","isShow","posLine","onEf","scheduleOnce","offEf","showMainLine","unschedule","offhover","spin","copy","Math","pow","checkHasMoney","message"],"mappings":"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","sourceRoot":"/","sourcesContent":["let WinGame     = require(\"KimCuongWinGame\");\r\nlet Helper      = require(\"Helper\");\r\nlet reel        = require(\"KimCuongReel\");\r\nlet line        = require(\"KimCuongLine\");\r\nlet UtilsUI     = require(\"UtilsUI\");\r\nlet TrialResult = require(\"TrialResult\");\r\nlet Language    = require(\"kimcuongLanguage\");\r\nlet ListRoom = cc.Enum({\r\n    \"1l\"   : 1,\r\n    \"1k\"    : 2,\r\n    \"10k\"   : 3\r\n});\r\ncc.Class({\r\n    extends: cc.VozBaseComponent,\r\n\r\n    properties: {\r\n        reels: {\r\n            default: [],\r\n            type: reel,\r\n        },\r\n        iconPrefab          : cc.Prefab,\r\n        noticeNode             : cc.Node,\r\n        btnQuay             : cc.Node,\r\n        btnQuayNhanh        : cc.Node,\r\n        btnStopQuay         : cc.Node,\r\n        btnAutoQuay         : cc.Node,\r\n        bangThuong          : cc.Node,\r\n        lbNumberLine        : cc.Label,\r\n        lbNumberStake       : cc.Label,\r\n        lbMoneyWin          : cc.Label,\r\n        lbSession           : cc.Label,\r\n        selectLines         : line,\r\n        WinGame             : WinGame,\r\n        listMainLines       : cc.Node,\r\n        // edtCheat           : cc.EditBox,\r\n        isAuto              : false,\r\n        isFast              : false,\r\n        isSpin              : false,\r\n        isFreeSpin          : false,\r\n        red                 : true,\r\n        lastResult          : [],\r\n        betSelect           : 0,\r\n        roomNumber          : 0,\r\n        posLineWin          : 0,\r\n        totalLineWin        : 0,\r\n        _TotalColumn        : 5,\r\n        lb_phong: cc.Label,\r\n        lb_sodu: cc.Label,\r\n        lb_hu: cc.Label,\r\n        toggleMusic: cc.Toggle,\r\n        toggleSound: cc.Toggle,\r\n        bgSound: cc.AudioClip,\r\n        soundSpinMis: cc.AudioClip,\r\n        soundSpinWin: cc.AudioClip,\r\n        soundBigWin: cc.AudioClip,\r\n        soundJackpot: cc.AudioClip,\r\n        soundBonus: cc.AudioClip,\r\n        soundClick: cc.AudioClip,\r\n        soundSpin: cc.AudioClip,\r\n        menuSetting: cc.Node,\r\n        _keyMusic: \"music_kc\",\r\n        _keySound: \"sound_kc\",\r\n        _musicSlotState : 0,\r\n        _soundSlotState : 0,\r\n        _isFreeTrial : false,\r\n        _myMoneyTrial : 0,\r\n        _mySession : 0,\r\n    },\r\n    onLoad () {\r\n        this._TotalColumn     = 5;\r\n        this.TotalItemRun     = 20;\r\n        this.totalSymbol      = 7;\r\n        this.winMoney         = 0;\r\n        this.freeSpin         = 0;\r\n        this.init();\r\n        this.roomNumber       = ListRoom[\"1l\"];\r\n        this.lb_sodu.string = Utils.addDotToNumber(GameVariables.Poker.getChip(SmartFoxSDK.KimCuongController.ZoneInstance.mySelf));\r\n        this.schedule(this.updateJackpot, 3);\r\n        this.updateJackpot();\r\n        this.initSound();\r\n    },\r\n    initSound() {\r\n        var musicSave = cc.sys.localStorage.getItem(this._keyMusic);\r\n        if (musicSave != null) {\r\n            this._musicSlotState = parseInt(musicSave);\r\n        } else {\r\n            this._musicSlotState = 1;\r\n            cc.sys.localStorage.setItem(this._keyMusic, \"1\");\r\n        }\r\n\r\n        var soundSave = cc.sys.localStorage.getItem(this._keySound);\r\n        if (soundSave != null) {\r\n            this._soundSlotState = parseInt(soundSave);\r\n        } else {\r\n            this._soundSlotState = 1;\r\n            cc.sys.localStorage.setItem(this._keySound, \"1\");\r\n        }\r\n        if(this.bgSound != null && !this.toggleMusic.isChecked) {\r\n            this.musicId = cc.audioEngine.play(this.bgSound, true, 1);\r\n        }else{\r\n            cc.audioEngine.pause(this.musicId);\r\n        }\r\n    },\r\n    onDisable(){\r\n        cc.audioEngine.pause(this.musicId);\r\n    },\r\n    eventMusic() {\r\n        this._musicSlotState         = this.toggleSound.isChecked? 0: 1;\r\n        if (!this.toggleMusic.isChecked){\r\n            cc.audioEngine.resume(this.musicId);\r\n        }else\r\n            cc.audioEngine.pause(this.musicId);\r\n        cc.sys.localStorage.setItem(this._keyMusic,  this._musicSlotState);\r\n    },\r\n    eventSound() {\r\n        this._soundSlotState = this.toggleSound.isChecked? 0: 1;\r\n        cc.sys.localStorage.setItem(this._keySound,  this._soundSlotState);\r\n    },\r\n    playSpin() {\r\n        if (this._soundSlotState == 1) {\r\n            cc.audioEngine.play(this.soundSpin, false, 1);\r\n        }\r\n    },\r\n    playSpinMis() {\r\n        if (this._soundSlotState == 1) {\r\n            cc.audioEngine.play(this.soundSpinMis, false, 1);\r\n        }\r\n    },\r\n    playSpinWin() {\r\n        if (this._soundSlotState == 1) {\r\n            cc.audioEngine.play(this.soundSpinWin, false, 1);\r\n        }\r\n    },\r\n    playBigWin() {\r\n        if (this._soundSlotState == 1) {\r\n            cc.audioEngine.play(this.soundBigWin, false, 1);\r\n        }\r\n    },\r\n    playJackpot() {\r\n        if (this._soundSlotState == 1) {\r\n            cc.audioEngine.play(this.soundJackpot, false, 1);\r\n        }\r\n    },\r\n    playBonus() {\r\n        if (this._soundSlotState == 1) {\r\n            cc.audioEngine.play(this.soundBonus, false, 1);\r\n        }\r\n    },\r\n    playClick() {\r\n        if (this._soundSlotState == 1) {\r\n            cc.audioEngine.play(this.soundClick, false, 1);\r\n        }\r\n    },\r\n    updateJackpot(){\r\n        let key = \"kimcuong\"+cc.betLevel;\r\n        if(SmartFoxSDK.KimCuongController.ZoneInstance.mySelf){\r\n            if(SmartFoxSDK.KimCuongController.ZoneInstance.mySelf){\r\n                let variableJackpot = SmartFoxSDK.KimCuongController.ZoneInstance.mySelf.getVariable(key);\r\n                if(variableJackpot){\r\n                    let jackpot = variableJackpot.value;\r\n                    let current_lb_jackpot = this.lb_hu.string;\r\n                    current_lb_jackpot = current_lb_jackpot.split(\".\").join(\"\");\r\n                    let currentHu = parseFloat(current_lb_jackpot);\r\n                    Utils.numberTo(this.lb_hu, currentHu, jackpot, 1000, true);\r\n                }\r\n            }\r\n\r\n        }\r\n    },\r\n    updateUserVariableSlot(event){\r\n        let key = \"fskimcuong\"+cc.betLevel;\r\n        if(event.changedVars.indexOf(key) >= 0){\r\n            // get free spine of room in here\r\n            //key: \"fs\" + \"kimcuong1l\" free spin of bet 100\r\n            // key: \"fs\" + \"kimcuong1k\" free spin of bet 1000\r\n            // key: \"fs\" + \"kimcuong10k\" free spin of bet 1000\r\n            if(event.user.isItMe){\r\n                let freeSpin    = SmartFoxSDK.KimCuongController.ZoneInstance.mySelf.getVariable(key).value;\r\n                this.freeSpin   = freeSpin;\r\n                this.WinGame.updateFreeSpin();\r\n            }\r\n        }\r\n    },\r\n    updateUserVariable(subChip){\r\n        if (!this._isFreeTrial && cc.currentUI != \"\")\r\n            this.lb_sodu.string = Utils.addDotToNumber(GameVariables.Poker.getChip(SmartFoxSDK.KimCuongController.ZoneInstance.mySelf)-subChip);\r\n    },\r\n    onEnable(){\r\n        mm.audio.pauseMusic();\r\n        if (cc.betLevel == \"choithu\"){\r\n            this._isFreeTrial     = true;\r\n            this._myMoneyTrial    = 50000000;\r\n            this.lb_sodu.string   = Utils.addDotToNumber(50000000);\r\n            this._mySession       = 0;\r\n            this.lbSession.string = \"#\"+this._mySession;\r\n        }else{\r\n            this._myMoneyTrial = 0;\r\n            this._isFreeTrial  = false;\r\n        }\r\n        this.roomNumber = ListRoom[cc.betLevel];\r\n        if(this.roomNumber === undefined){\r\n            cc.betLevel = \"1l\";\r\n        }\r\n        this.roomNumber = ListRoom[cc.betLevel];MiniGame\r\n        this.roomNumber = (this.roomNumber)%4;\r\n        this.roomNumber = this.roomNumber < 1 ? 1: this.roomNumber;\r\n        this.lb_phong.string = Helper.numberWithCommas(this.getMoneyInRoom());\r\n        UtilsUI.loadImageRes(this.node.getChildByName(\"bgGame\").getComponent(cc.Sprite), \"images/kimcuong/mainGameBg\"+this.roomNumber);\r\n        UtilsUI.loadImageRes(this.node.getChildByName(\"borderGame\").getComponent(cc.Sprite), \"images/kimcuong/border-phong\"+this.roomNumber);\r\n        this.selectLines.init(this);\r\n        this.WinGame.init(this);\r\n        this.lbMoneyWin.string = \"0\";\r\n        this.showLineWin(false);\r\n        mm.Loading.hide();\r\n    },\r\n    init: function() {\r\n        let self = this;\r\n        let lineArr1 = [];\r\n        let lineArr2 = [];\r\n        let lineArr3 = [];\r\n        Promise.all(this.reels.map(function(reel, index) {\r\n            let lastArray = [];\r\n            lastArray = self.initRandomItems(self.TotalItemRun);\r\n\r\n            lineArr1.push(lastArray[lastArray.length-1]);\r\n            lineArr2.push(lastArray[lastArray.length-2]);\r\n            lineArr3.push(lastArray[lastArray.length-3]);\r\n            reel.init(self, lastArray);\r\n        })).then(result => {\r\n            self.lastResult = lineArr3.concat(lineArr2).concat(lineArr1);\r\n        });\r\n    },\r\n    setNumberLines: function(totalLines) {\r\n        this.lbNumberLine.string = totalLines;\r\n    },\r\n    setNumberStake: function(totalStake) {\r\n        this.lbNumberStake.string = Helper.numberWithCommas(totalStake*this.getMoneyInRoom());\r\n    },\r\n    setMoneyWin: function(totalMoney) {\r\n        Helper.numberTo(this.lbMoneyWin, parseInt(this.lbMoneyWin.string), totalMoney, 1200, true);\r\n        if (!this._isFreeTrial){\r\n            this.lb_sodu.string = Utils.addDotToNumber(GameVariables.Poker.getChip(SmartFoxSDK.KimCuongController.ZoneInstance.mySelf));\r\n        }else{\r\n            this._myMoneyTrial = this._myMoneyTrial + this.winMoney;\r\n            this.lb_sodu.string = Utils.addDotToNumber(this._myMoneyTrial);\r\n        }\r\n        this.isSpin    = false;\r\n    },\r\n    updateDataPhong(roomId) {\r\n\r\n    },\r\n    // update (dt) {},\r\n    eventQuayNhanh: function() {\r\n        if (this._isFreeTrial){\r\n            this.addNotice(Language.getString(\"noti_not_trial\"));\r\n            return;\r\n        }\r\n        if(!this.checkEnoughMoney()){\r\n            this.addNotice(Language.getString(\"noti_not_money\"));\r\n            return;\r\n        }\r\n        if (this.isSpin){\r\n            this.addNotice(Language.getString(\"noti_is_playing\"));\r\n            return;\r\n        }\r\n\r\n        this.isSpin = true;\r\n        this.isFast = true;\r\n        this.isAuto = true;\r\n        this.pauseSystemEventNode(this.btnAutoQuay, false);\r\n        this.pauseSystemEventNode(this.btnQuayNhanh, true);\r\n        this.btnStopQuay.active = true;\r\n        this.autoQuay();\r\n    },\r\n    eventAutoQuay: function() {\r\n        if (this._isFreeTrial){\r\n            this.addNotice(Language.getString(\"noti_not_trial\"));\r\n            return;\r\n        }\r\n        if(!this.checkEnoughMoney()){\r\n            this.addNotice(Language.getString(\"noti_not_money\"));\r\n            return;\r\n        }\r\n        if (this.isSpin){\r\n            this.addNotice(Language.getString(\"noti_is_playing\"));\r\n            return;\r\n        }\r\n        this.isSpin = true;\r\n        this.isFast = false;\r\n        this.isAuto = true;\r\n        this.pauseSystemEventNode(this.btnAutoQuay, true);\r\n        this.pauseSystemEventNode(this.btnQuayNhanh, false);\r\n        this.btnStopQuay.active = true;\r\n        this.autoQuay();\r\n    },\r\n    runQuay() {\r\n        if (this._isFreeTrial){\r\n            this.isSpin    = true;\r\n            this._myMoneyTrial = this._myMoneyTrial-this.getTotalBet();\r\n            if (this.freeSpin < 1)\r\n                this.lb_sodu.string = Utils.addDotToNumber(this._myMoneyTrial);\r\n            if (this._myMoneyTrial < 1)\r\n                this.addNotice(Language.getString(\"noti_not_money\"));\r\n            this._mySession++;\r\n            this.KimCuongRun(TrialResult.getItemTrial());\r\n            this.freeSpin--;\r\n        }else{\r\n            this.playSpin();\r\n            this.isSpin    = true;\r\n            let betRequest = new KimCuongRequest.BetRequest();\r\n            this.showLineWin(false);\r\n            betRequest.setBet(this.getMoneyInRoom());\r\n            this.setLinesBet(betRequest);\r\n            if(!this.checkEnoughMoney()){\r\n                this.addNotice(Language.getString(\"noti_not_money\"));\r\n                return;\r\n            }\r\n            // sub money\r\n            if (this.freeSpin < 1)\r\n                this.lb_sodu.string = Utils.addDotToNumber(GameVariables.Poker.getChip(SmartFoxSDK.KimCuongController.ZoneInstance.mySelf) - this.getTotalBet());\r\n            SmartFoxSDK.KimCuongController.ZoneInstance.send(betRequest.toSRequest());\r\n        }\r\n    },\r\n    eventStopQuay: function() {\r\n        this.isFast = false;\r\n        this.isAuto = false;\r\n        this.btnStopQuay.active = false;\r\n        this.pauseSystemEventNode(this.btnAutoQuay, false);\r\n        this.pauseSystemEventNode(this.btnQuayNhanh, false);\r\n\r\n        let request = new KimCuongRequest.StopAutoPlayRequest();\r\n        SmartFoxSDK.KimCuongController.ZoneInstance.send(request.toSRequest());\r\n    },\r\n    eventPhong: function(event, data) {\r\n        if (this._isFreeTrial){\r\n            this.addNotice(Language.getString(\"noti_not_trial\"));\r\n            return;\r\n        }\r\n        if (this.isSpin || this.isAuto || this.isFast){\r\n            this.addNotice(Language.getString(\"noti_is_playing\"));\r\n            return;\r\n        }\r\n        this.roomNumber = (this.roomNumber + 1)%4;\r\n        this.roomNumber = this.roomNumber < 1 ? 1: this.roomNumber;\r\n        this.lb_phong.string = Helper.numberWithCommas(this.getMoneyInRoom());\r\n        UtilsUI.loadImageRes(this.node.getChildByName(\"bgGame\").getComponent(cc.Sprite), \"images/kimcuong/mainGameBg\"+this.roomNumber);\r\n        UtilsUI.loadImageRes(this.node.getChildByName(\"borderGame\").getComponent(cc.Sprite), \"images/kimcuong/border-phong\"+this.roomNumber);\r\n        this.setNumberStake(this.selectLines.getTotalLineSelect());\r\n        if(this.roomNumber == 1){\r\n            cc.betLevel = \"1l\";\r\n        }else if(this.roomNumber == 2){\r\n            cc.betLevel = \"1k\";\r\n        }else if(this.roomNumber == 3){\r\n            cc.betLevel = \"10k\";\r\n        }\r\n        this.updateJackpot();\r\n    },\r\n    eventSelectLines: function(){\r\n        if (this._isFreeTrial){\r\n            this.addNotice(Language.getString(\"noti_not_trial\"));\r\n            return;\r\n        }\r\n        if (this.isSpin || this.isAuto || this.isFast){\r\n            this.addNotice(Language.getString(\"noti_is_playing\"));\r\n            return;\r\n        }\r\n        this.selectLines.eventOpen();\r\n    },\r\n    checkEnoughMoney(){\r\n        let totalBet = this.getMoneyInRoom() * 25;\r\n        switch (this.selectLines.typeLine) {\r\n            case 1:\r\n                totalBet = this.getMoneyInRoom() * 13;\r\n                break;\r\n            case 2:\r\n                totalBet = this.getMoneyInRoom() * 12;\r\n                break;\r\n            case 3:\r\n                let listLine = [];\r\n                for (let i=1; i< this.selectLines.data.length; i++){\r\n                    if (this.selectLines.data[i]){\r\n                        listLine.push(i);\r\n                    }\r\n                }\r\n                totalBet = this.getMoneyInRoom() * listLine.length;\r\n                break;\r\n        }\r\n        if(GameVariables.Poker.getChip(SmartFoxSDK.KimCuongController.ZoneInstance.mySelf) < totalBet){\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    autoQuay() {\r\n        if (this._isFreeTrial){\r\n            if (this.freeSpin > 0){\r\n                this.eventQuay();\r\n            }\r\n        }else {\r\n            if (this.freeSpin < 1){\r\n                if (this.isAuto){\r\n                    let request    = new KimCuongRequest.AutoPlayRequest();\r\n                    request.setBet(this.getMoneyInRoom());\r\n                    this.setLinesBet(request);\r\n                    if(!this.checkEnoughMoney()){\r\n                        this.addNotice(Language.getString(\"noti_not_money\"));\r\n                        return;\r\n                    }\r\n                    SmartFoxSDK.KimCuongController.ZoneInstance.send(request.toSRequest());\r\n                    this.lb_sodu.string = Utils.addDotToNumber(GameVariables.Poker.getChip(SmartFoxSDK.KimCuongController.ZoneInstance.mySelf) - this.getTotalBet());\r\n                }\r\n            }else{\r\n                this.eventQuay();\r\n            }\r\n        }\r\n    },\r\n\r\n    getTotalBet(){\r\n        let bet = this.getMoneyInRoom();\r\n        switch (this.selectLines.typeLine) {\r\n            case 0: // all\r\n                return this.selectLines.getTotalLine() * bet;\r\n            case 1: // le\r\n                return this.selectLines.getTotalLineLe()* bet;\r\n            case 2: // chan\r\n                return this.selectLines.getTotalLineChan()* bet;\r\n            case 3:\r\n                return this.selectLines.getTotalLineSelect() * bet;\r\n        }\r\n        return bet;\r\n    },\r\n    setLinesBet(request){\r\n        switch (this.selectLines.typeLine) {\r\n            case 1:\r\n                request.setLineLe();\r\n                break;\r\n            case 2:\r\n                request.setLineChan();\r\n                break;\r\n            case 3:\r\n                let listLine = [];\r\n                for (let i=1; i< this.selectLines.data.length; i++){\r\n                    if (this.selectLines.data[i]){\r\n                        listLine.push(i);\r\n                    }\r\n                }\r\n                request.setLine(listLine);\r\n                break;\r\n        }\r\n    },\r\n    eventQuay: function() {\r\n        if(!this._isFreeTrial && !this.checkEnoughMoney()){\r\n            mm.Toast.showToast(1, Language.getString(\"noti_not_money\"));\r\n            return;\r\n        }\r\n        this.pauseSystemEventNode(this.btnQuay, true);\r\n        this.runQuay();\r\n    },\r\n    pauseSystemEventNode: function(nodeEvent, isPause) {\r\n        Helper.setMaterialGray( nodeEvent.getComponent(cc.Sprite), isPause);\r\n        if (isPause){\r\n            nodeEvent.pauseSystemEvents(true);\r\n        }else\r\n            nodeEvent.resumeSystemEvents(true);\r\n    },\r\n    eventBack: function() {\r\n        if (this.isSpin || this.isAuto || this.isFast){\r\n            this.addNotice(Language.getString(\"noti_is_playing\"));\r\n            return;\r\n        }\r\n        UIManger.show(\"UIKimCuongLobby\", {pop: true, src: \"kimcuong\"});\r\n    },\r\n    eventSetting: function() {\r\n        this.menuSetting.active = !this.menuSetting.active;\r\n    },\r\n    eventVinhDanh: function() {\r\n        let request = new CasinoRequest.LeaderBoardRequest();\r\n        SmartFoxSDK.KimCuongController.ZoneInstance.send(request.toSRequest());\r\n    },\r\n    eventLichSuGiaoDich: function() {\r\n        let request = new CasinoRequest.HistoryRequest();\r\n        SmartFoxSDK.KimCuongController.ZoneInstance.send(request.toSRequest());\r\n    },\r\n    eventBangThuong: function() {\r\n        this.bangThuong.active = true;\r\n    },\r\n    eventCloseBangThuong: function() {\r\n        this.bangThuong.active = false;\r\n    },\r\n    KimCuongRun: function(data){\r\n        this.showLineWin(false);\r\n        var self = this;\r\n        let result = this.getDataResult(data.result);\r\n        Promise.all(result.map(function(cel, cel_index){\r\n            Promise.all(cel.map(function(icon, index){\r\n                self.reels[cel_index].icons[index].setIcon(icon, true);\r\n            }));\r\n        }));\r\n        this.lineWin    = data.lineWin;\r\n        this.winMoney   = data.winMoney;\r\n        this.freeGift   = data.freeGift;\r\n        this.isBonus    = data.isBonus;\r\n        this.isFree     = data.isFreeSpin;\r\n        this.session    = data.session;\r\n        this.isNoHu     = data.isNohu;\r\n        this.isThangLon = data.isThangLon;\r\n        this.freeSpin   = data.freeSpin;\r\n        this.type       = data.type;\r\n        this.runReels();\r\n        if (!data.isFreeSpin)\r\n            this.WinGame.updateFreeSpin();\r\n        if (this._isFreeTrial){\r\n            this.lbSession.string = \"#\"+this._mySession;\r\n        }else{\r\n            this.lbSession.string = \"#\"+this.session;\r\n        }\r\n    },\r\n    initRandomItems: function(numberItem) {\r\n        let listItem = [];\r\n        for (let i=0; i< numberItem; i++){\r\n            listItem[i] = this.random();\r\n        }\r\n        return listItem;\r\n    },\r\n    getDataResult: function(result) {\r\n        let self = this;\r\n        let newArray = [];\r\n        for (let i=0; i< this._TotalColumn; i++){\r\n            newArray[i] = [];\r\n        }\r\n        for (let i=0; i< result.length; i++) {\r\n            newArray[i%self._TotalColumn].push(result[i]);\r\n        }\r\n        for (let i=0; i< this._TotalColumn; i++){\r\n            let randomArr = this.initRandomItems(this.TotalItemRun-6);\r\n            newArray[i] = newArray[i].concat(randomArr);\r\n        }\r\n        for (let i=0; i<  this.lastResult.length; i++) {\r\n            newArray[i%self._TotalColumn].push( this.lastResult[i]);\r\n        }\r\n        this.lastResult = result;\r\n        return newArray;\r\n    },\r\n    reformatResult(result, size) {\r\n        let res = [];\r\n        for(let i=0;i < result.length; i = i+size)\r\n            res.push(result.slice(i,i+size));\r\n        return res;\r\n    },\r\n    runActionWon: function() {\r\n        this.showLineWin(true);\r\n       this.WinGame.runWinGame();\r\n        this.pauseSystemEventNode(this.btnQuay, false);\r\n    },\r\n    resume() {\r\n        if (this.winMoney > 0){\r\n            setTimeout(function(){\r\n                this.WinGame.runWinGame();\r\n            }.bind(this), 300);\r\n        }else {\r\n            this.WinGame.runWinGame();\r\n        }\r\n    },\r\n    setEventMainLine: function(isPause) {\r\n        Promise.all(this.listMainLines.children.map(function(mainLine, index){\r\n            if (isPause)\r\n                mainLine.pauseSystemEvents(true);\r\n            else\r\n                mainLine.resumeSystemEvents(true);\r\n        }));\r\n    },\r\n    showLineWin: function(isShow) {\r\n        // add money\r\n        let self = this;\r\n        if (isShow){\r\n            this.setEventMainLine(isShow);\r\n            this.totalLineWin   = this.lineWin.length;\r\n            this.posLineWin     = 0;\r\n            if (this.totalLineWin > 0){\r\n                Promise.all(this.lineWin.map(function(posLine){\r\n                    self.listMainLines.children[posLine].getComponent(\"KimCuongMainLine\").onEf();\r\n                }));\r\n                this.scheduleOnce(function(){\r\n                    Promise.all(self.lineWin.map(function(posLine){\r\n                        self.listMainLines.children[posLine].getComponent(\"KimCuongMainLine\").offEf();\r\n                    }));\r\n                    self.schedule( this.showMainLine, 1);\r\n                }, 2);\r\n            }\r\n        }else {\r\n            this.unschedule(this.showMainLine);\r\n            if (this.lineWin && this.lineWin.length > 0) {\r\n                Promise.all(this.lineWin.map(function (posLine) {\r\n                    self.listMainLines.children[posLine].getComponent(\"KimCuongMainLine\").offhover();\r\n                    self.listMainLines.children[posLine].pauseSystemEvents(true);\r\n                }));\r\n            }\r\n        }\r\n    },\r\n    showMainLine: function() {\r\n       if (this.lineWin.length > 0){\r\n            if (this.listMainLines.children[this.lineWin[this.posLineWin%this.totalLineWin]] != undefined)\r\n                this.listMainLines.children[this.lineWin[this.posLineWin%this.totalLineWin]].getComponent(\"KimCuongMainLine\").offEf();\r\n            this.posLineWin = (this.posLineWin+1)%this.totalLineWin;\r\n            if (this.listMainLines.children[this.lineWin[this.posLineWin]] != undefined)\r\n                this.listMainLines.children[this.lineWin[this.posLineWin]].getComponent(\"KimCuongMainLine\").onEf();\r\n        }\r\n    },\r\n    runReels: function () {\r\n        Promise.all(this.reels.map(function(reel, index) {\r\n            reel.spin(index);\r\n        }));\r\n    },\r\n    copy: function(){\r\n        Promise.all(this.reels.map(function(reel){\r\n            reel.icons[reel.icons.length-1].setIcon(reel.icons[2].data);\r\n            reel.icons[reel.icons.length-2].setIcon(reel.icons[1].data);\r\n            reel.icons[reel.icons.length-3].setIcon(reel.icons[0].data);\r\n        }));\r\n    },\r\n    random: function(){\r\n        return  ~~(Math.random()*this.totalSymbol);\r\n    },\r\n    getMoneyInRoom: function() {\r\n        return 10*Math.pow(10, this.roomNumber);\r\n    },\r\n    checkHasMoney: function() {\r\n        return true;\r\n    },\r\n    addNotice: function (message) {\r\n        let self = this;\r\n        this.noticeNode.active = true;\r\n        this.noticeNode.getChildByName(\"lb_noti\").getComponent(cc.Label).string = message;\r\n        setTimeout(function(){\r\n            self.noticeNode.active = false;\r\n        }, 1200);\r\n    }\r\n});\r\n"]}