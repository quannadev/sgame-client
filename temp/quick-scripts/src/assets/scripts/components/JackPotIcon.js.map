{"version":3,"sources":["assets/scripts/components/JackPotIcon.js"],"names":["cc","Class","Component","properties","arr_lb_hu","type","Label","game","onLoad","random","Math","floor","schedule","updateJackpot","prefixkeys","keys","i","length","SmartFoxSDK","PortalController","ZoneInstance","mySelf","variableJackpot","getVariable","jackpot","value","lb_hu","current_lb_jackpot","string","split","join","currentHu","parseFloat","Utils","numberTo"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,SAAS,EAAE;AACPC,MAAAA,IAAI,EAAEL,EAAE,CAACM,KADF;AAEP,iBAAS;AAFF,KADH;AAKRC,IAAAA,IAAI,EAAE;AALE,GAHP;AAULC,EAAAA,MAVK,oBAUK;AACN,QAAIC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACD,MAAL,KAAe,CAA1B,IAA+B,CAA5C;AACA,SAAKG,QAAL,CAAc,KAAKC,aAAnB,EAAkCJ,MAAlC;AACA,SAAKI,aAAL;AACH,GAdI;AAeLA,EAAAA,aAfK,2BAeU;AACX,QAAIC,UAAU,GAAG,CAAC,IAAD,EAAM,IAAN,EAAW,KAAX,CAAjB;AACA,QAAIC,IAAI,GAAG,EAAX;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGF,UAAU,CAACG,MAA9B,EAAqCD,CAAC,EAAtC,EAAyC;AACrCD,MAAAA,IAAI,CAACC,CAAD,CAAJ,GAAU,KAAKT,IAAL,GAAYO,UAAU,CAACE,CAAD,CAAhC;AACH;;AACD,SAAI,IAAIA,EAAC,GAAG,CAAZ,EAAeA,EAAC,GAAGD,IAAI,CAACE,MAAxB,EAA+BD,EAAC,EAAhC,EAAmC;AAC/B,UAAIP,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACD,MAAL,KAAc,CAAzB,CAAb;;AACA,UAAGS,WAAW,CAACC,gBAAZ,CAA6BC,YAA7B,CAA0CC,MAA1C,IAAoDZ,MAAM,IAAI,CAAjE,EAAmE;AAC/D,YAAIa,eAAe,GAAGJ,WAAW,CAACC,gBAAZ,CAA6BC,YAA7B,CAA0CC,MAA1C,CAAiDE,WAAjD,CAA6DR,IAAI,CAACC,EAAD,CAAjE,CAAtB;;AACA,YAAGM,eAAH,EAAmB;AACf,cAAIE,OAAO,GAAGF,eAAe,CAACG,KAA9B;AACA,cAAIC,KAAK,GAAG,KAAKtB,SAAL,CAAeY,EAAf,CAAZ;AACA,cAAIW,kBAAkB,GAAGD,KAAK,CAACE,MAA/B;AACAD,UAAAA,kBAAkB,GAAGA,kBAAkB,CAACE,KAAnB,CAAyB,GAAzB,EAA8BC,IAA9B,CAAmC,EAAnC,CAArB;AACA,cAAIC,SAAS,GAAGC,UAAU,CAACL,kBAAD,CAA1B;AACAM,UAAAA,KAAK,CAACC,QAAN,CAAeR,KAAf,EAAsBK,SAAtB,EAAiCP,OAAjC,EAA0C,IAA1C,EAAgD,IAAhD;AACH;AACJ;AACJ;AACJ;AAnCI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        arr_lb_hu: {\n            type: cc.Label,\n            default: []\n        },\n        game: \"kimcuong\"\n    },\n    onLoad () {\n        let random = Math.floor(Math.random()* 3) + 1;\n        this.schedule(this.updateJackpot, random);\n        this.updateJackpot();\n    },\n    updateJackpot(){\n        let prefixkeys = [\"1l\",\"1k\",\"10k\"];\n        let keys = [];\n        for(let i = 0; i < prefixkeys.length;i++){\n            keys[i] = this.game + prefixkeys[i];\n        }\n        for(let i = 0; i < keys.length;i++){\n            let random = Math.floor(Math.random()*2);\n            if(SmartFoxSDK.PortalController.ZoneInstance.mySelf && random == 0){\n                let variableJackpot = SmartFoxSDK.PortalController.ZoneInstance.mySelf.getVariable(keys[i]);\n                if(variableJackpot){\n                    let jackpot = variableJackpot.value;\n                    let lb_hu = this.arr_lb_hu[i];\n                    let current_lb_jackpot = lb_hu.string;\n                    current_lb_jackpot = current_lb_jackpot.split(\".\").join(\"\");\n                    let currentHu = parseFloat(current_lb_jackpot);\n                    Utils.numberTo(lb_hu, currentHu, jackpot, 1000, true);\n                }\n            }\n        }\n    },\n});\n"]}