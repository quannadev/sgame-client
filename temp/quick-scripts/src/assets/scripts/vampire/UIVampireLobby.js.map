{"version":3,"sources":["assets\\scripts\\vampire\\UIVampireLobby.js"],"names":["cc","Class","VozBaseComponent","properties","arr_lb_hu","type","Label","onLoad","schedule","updateJackpot","keys","i","length","SmartFoxSDK","VampireController","ZoneInstance","mySelf","variableJackpot","getVariable","jackpot","value","lb_hu","current_lb_jackpot","string","split","join","currentHu","parseFloat","Utils","numberTo","eventPlayGame","event","customData","betLevel","mm","Loading","show","pop","src","eventSetting","back","room","getRoomByName","send","SmartFox","Requests","System","LeaveRoomRequest","updateUserVariable","subChip"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,gBADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,SAAS,EAAE;AACPC,MAAAA,IAAI,EAAEL,EAAE,CAACM,KADF;AAEP,iBAAS;AAFF;AADH,GAHP;AASLC,EAAAA,MATK,oBASK;AACN,SAAKC,QAAL,CAAc,KAAKC,aAAnB,EAAkC,CAAlC;AACA,SAAKA,aAAL;AACH,GAZI;AAaLA,EAAAA,aAbK,2BAaU;AACX,QAAIC,IAAI,GAAG,CAAC,WAAD,EAAa,WAAb,EAAyB,YAAzB,CAAX;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGD,IAAI,CAACE,MAAxB,EAA+BD,CAAC,EAAhC,EAAmC;AAC/B,UAAGE,WAAW,CAACC,iBAAZ,CAA8BC,YAA9B,CAA2CC,MAA9C,EAAqD;AACjD,YAAIC,eAAe,GAAGJ,WAAW,CAACC,iBAAZ,CAA8BC,YAA9B,CAA2CC,MAA3C,CAAkDE,WAAlD,CAA8DR,IAAI,CAACC,CAAD,CAAlE,CAAtB;;AACA,YAAGM,eAAH,EAAmB;AACf,cAAIE,OAAO,GAAGF,eAAe,CAACG,KAA9B;AACA,cAAIC,KAAK,GAAG,KAAKjB,SAAL,CAAeO,CAAf,CAAZ;AACA,cAAIW,kBAAkB,GAAGD,KAAK,CAACE,MAA/B;AACAD,UAAAA,kBAAkB,GAAGA,kBAAkB,CAACE,KAAnB,CAAyB,GAAzB,EAA8BC,IAA9B,CAAmC,EAAnC,CAArB;AACA,cAAIC,SAAS,GAAGC,UAAU,CAACL,kBAAD,CAA1B;AACAM,UAAAA,KAAK,CAACC,QAAN,CAAeR,KAAf,EAAsBK,SAAtB,EAAiCP,OAAjC,EAA0C,IAA1C,EAAgD,IAAhD;AACH;AACJ;AAEJ;AACJ,GA7BI;AA8BLW,EAAAA,aA9BK,yBA8BSC,KA9BT,EA8BgBC,UA9BhB,EA8B4B;AAC7BhC,IAAAA,EAAE,CAACiC,QAAH,GAAcD,UAAd;AACAE,IAAAA,EAAE,CAACC,OAAH,CAAWC,IAAX;AACA,SAAKA,IAAL,CAAU,WAAV,EAAuB;AAACC,MAAAA,GAAG,EAAE,IAAN;AAAYC,MAAAA,GAAG,EAAE;AAAjB,KAAvB;AACH,GAlCI;AAmCLC,EAAAA,YAnCK,0BAmCU,CAEd,CArCI;AAsCLC,EAAAA,IAtCK,kBAsCC;AACF,QAAIC,IAAI,GAAG5B,WAAW,CAACC,iBAAZ,CAA8BC,YAA9B,CAA2C2B,aAA3C,CAAyD,SAAzD,CAAX;;AACA,QAAGD,IAAH,EAAQ;AACJ5B,MAAAA,WAAW,CAACC,iBAAZ,CAA8BC,YAA9B,CAA2C4B,IAA3C,CAAgD,IAAI9B,WAAW,CAAC+B,QAAZ,CAAqBC,QAArB,CAA8BC,MAA9B,CAAqCC,gBAAzC,CAA0DN,IAA1D,CAAhD;AACH,KAFD,MAEK;AACD,WAAKL,IAAL,CAAU,QAAV;AACH;AACJ,GA7CI;AA8CLY,EAAAA,kBA9CK,8BA8CcC,OA9Cd,EA8CsB,CAE1B;AAhDI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.VozBaseComponent,\r\n\r\n    properties: {\r\n        arr_lb_hu: {\r\n            type: cc.Label,\r\n            default: []\r\n        }\r\n    },\r\n    onLoad () {\r\n        this.schedule(this.updateJackpot, 3);\r\n        this.updateJackpot();\r\n    },\r\n    updateJackpot(){\r\n        let keys = [\"vampire1l\",\"vampire1k\",\"vampire10k\"];\r\n        for(let i = 0; i < keys.length;i++){\r\n            if(SmartFoxSDK.VampireController.ZoneInstance.mySelf){\r\n                let variableJackpot = SmartFoxSDK.VampireController.ZoneInstance.mySelf.getVariable(keys[i]);\r\n                if(variableJackpot){\r\n                    let jackpot = variableJackpot.value;\r\n                    let lb_hu = this.arr_lb_hu[i];\r\n                    let current_lb_jackpot = lb_hu.string;\r\n                    current_lb_jackpot = current_lb_jackpot.split(\".\").join(\"\");\r\n                    let currentHu = parseFloat(current_lb_jackpot);\r\n                    Utils.numberTo(lb_hu, currentHu, jackpot, 1000, true);\r\n                }\r\n            }\r\n\r\n        }\r\n    },\r\n    eventPlayGame(event, customData) {\r\n        cc.betLevel = customData;\r\n        mm.Loading.show();\r\n        this.show(\"UIVampire\", {pop: true, src: \"vampire\"});\r\n    },\r\n    eventSetting() {\r\n\r\n    },\r\n    back(){\r\n        let room = SmartFoxSDK.VampireController.ZoneInstance.getRoomByName(\"vampire\");\r\n        if(room){\r\n            SmartFoxSDK.VampireController.ZoneInstance.send(new SmartFoxSDK.SmartFox.Requests.System.LeaveRoomRequest(room));\r\n        }else{\r\n            this.show('UIHome');\r\n        }\r\n    },\r\n    updateUserVariable(subChip){\r\n\r\n    },\r\n});\r\n"]}