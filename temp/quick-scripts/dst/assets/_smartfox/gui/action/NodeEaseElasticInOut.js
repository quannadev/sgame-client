
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/_smartfox/gui/action/NodeEaseElasticInOut.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'dc403oryetKh41rz7BAxqn9', 'NodeEaseElasticInOut');
// _smartfox/gui/action/NodeEaseElasticInOut.js

"use strict";

var MOVE_TYPE = cc.Enum({
  MoveTop: 1,
  MoveBottom: 2,
  MoveLeft: 3,
  MoveRight: 4
});
cc.Class({
  "extends": cc.Component,
  properties: {
    timeMoveIn: 1,
    timeMoveOut: 1,
    typeIn: {
      "default": MOVE_TYPE.MoveTop,
      type: MOVE_TYPE
    },
    typeOut: {
      "default": MOVE_TYPE.MoveTop,
      type: MOVE_TYPE
    },
    _currentPos: 0
  },
  onEnable: function onEnable() {
    this._currentPos = this.node.position;

    switch (this.typeIn) {
      case MOVE_TYPE.MoveTop:
        {
          this.topIn(this.timeMoveIn);
          break;
        }

      case MOVE_TYPE.MoveBottom:
        {
          this.bottomIn(this.timeMoveIn);
          break;
        }

      case MOVE_TYPE.MoveLeft:
        {
          this.leftIn(this.timeMoveIn);
          break;
        }

      case MOVE_TYPE.MoveRight:
        {
          this.rightIn(this.timeMoveIn);
          break;
        }

      default:
        {
          this.topIn(this.timeMoveIn);
          break;
        }
    }
  },
  onDisable: function onDisable() {
    this.node.stopAllActions();
    this.node.position = this._currentPos;
  },
  runActionOutGame: function runActionOutGame() {
    this.node.stopAllActions(); // switch (this.typeOut) {
    //     case MOVE_TYPE.MoveTop: {
    //         this.topOut(this.timeMoveOut);
    //         break;
    //     }
    //     case MOVE_TYPE.MoveBottom: {
    //         this.bottomOut(this.timeMoveOut);
    //         break;
    //     }
    //     case MOVE_TYPE.MoveLeft: {
    //         this.leftOut(this.timeMoveOut);
    //         break;
    //     }
    //     case MOVE_TYPE.MoveRight: {
    //         this.rightOut(this.timeMoveOut);
    //         break;
    //     }
    //     default: {
    //         this.topOut(this.timeMoveOut);
    //         break;
    //     }
    // }
  },
  topIn: function topIn(timeMove) {
    if (!timeMove) timeMove = 1;
    var currentPos = this.node.position;
    this.node.setPosition(currentPos.x, cc.winSize.height);
    var widget = this.node.getComponent(cc.Widget);

    if (widget) {
      if (widget.isAlignBottom) widget.bottom += cc.winSize.height;
      if (widget.isAlignTop) widget.top -= cc.winSize.height;
      widget.updateAlignment();
    }

    var move = cc.moveTo(timeMove, currentPos);
    var moveIn = move.clone().easing(cc.easeElasticOut(0.8));
    this.node.runAction(moveIn);
  },
  topOut: function topOut(timeMove) {
    if (!timeMove) timeMove = 1;
    var move = cc.moveTo(timeMove, this.node.x, cc.winSize.height);
    var moveOut = move.clone().easing(cc.easeElasticIn(0.6));
    this.node.runAction(moveOut);
  },
  bottomIn: function bottomIn(timeMove) {
    if (!timeMove) timeMove = 1;
    var currentPos = this.node.position;
    this.node.setPosition(currentPos.x, -cc.winSize.height);
    var widget = this.node.getComponent(cc.Widget);

    if (widget) {
      if (widget.isAlignBottom) widget.bottom -= cc.winSize.height;
      if (widget.isAlignTop) widget.top += cc.winSize.height;
      widget.updateAlignment();
    }

    var move = cc.moveTo(timeMove, currentPos);
    var moveIn = move.clone().easing(cc.easeElasticOut(0.8));
    this.node.runAction(moveIn);
  },
  bottomOut: function bottomOut(timeMove) {
    if (!timeMove) timeMove = 1;
    var move = cc.moveTo(timeMove, this.node.x, -cc.winSize.height);
    var moveOut = move.clone().easing(cc.easeElasticIn(0.6));
    this.node.runAction(moveOut);
  },
  leftIn: function leftIn(timeMove) {
    if (!timeMove) timeMove = 1;
    var currentPos = this.node.position;
    this.node.setPosition(-cc.winSize.width, currentPos.y);
    var widget = this.node.getComponent(cc.Widget);

    if (widget) {
      if (widget.isAlignLeft) widget.left -= cc.winSize.width;
      if (widget.isAlignRight) widget.right += cc.winSize.width;
      widget.updateAlignment();
    }

    var move = cc.moveTo(timeMove, currentPos);
    var moveIn = move.clone().easing(cc.easeElasticOut(0.8));
    this.node.runAction(moveIn);
  },
  leftOut: function leftOut(timeMove) {
    if (!timeMove) timeMove = 1;
    var move = cc.moveTo(timeMove, -cc.winSize.width, this.node.y);
    var moveOut = move.clone().easing(cc.easeElasticIn(0.6));
    this.node.runAction(moveOut);
  },
  rightIn: function rightIn(timeMove) {
    if (!timeMove) timeMove = 1;
    var currentPos = this.node.position;
    this.node.setPosition(cc.winSize.width, currentPos.y);
    var widget = this.node.getComponent(cc.Widget);

    if (widget) {
      if (widget.isAlignLeft) widget.left += cc.winSize.width;
      if (widget.isAlignRight) widget.right -= cc.winSize.width;
      widget.updateAlignment();
    }

    var move = cc.moveTo(timeMove, currentPos);
    var moveIn = move.clone().easing(cc.easeElasticOut(0.8));
    this.node.runAction(moveIn);
  },
  rightOut: function rightOut(timeMove) {
    if (!timeMove) timeMove = 1;
    var move = cc.moveTo(timeMove, cc.winSize.width, this.node.y);
    var moveOut = move.clone().easing(cc.easeElasticIn(0.6));
    this.node.runAction(moveOut);
  } // moveIn() {
  //     let delay   = cc.delayTime(0.1);
  //     let move    = cc.moveBy(2, cc.v2(cc.winSize.width - 80, 0));
  //     let move_ease_inout3 = move.clone().easing(cc.easeElasticInOut(0.6));
  //     let move_ease_inout_back3 = move_ease_inout3.reverse();
  //     let seq3 = cc.sequence(move_ease_inout3, delay.clone(), move_ease_inout_back3, delay.clone());
  //     this.node.runAction(seq3.repeatForever());
  // },
  // moveOut() {
  //     let delay   = cc.delayTime(0.1);
  //     let move    = cc.moveBy(2, cc.v2(cc.winSize.width - 80, 0));
  //     let move_ease_inout3 = move.clone().easing(cc.easeElasticInOut(0.6));
  //     let seq3 = cc.sequence(move_ease_inout3, delay.clone());
  //     this.node.runAction(seq3);
  // },
  // update (dt) {},\

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9fc21hcnRmb3gvZ3VpL2FjdGlvbi9Ob2RlRWFzZUVsYXN0aWNJbk91dC5qcyJdLCJuYW1lcyI6WyJNT1ZFX1RZUEUiLCJjYyIsIkVudW0iLCJNb3ZlVG9wIiwiTW92ZUJvdHRvbSIsIk1vdmVMZWZ0IiwiTW92ZVJpZ2h0IiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwidGltZU1vdmVJbiIsInRpbWVNb3ZlT3V0IiwidHlwZUluIiwidHlwZSIsInR5cGVPdXQiLCJfY3VycmVudFBvcyIsIm9uRW5hYmxlIiwibm9kZSIsInBvc2l0aW9uIiwidG9wSW4iLCJib3R0b21JbiIsImxlZnRJbiIsInJpZ2h0SW4iLCJvbkRpc2FibGUiLCJzdG9wQWxsQWN0aW9ucyIsInJ1bkFjdGlvbk91dEdhbWUiLCJ0aW1lTW92ZSIsImN1cnJlbnRQb3MiLCJzZXRQb3NpdGlvbiIsIngiLCJ3aW5TaXplIiwiaGVpZ2h0Iiwid2lkZ2V0IiwiZ2V0Q29tcG9uZW50IiwiV2lkZ2V0IiwiaXNBbGlnbkJvdHRvbSIsImJvdHRvbSIsImlzQWxpZ25Ub3AiLCJ0b3AiLCJ1cGRhdGVBbGlnbm1lbnQiLCJtb3ZlIiwibW92ZVRvIiwibW92ZUluIiwiY2xvbmUiLCJlYXNpbmciLCJlYXNlRWxhc3RpY091dCIsInJ1bkFjdGlvbiIsInRvcE91dCIsIm1vdmVPdXQiLCJlYXNlRWxhc3RpY0luIiwiYm90dG9tT3V0Iiwid2lkdGgiLCJ5IiwiaXNBbGlnbkxlZnQiLCJsZWZ0IiwiaXNBbGlnblJpZ2h0IiwicmlnaHQiLCJsZWZ0T3V0IiwicmlnaHRPdXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBTUEsU0FBUyxHQUFHQyxFQUFFLENBQUNDLElBQUgsQ0FBUTtBQUN0QkMsRUFBQUEsT0FBTyxFQUFTLENBRE07QUFFdEJDLEVBQUFBLFVBQVUsRUFBTSxDQUZNO0FBR3RCQyxFQUFBQSxRQUFRLEVBQVEsQ0FITTtBQUl0QkMsRUFBQUEsU0FBUyxF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QUFJSixPQUFPLEdBQUtSLElBQUksQ0FBQ0csS0FBTCxHQUFhQyxNQUFiLENBQW9CM0MsRUFBRSxDQUFDZ0QsYUFBSCxDQUFpQixHQUFqQixDQUFwQixDQUFoQjtBQUNBLFNBQUtoQyxJQUFMLENBQVU2QixTQUFWLENBQW9CRSxPQUFwQjtBQUNILEdBdEtJLENBdUtMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQXRMSyxDQUFUIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNT1ZFX1RZUEUgPSBjYy5FbnVtKHtcbiAgICBNb3ZlVG9wICAgICAgIDogMSxcbiAgICBNb3ZlQm90dG9tICAgIDogMixcbiAgICBNb3ZlTGVmdCAgICAgIDogMyxcbiAgICBNb3ZlUmlnaHQgICAgIDogNCxcbn0pO1xuXG5jYy5DbGFzcyh7XG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxuXG4gICAgcHJvcGVydGllczoge1xuICAgICAgICB0aW1lTW92ZUluICAgIDogMSxcbiAgICAgICAgdGltZU1vdmVPdXQgICA6IDEsXG4gICAgICAgIHR5cGVJbiAgICA6IHtcbiAgICAgICAgICAgIGRlZmF1bHQgOiBNT1ZFX1RZUEUuTW92ZVRvcCxcbiAgICAgICAgICAgIHR5cGUgICAgOiBNT1ZFX1RZUEVcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZU91dCAgICA6IHtcbiAgICAgICAgICAgIGRlZmF1bHQgOiBNT1ZFX1RZUEUuTW92ZVRvcCxcbiAgICAgICAgICAgIHR5cGUgICAgOiBNT1ZFX1RZUEVcbiAgICAgICAgfSxcbiAgICAgICAgX2N1cnJlbnRQb3MgOiAwXG4gICAgfSxcblxuICAgIG9uRW5hYmxlICgpIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFBvcyA9IHRoaXMubm9kZS5wb3NpdGlvbjtcbiAgICAgICAgc3dpdGNoICh0aGlzLnR5cGVJbikge1xuICAgICAgICAgICAgY2FzZSBNT1ZFX1RZUEUuTW92ZVRvcDoge1xuICAgICAgICAgICAgICAgIHRoaXMudG9wSW4odGhpcy50aW1lTW92ZUluKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgTU9WRV9UWVBFLk1vdmVCb3R0b206IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvdHRvbUluKHRoaXMudGltZU1vdmVJbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIE1PVkVfVFlQRS5Nb3ZlTGVmdDoge1xuICAgICAgICAgICAgICAgIHRoaXMubGVmdEluKHRoaXMudGltZU1vdmVJbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIE1PVkVfVFlQRS5Nb3ZlUmlnaHQ6IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0SW4odGhpcy50aW1lTW92ZUluKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvcEluKHRoaXMudGltZU1vdmVJbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG9uRGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XG4gICAgICAgIHRoaXMubm9kZS5wb3NpdGlvbiA9IHRoaXMuX2N1cnJlbnRQb3M7XG4gICAgfSxcbiAgICBydW5BY3Rpb25PdXRHYW1lICgpIHtcbiAgICAgICAgdGhpcy5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XG4gICAgICAgIC8vIHN3aXRjaCAodGhpcy50eXBlT3V0KSB7XG4gICAgICAgIC8vICAgICBjYXNlIE1PVkVfVFlQRS5Nb3ZlVG9wOiB7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy50b3BPdXQodGhpcy50aW1lTW92ZU91dCk7XG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgICBjYXNlIE1PVkVfVFlQRS5Nb3ZlQm90dG9tOiB7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy5ib3R0b21PdXQodGhpcy50aW1lTW92ZU91dCk7XG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgICBjYXNlIE1PVkVfVFlQRS5Nb3ZlTGVmdDoge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMubGVmdE91dCh0aGlzLnRpbWVNb3ZlT3V0KTtcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIGNhc2UgTU9WRV9UWVBFLk1vdmVSaWdodDoge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMucmlnaHRPdXQodGhpcy50aW1lTW92ZU91dCk7XG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgICBkZWZhdWx0OiB7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy50b3BPdXQodGhpcy50aW1lTW92ZU91dCk7XG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cbiAgICB9LFxuICAgIHRvcEluKHRpbWVNb3ZlKSB7XG4gICAgICAgIGlmICghdGltZU1vdmUpXG4gICAgICAgICAgICB0aW1lTW92ZSA9ICAxO1xuICAgICAgICBjb25zdCBjdXJyZW50UG9zID0gdGhpcy5ub2RlLnBvc2l0aW9uO1xuICAgICAgICB0aGlzLm5vZGUuc2V0UG9zaXRpb24oY3VycmVudFBvcy54LCBjYy53aW5TaXplLmhlaWdodCk7XG4gICAgICAgIGxldCB3aWRnZXQgPSAgIHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuV2lkZ2V0KTtcbiAgICAgICAgaWYgKHdpZGdldCkge1xuICAgICAgICAgICAgaWYgKHdpZGdldC5pc0FsaWduQm90dG9tKVxuICAgICAgICAgICAgICAgIHdpZGdldC5ib3R0b20gICArPSBjYy53aW5TaXplLmhlaWdodDtcbiAgICAgICAgICAgIGlmICh3aWRnZXQuaXNBbGlnblRvcClcbiAgICAgICAgICAgICAgICB3aWRnZXQudG9wICAgICAgLT0gY2Mud2luU2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICB3aWRnZXQudXBkYXRlQWxpZ25tZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1vdmUgICAgID0gY2MubW92ZVRvKHRpbWVNb3ZlLCBjdXJyZW50UG9zKTtcbiAgICAgICAgbGV0IG1vdmVJbiAgID0gbW92ZS5jbG9uZSgpLmVhc2luZyhjYy5lYXNlRWxhc3RpY091dCgwLjgpKTtcbiAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihtb3ZlSW4pO1xuICAgIH0sXG4gICAgdG9wT3V0KHRpbWVNb3ZlKSB7XG4gICAgICAgIGlmICghdGltZU1vdmUpXG4gICAgICAgICAgICB0aW1lTW92ZSA9ICAxO1xuICAgICAgICBsZXQgbW92ZSAgICAgID0gY2MubW92ZVRvKHRpbWVNb3ZlLCB0aGlzLm5vZGUueCwgY2Mud2luU2l6ZS5oZWlnaHQpO1xuICAgICAgICBsZXQgbW92ZU91dCAgID0gbW92ZS5jbG9uZSgpLmVhc2luZyhjYy5lYXNlRWxhc3RpY0luKDAuNikpO1xuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKG1vdmVPdXQpO1xuICAgIH0sXG4gICAgYm90dG9tSW4odGltZU1vdmUpIHtcbiAgICAgICAgaWYgKCF0aW1lTW92ZSlcbiAgICAgICAgICAgIHRpbWVNb3ZlID0gIDE7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3MgPSB0aGlzLm5vZGUucG9zaXRpb247XG4gICAgICAgIHRoaXMubm9kZS5zZXRQb3NpdGlvbihjdXJyZW50UG9zLngsIC1jYy53aW5TaXplLmhlaWdodCk7XG4gICAgICAgIGxldCB3aWRnZXQgPSAgIHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuV2lkZ2V0KTtcbiAgICAgICAgaWYgKHdpZGdldCkge1xuICAgICAgICAgICAgaWYgKHdpZGdldC5pc0FsaWduQm90dG9tKVxuICAgICAgICAgICAgICAgIHdpZGdldC5ib3R0b20gICAtPSBjYy53aW5TaXplLmhlaWdodDtcbiAgICAgICAgICAgIGlmICh3aWRnZXQuaXNBbGlnblRvcClcbiAgICAgICAgICAgICAgICB3aWRnZXQudG9wICAgICAgKz0gY2Mud2luU2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICB3aWRnZXQudXBkYXRlQWxpZ25tZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1vdmUgICAgID0gY2MubW92ZVRvKHRpbWVNb3ZlLCBjdXJyZW50UG9zKTtcbiAgICAgICAgbGV0IG1vdmVJbiAgID0gbW92ZS5jbG9uZSgpLmVhc2luZyhjYy5lYXNlRWxhc3RpY091dCgwLjgpKTtcbiAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihtb3ZlSW4pO1xuICAgIH0sXG4gICAgYm90dG9tT3V0KHRpbWVNb3ZlKSB7XG4gICAgICAgIGlmICghdGltZU1vdmUpXG4gICAgICAgICAgICB0aW1lTW92ZSA9ICAxO1xuICAgICAgICBsZXQgbW92ZSAgICAgID0gY2MubW92ZVRvKHRpbWVNb3ZlLCB0aGlzLm5vZGUueCwgLWNjLndpblNpemUuaGVpZ2h0KTtcbiAgICAgICAgbGV0IG1vdmVPdXQgICA9IG1vdmUuY2xvbmUoKS5lYXNpbmcoY2MuZWFzZUVsYXN0aWNJbigwLjYpKTtcbiAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihtb3ZlT3V0KTtcbiAgICB9LFxuICAgIGxlZnRJbih0aW1lTW92ZSkge1xuICAgICAgICBpZiAoIXRpbWVNb3ZlKVxuICAgICAgICAgICAgdGltZU1vdmUgPSAgMTtcbiAgICAgICAgY29uc3QgY3VycmVudFBvcyA9IHRoaXMubm9kZS5wb3NpdGlvbjtcbiAgICAgICAgdGhpcy5ub2RlLnNldFBvc2l0aW9uKC1jYy53aW5TaXplLndpZHRoLCBjdXJyZW50UG9zLnkpO1xuICAgICAgICBsZXQgd2lkZ2V0ID0gICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLldpZGdldCk7XG4gICAgICAgIGlmICh3aWRnZXQpIHtcbiAgICAgICAgICAgIGlmICh3aWRnZXQuaXNBbGlnbkxlZnQpXG4gICAgICAgICAgICAgICAgd2lkZ2V0LmxlZnQgICAtPSBjYy53aW5TaXplLndpZHRoO1xuICAgICAgICAgICAgaWYgKHdpZGdldC5pc0FsaWduUmlnaHQpXG4gICAgICAgICAgICAgICAgd2lkZ2V0LnJpZ2h0ICAgICAgKz0gY2Mud2luU2l6ZS53aWR0aDtcbiAgICAgICAgICAgIHdpZGdldC51cGRhdGVBbGlnbm1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbW92ZSAgICAgPSBjYy5tb3ZlVG8odGltZU1vdmUsIGN1cnJlbnRQb3MpO1xuICAgICAgICBsZXQgbW92ZUluICAgPSBtb3ZlLmNsb25lKCkuZWFzaW5nKGNjLmVhc2VFbGFzdGljT3V0KDAuOCkpO1xuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKG1vdmVJbik7XG4gICAgfSxcbiAgICBsZWZ0T3V0KHRpbWVNb3ZlKSB7XG4gICAgICAgIGlmICghdGltZU1vdmUpXG4gICAgICAgICAgICB0aW1lTW92ZSA9ICAxO1xuICAgICAgICBsZXQgbW92ZSAgICAgID0gY2MubW92ZVRvKHRpbWVNb3ZlLCAtY2Mud2luU2l6ZS53aWR0aCwgdGhpcy5ub2RlLnkpO1xuICAgICAgICBsZXQgbW92ZU91dCAgID0gbW92ZS5jbG9uZSgpLmVhc2luZyhjYy5lYXNlRWxhc3RpY0luKDAuNikpO1xuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKG1vdmVPdXQpO1xuICAgIH0sXG4gICAgcmlnaHRJbih0aW1lTW92ZSkge1xuICAgICAgICBpZiAoIXRpbWVNb3ZlKVxuICAgICAgICAgICAgdGltZU1vdmUgPSAgMTtcbiAgICAgICAgY29uc3QgY3VycmVudFBvcyA9IHRoaXMubm9kZS5wb3NpdGlvbjtcbiAgICAgICAgdGhpcy5ub2RlLnNldFBvc2l0aW9uKGNjLndpblNpemUud2lkdGgsIGN1cnJlbnRQb3MueSk7XG4gICAgICAgIGxldCB3aWRnZXQgPSAgIHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuV2lkZ2V0KTtcbiAgICAgICAgaWYgKHdpZGdldCkge1xuICAgICAgICAgICAgaWYgKHdpZGdldC5pc0FsaWduTGVmdClcbiAgICAgICAgICAgICAgICB3aWRnZXQubGVmdCAgICs9IGNjLndpblNpemUud2lkdGg7XG4gICAgICAgICAgICBpZiAod2lkZ2V0LmlzQWxpZ25SaWdodClcbiAgICAgICAgICAgICAgICB3aWRnZXQucmlnaHQgIC09IGNjLndpblNpemUud2lkdGg7XG4gICAgICAgICAgICB3aWRnZXQudXBkYXRlQWxpZ25tZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1vdmUgICAgID0gY2MubW92ZVRvKHRpbWVNb3ZlLCBjdXJyZW50UG9zKTtcbiAgICAgICAgbGV0IG1vdmVJbiAgID0gbW92ZS5jbG9uZSgpLmVhc2luZyhjYy5lYXNlRWxhc3RpY091dCgwLjgpKTtcbiAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihtb3ZlSW4pO1xuICAgIH0sXG4gICAgcmlnaHRPdXQodGltZU1vdmUpIHtcbiAgICAgICAgaWYgKCF0aW1lTW92ZSlcbiAgICAgICAgICAgIHRpbWVNb3ZlID0gIDE7XG4gICAgICAgIGxldCBtb3ZlICAgICAgPSBjYy5tb3ZlVG8odGltZU1vdmUsIGNjLndpblNpemUud2lkdGgsIHRoaXMubm9kZS55KTtcbiAgICAgICAgbGV0IG1vdmVPdXQgICA9IG1vdmUuY2xvbmUoKS5lYXNpbmcoY2MuZWFzZUVsYXN0aWNJbigwLjYpKTtcbiAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihtb3ZlT3V0KTtcbiAgICB9LFxuICAgIC8vIG1vdmVJbigpIHtcbiAgICAvLyAgICAgbGV0IGRlbGF5ICAgPSBjYy5kZWxheVRpbWUoMC4xKTtcbiAgICAvLyAgICAgbGV0IG1vdmUgICAgPSBjYy5tb3ZlQnkoMiwgY2MudjIoY2Mud2luU2l6ZS53aWR0aCAtIDgwLCAwKSk7XG4gICAgLy8gICAgIGxldCBtb3ZlX2Vhc2VfaW5vdXQzID0gbW92ZS5jbG9uZSgpLmVhc2luZyhjYy5lYXNlRWxhc3RpY0luT3V0KDAuNikpO1xuICAgIC8vICAgICBsZXQgbW92ZV9lYXNlX2lub3V0X2JhY2szID0gbW92ZV9lYXNlX2lub3V0My5yZXZlcnNlKCk7XG4gICAgLy8gICAgIGxldCBzZXEzID0gY2Muc2VxdWVuY2UobW92ZV9lYXNlX2lub3V0MywgZGVsYXkuY2xvbmUoKSwgbW92ZV9lYXNlX2lub3V0X2JhY2szLCBkZWxheS5jbG9uZSgpKTtcbiAgICAvLyAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihzZXEzLnJlcGVhdEZvcmV2ZXIoKSk7XG4gICAgLy8gfSxcbiAgICAvLyBtb3ZlT3V0KCkge1xuICAgIC8vICAgICBsZXQgZGVsYXkgICA9IGNjLmRlbGF5VGltZSgwLjEpO1xuICAgIC8vICAgICBsZXQgbW92ZSAgICA9IGNjLm1vdmVCeSgyLCBjYy52MihjYy53aW5TaXplLndpZHRoIC0gODAsIDApKTtcbiAgICAvLyAgICAgbGV0IG1vdmVfZWFzZV9pbm91dDMgPSBtb3ZlLmNsb25lKCkuZWFzaW5nKGNjLmVhc2VFbGFzdGljSW5PdXQoMC42KSk7XG4gICAgLy8gICAgIGxldCBzZXEzID0gY2Muc2VxdWVuY2UobW92ZV9lYXNlX2lub3V0MywgZGVsYXkuY2xvbmUoKSk7XG4gICAgLy8gICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oc2VxMyk7XG4gICAgLy8gfSxcbiAgICAvLyB1cGRhdGUgKGR0KSB7fSxcXFxuXG59KTtcbiJdfQ==