
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/candy/CandyWinGame.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4a59dE/seJEkaxHbYkXnQOc', 'CandyWinGame');
// scripts/candy/CandyWinGame.js

"use strict";

var self;

var Helper = require("Helper");

cc.Class({
  "extends": cc.VozBaseComponent,
  properties: {
    lbMoneyWin: cc.Label,
    lbNumberWin: cc.Label,
    animationWin: cc.Node
  },
  onLoad: function onLoad() {
    self = this;
  },
  init: function init(obj) {
    this.CDV = obj;
  },
  runWinGame: function runWinGame() {
    if (this.CDV.isThangLon && !this.CDV.isNoHu) {
      this.runThangLon();
    } else if (this.CDV.isNoHu) {
      this.runNoHu();
    } else {
      if (this.CDV.winMoney > 0) {
        this.CDV.setMoneyWin(this.CDV.winMoney);
        this.lbMoneyWin.node.active = true;
        Helper.numberTo(this.lbMoneyWin, 0, this.CDV.winMoney, 1200, true, function () {
          self.CDV.updateChipAll();
          self.scheduleOnce(function () {
            self.lbMoneyWin.node.active = false;
            self.checkRunAgainWin();
          }, 1);
        });
        this.CDV.winMoney = 0;
      } else {
        this.CDV.autoQuay();
      }

      self.CDV.finishSpin();
    }
  },
  checkRunAgainWin: function checkRunAgainWin() {
    if (this.CDV.winMoney > 0 || this.CDV.isNoHu || this.CDV.isThangLon || this.CDV.isAuto) this.runWinGame();
  },
  runNoHu: function runNoHu() {
    this.animationWin.active = true;
    this.animationWin.getComponent(sp.Skeleton).setAnimation(0, "NoHu-112", false);
    this.lbNumberWin.node.active = true;
    Helper.numberTo(this.lbNumberWin, 0, this.CDV.winMoney, 1200, true, function () {
      this.scheduleOnce(function () {
        var d = cc.moveTo(0.5, cc.v2(-75, 170));
        self.lbNumberWin.node.runAction(cc.sequence(d, cc.delayTime(1), cc.callFunc(function () {
          self.lbNumberWin.node.active = false;
          self.checkRunAgainWin();
        })));
      }, 3);
    });
    this.scheduleOnce(function () {
      self.animationWin.active = false;
    }, 2.5);
    this.CDV.isNoHu = false;
  },
  runThangLon: function runThangLon() {
    this.animationWin.active = true;
    this.animationWin.getComponent(sp.Skeleton).setAnimation(0, "ThangSieuLown-112", false);
    this.lbNumberWin.node.active = true;
    Helper.numberTo(this.lbNumberWin, 0, this.CDV.winMoney, 1200, true, function () {
      this.scheduleOnce(function () {
        var d = cc.moveTo(0.5, cc.v2(-75, 170));
        self.lbNumberWin.node.runAction(cc.sequence(d, cc.delayTime(1), cc.callFunc(function () {
          self.lbNumberWin.node.active = false;
          self.checkRunAgainWin();
        })));
      }, 3);
    });
    this.scheduleOnce(function () {
      self.animationWin.active = false;
    }, 2.5);
    this.CDV.isThangLon = false;
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcY2FuZHlcXENhbmR5V2luR2FtZS5qcyJdLCJuYW1lcyI6WyJzZWxmIiwiSGVscGVyIiwicmVxdWlyZSIsImNjIiwiQ2xhc3MiLCJWb3pCYXNlQ29tcG9uZW50IiwicHJvcGVydGllcyIsImxiTW9uZXlXaW4iLCJMYWJlbCIsImxiTnVtYmVyV2luIiwiYW5pbWF0aW9uV2luIiwiTm9kZSIsIm9uTG9hZCIsImluaXQiLCJvYmoiLCJDRFYiLCJydW5XaW5HYW1lIiwiaXNUaGFuZ0xvbiIsImlzTm9IdSIsInJ1blRoYW5nTG9uIiwicnVuTm9IdSIsIndpbk1vbmV5Iiwic2V0TW9uZXlXaW4iLCJub2RlIiwiYWN0aXZlIiwibnVtYmVyVG8iLCJ1cGRhdGVDaGlwQWxsIiwic2NoZWR1bGVPbmNlIiwiY2hlY2tSdW5BZ2FpbldpbiIsImF1dG9RdWF5IiwiZmluaXNoU3BpbiIsImlzQXV0byIsImdldENvbXBvbmVudCIsInNwIiwiU2tlbGV0b24iLCJzZXRBbmltYXRpb24iLCJkIiwibW92ZVRvIiwidjIiLCJydW5BY3Rpb24iLCJzZXF1ZW5jZSIsImRlbGF5VGltZSIsImNhbGxGdW5jIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLElBQUo7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFDQUMsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDTCxhQUFTRCxFQUFFLENBQUNFLGdCQURQO0FBR0xDLEVBQUFBLFVBQVUsRUFBRTtBQUNSQyxJQUFBQSxVQUFVLEVBQVlKLEVBQUUsQ0FBQ0ssS0FEakI7QUFFUkMsSUFBQUEsV0FBVyxFQUFXTixFQUFFLENBQUNLLEtBRmpCO0FBR1JFLElBQUFBLFlBQVksRUFBVVAsRUFBRSxDQUFDUTtBQUhqQixHQUhQO0FBU0xDLEVBQUFBLE1BVEssb0JBU0s7QUFDTlosSUFBQUEsSUFBSSxHQUFHLElBQVA7QUFDSCxHQVhJO0FBWUxhLEVBQUFBLElBWkssZ0JBWUFDLEdBWkEsRUFZSztBQUNOLFNBQUtDLEdBQUwsR0FBV0QsR0FBWDtBQUNILEdBZEk7QUFlTEUsRUFBQUEsVUFmSyx3QkFlUTtBQUNULFFBQUksS0FBS0QsR0FBTCxDQUFTRSxVQUFULElBQXVCLENBQUMsS0FBS0YsR0FBTCxDQUFTRyxNQUFyQyxFQUE2QztBQUN6QyxXQUFLQyxXQUFMO0FBQ0gsS0FGRCxNQUVNLElBQUksS0FBS0osR0FBTCxDQUFTRyxNQUFiLEVBQW9CO0FBQ3RCLFdBQUtFLE9BQUw7QUFDSCxLQUZLLE1BRUE7QUFDRixVQUFJLEtBQUtMLEdBQUwsQ0FBU00sUUFBVCxHQUFvQixDQUF4QixFQUEwQjtBQUN0QixhQUFLTixHQUFMLENBQVNPLFdBQVQsQ0FBcUIsS0FBS1AsR0FBTCxDQUFTTSxRQUE5QjtBQUNBLGFBQUtkLFVBQUwsQ0FBZ0JnQixJQUFoQixDQUFxQkMsTUFBckIsR0FBOEIsSUFBOUI7QUFDQXZCLFFBQUFBLE1BQU0sQ0FBQ3dCLFFBQVAsQ0FBZ0IsS0FBS2xCLFVBQXJCLEVBQWlDLENBQWpDLEVBQW9DLEtBQUtRLEdBQUwsQ0FBU00sUUFBN0MsRUFBdUQsSUFBdkQsRUFBNkQsSUFBN0QsRUFBbUUsWUFBWTtBQUMzRXJCLFVBQUFBLElBQUksQ0FBQ2UsR0FBTCxDQUFTVyxhQUFUO0FBQ0ExQixVQUFBQSxJQUFJLENBQUMyQixZQUFMLENBQWtCLFlBQVk7QUFDMUIzQixZQUFBQSxJQUFJLENBQUNPLFVBQUwsQ0FBZ0JnQixJQUFoQixDQUFxQkMsTUFBckIsR0FBOEIsS0FBOUI7QUFDQXhCLFlBQUFBLElBQUksQ0FBQzRCLGdCQUFMO0FBQ0gsV0FIRCxFQUdHLENBSEg7QUFJSCxTQU5EO0FBT0EsYUFBS2IsR0FBTCxDQUFTTSxRQUFULEdBQXNCLENBQXRCO0FBQ0gsT0FYRCxNQVdLO0FBQ0QsYUFBS04sR0FBTCxDQUFTYyxRQUFUO0FBQ0g7O0FBQ0Q3QixNQUFBQSxJQUFJLENBQUNlLEdBQUwsQ0FBU2UsVUFBVDtBQUNIO0FBQ0osR0FyQ0k7QUFzQ0xGLEVBQUFBLGdCQXRDSyw4QkFzQ2M7QUFDZixRQUFJLEtBQUtiLEdBQUwsQ0FBU00sUUFBVCxHQUFvQixDQUFwQixJQUF5QixLQUFLTixHQUFMLENBQVNHLE1BQWxDLElBQTRDLEtBQUtILEdBQUwsQ0FBU0UsVUFBckQsSUFBbUUsS0FBS0YsR0FBTCxDQUFTZ0IsTUFBaEYsRUFDSSxLQUFLZixVQUFMO0FBQ1AsR0F6Q0k7QUEwQ0xJLEVBQUFBLE9BMUNLLHFCQTBDSTtBQUNMLFNBQUtWLFlBQUwsQ0FBa0JjLE1BQWxCLEdBQTJCLElBQTNCO0FBQ0EsU0FBS2QsWUFBTCxDQUFrQnNCLFlBQWxCLENBQStCQyxFQUFFLENBQUNDLFFBQWxDLEVBQTRDQyxZQUE1QyxDQUF5RCxDQUF6RCxFQUE0RCxVQUE1RCxFQUF3RSxLQUF4RTtBQUNBLFNBQUsxQixXQUFMLENBQWlCYyxJQUFqQixDQUFzQkMsTUFBdEIsR0FBK0IsSUFBL0I7QUFDQXZCLElBQUFBLE1BQU0sQ0FBQ3dCLFFBQVAsQ0FBZ0IsS0FBS2hCLFdBQXJCLEVBQWtDLENBQWxDLEVBQXFDLEtBQUtNLEdBQUwsQ0FBU00sUUFBOUMsRUFBd0QsSUFBeEQsRUFBOEQsSUFBOUQsRUFBb0UsWUFBWTtBQUM1RSxXQUFLTSxZQUFMLENBQWtCLFlBQVk7QUFDMUIsWUFBSVMsQ0FBQyxHQUFHakMsRUFBRSxDQUFDa0MsTUFBSCxDQUFVLEdBQVYsRUFBZWxDLEVBQUUsQ0FBQ21DLEVBQUgsQ0FBTSxDQUFDLEVBQVAsRUFBVyxHQUFYLENBQWYsQ0FBUjtBQUNBdEMsUUFBQUEsSUFBSSxDQUFDUyxXQUFMLENBQWlCYyxJQUFqQixDQUFzQmdCLFNBQXRCLENBQWdDcEMsRUFBRSxDQUFDcUMsUUFBSCxDQUFZSixDQUFaLEVBQWVqQyxFQUFFLENBQUNzQyxTQUFILENBQWEsQ0FBYixDQUFmLEVBQWdDdEMsRUFBRSxDQUFDdUMsUUFBSCxDQUFZLFlBQVk7QUFDcEYxQyxVQUFBQSxJQUFJLENBQUNTLFdBQUwsQ0FBaUJjLElBQWpCLENBQXNCQyxNQUF0QixHQUErQixLQUEvQjtBQUNBeEIsVUFBQUEsSUFBSSxDQUFDNEIsZ0JBQUw7QUFDSCxTQUgrRCxDQUFoQyxDQUFoQztBQUlILE9BTkQsRUFNRyxDQU5IO0FBT0gsS0FSRDtBQVNBLFNBQUtELFlBQUwsQ0FBa0IsWUFBWTtBQUMxQjNCLE1BQUFBLElBQUksQ0FBQ1UsWUFBTCxDQUFrQmMsTUFBbEIsR0FBOEIsS0FBOUI7QUFDSCxLQUZELEVBRUcsR0FGSDtBQUdBLFNBQUtULEdBQUwsQ0FBU0csTUFBVCxHQUFzQixLQUF0QjtBQUNILEdBM0RJO0FBNERMQyxFQUFBQSxXQTVESyx5QkE0RFE7QUFDVCxTQUFLVCxZQUFMLENBQWtCYyxNQUFsQixHQUEyQixJQUEzQjtBQUNBLFNBQUtkLFlBQUwsQ0FBa0JzQixZQUFsQixDQUErQkMsRUFBRSxDQUFDQyxRQUFsQyxFQUE0Q0MsWUFBNUMsQ0FBeUQsQ0FBekQsRUFBNEQsbUJBQTVELEVBQWlGLEtBQWpGO0FBQ0EsU0FBSzFCLFdBQUwsQ0FBaUJjLElBQWpCLENBQXNCQyxNQUF0QixHQUErQixJQUEvQjtBQUNBdkIsSUFBQUEsTUFBTSxDQUFDd0IsUUFBUCxDQUFnQixLQUFLaEIsV0FBckIsRUFBa0MsQ0FBbEMsRUFBcUMsS0FBS00sR0FBTCxDQUFTTSxRQUE5QyxFQUF3RCxJQUF4RCxFQUE4RCxJQUE5RCxFQUFvRSxZQUFZO0FBQzVFLFdBQUtNLFlBQUwsQ0FBa0IsWUFBWTtBQUMxQixZQUFJUyxDQUFDLEdBQUdqQyxFQUFFLENBQUNrQyxNQUFILENBQVUsR0FBVixFQUFlbEMsRUFBRSxDQUFDbUMsRUFBSCxDQUFNLENBQUMsRUFBUCxFQUFXLEdBQVgsQ0FBZixDQUFSO0FBQ0F0QyxRQUFBQSxJQUFJLENBQUNTLFdBQUwsQ0FBaUJjLElBQWpCLENBQXNCZ0IsU0FBdEIsQ0FBZ0NwQyxFQUFFLENBQUNxQyxRQUFILENBQVlKLENBQVosRUFBZWpDLEVBQUUsQ0FBQ3NDLFNBQUgsQ0FBYSxDQUFiLENBQWYsRUFBZ0N0QyxFQUFFLENBQUN1QyxRQUFILENBQVksWUFBWTtBQUNwRjFDLFVBQUFBLElBQUksQ0FBQ1MsV0FBTCxDQUFpQmMsSUFBakIsQ0FBc0JDLE1BQXRCLEdBQStCLEtBQS9CO0FBQ0F4QixVQUFBQSxJQUFJLENBQUM0QixnQkFBTDtBQUNILFNBSCtELENBQWhDLENBQWhDO0FBSUgsT0FORCxFQU1HLENBTkg7QUFPSCxLQVJEO0FBU0EsU0FBS0QsWUFBTCxDQUFrQixZQUFZO0FBQzFCM0IsTUFBQUEsSUFBSSxDQUFDVSxZQUFMLENBQWtCYyxNQUFsQixHQUE4QixLQUE5QjtBQUNILEtBRkQsRUFFRyxHQUZIO0FBR0EsU0FBS1QsR0FBTCxDQUFTRSxVQUFULEdBQXNCLEtBQXRCO0FBQ0g7QUE3RUksQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHNlbGY7XHJcbmxldCBIZWxwZXIgPSByZXF1aXJlKFwiSGVscGVyXCIpO1xyXG5jYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Wb3pCYXNlQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBsYk1vbmV5V2luICAgICAgICAgIDogY2MuTGFiZWwsXHJcbiAgICAgICAgbGJOdW1iZXJXaW4gICAgICAgICA6IGNjLkxhYmVsLFxyXG4gICAgICAgIGFuaW1hdGlvbldpbiAgICAgICAgOiBjYy5Ob2RlLFxyXG4gICAgfSxcclxuXHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIHNlbGYgPSB0aGlzO1xyXG4gICAgfSxcclxuICAgIGluaXQob2JqKSB7XHJcbiAgICAgICAgdGhpcy5DRFYgPSBvYmo7XHJcbiAgICB9LFxyXG4gICAgcnVuV2luR2FtZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5DRFYuaXNUaGFuZ0xvbiAmJiAhdGhpcy5DRFYuaXNOb0h1KSB7XHJcbiAgICAgICAgICAgIHRoaXMucnVuVGhhbmdMb24oKTtcclxuICAgICAgICB9ZWxzZSBpZiAodGhpcy5DRFYuaXNOb0h1KXtcclxuICAgICAgICAgICAgdGhpcy5ydW5Ob0h1KCk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5DRFYud2luTW9uZXkgPiAwKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuQ0RWLnNldE1vbmV5V2luKHRoaXMuQ0RWLndpbk1vbmV5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGJNb25leVdpbi5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBIZWxwZXIubnVtYmVyVG8odGhpcy5sYk1vbmV5V2luLCAwLCB0aGlzLkNEVi53aW5Nb25leSwgMTIwMCwgdHJ1ZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuQ0RWLnVwZGF0ZUNoaXBBbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNjaGVkdWxlT25jZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubGJNb25leVdpbi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNoZWNrUnVuQWdhaW5XaW4oKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAxKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5DRFYud2luTW9uZXkgICA9IDA7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5DRFYuYXV0b1F1YXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxmLkNEVi5maW5pc2hTcGluKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNoZWNrUnVuQWdhaW5XaW4oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuQ0RWLndpbk1vbmV5ID4gMCB8fCB0aGlzLkNEVi5pc05vSHUgfHwgdGhpcy5DRFYuaXNUaGFuZ0xvbiB8fCB0aGlzLkNEVi5pc0F1dG8pXHJcbiAgICAgICAgICAgIHRoaXMucnVuV2luR2FtZSgpO1xyXG4gICAgfSxcclxuICAgIHJ1bk5vSHUoKXtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbldpbi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uV2luLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbikuc2V0QW5pbWF0aW9uKDAsIFwiTm9IdS0xMTJcIiwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMubGJOdW1iZXJXaW4ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIEhlbHBlci5udW1iZXJUbyh0aGlzLmxiTnVtYmVyV2luLCAwLCB0aGlzLkNEVi53aW5Nb25leSwgMTIwMCwgdHJ1ZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZCA9IGNjLm1vdmVUbygwLjUsIGNjLnYyKC03NSwgMTcwKSk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxiTnVtYmVyV2luLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGQsIGNjLmRlbGF5VGltZSgxKSwgY2MuY2FsbEZ1bmMoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGJOdW1iZXJXaW4ubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNoZWNrUnVuQWdhaW5XaW4oKTtcclxuICAgICAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgIH0sIDMpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLmFuaW1hdGlvbldpbi5hY3RpdmUgICAgPSBmYWxzZTtcclxuICAgICAgICB9LCAyLjUpO1xyXG4gICAgICAgIHRoaXMuQ0RWLmlzTm9IdSAgICAgPSBmYWxzZTtcclxuICAgIH0sXHJcbiAgICBydW5UaGFuZ0xvbigpe1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uV2luLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25XaW4uZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRBbmltYXRpb24oMCwgXCJUaGFuZ1NpZXVMb3duLTExMlwiLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5sYk51bWJlcldpbi5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgSGVscGVyLm51bWJlclRvKHRoaXMubGJOdW1iZXJXaW4sIDAsIHRoaXMuQ0RWLndpbk1vbmV5LCAxMjAwLCB0cnVlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBkID0gY2MubW92ZVRvKDAuNSwgY2MudjIoLTc1LCAxNzApKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubGJOdW1iZXJXaW4ubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoZCwgY2MuZGVsYXlUaW1lKDEpLCBjYy5jYWxsRnVuYyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sYk51bWJlcldpbi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2hlY2tSdW5BZ2FpbldpbigpO1xyXG4gICAgICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICAgICAgfSwgMylcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYW5pbWF0aW9uV2luLmFjdGl2ZSAgICA9IGZhbHNlO1xyXG4gICAgICAgIH0sIDIuNSlcclxuICAgICAgICB0aGlzLkNEVi5pc1RoYW5nTG9uID0gZmFsc2U7XHJcbiAgICB9LFxyXG59KTtcclxuIl19