
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/candy/UICandy.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6eefaH7lo5GK6xFbXyC4tUQ', 'UICandy');
// scripts/candy/UICandy.js

"use strict";

var WinGame = require("CandyWinGame");

var Helper = require("Helper");

var reel = require("CandyReel");

var line = require("CandyLine");

var UtilsUI = require("UtilsUI");

var Language = require("candyLanguage");

var ListRoom = cc.Enum({
  "1l": 100,
  "1k": 1000,
  "5k": 5000,
  "10k": 10000
});
cc.Class({
  "extends": cc.VozBaseComponent,
  properties: {
    reels: {
      "default": [],
      type: reel
    },
    listRoomNode: {
      "default": [],
      type: cc.Toggle
    },
    iconPrefab: cc.Prefab,
    noticeNode: cc.Node,
    btnQuay: cc.Node,
    btnQuayNhanh: cc.Node,
    btnStopSieuToc: cc.Node,
    btnStopQuay: cc.Node,
    btnAutoQuay: cc.Node,
    WinGame: WinGame,
    listMainLines: cc.Node,
    numberLine: cc.Sprite,
    edtCheat: cc.EditBox,
    selectLines: line,
    isAuto: false,
    isFast: false,
    isSpin: false,
    red: true,
    lastResult: [],
    betSelect: 0,
    roomNumber: 0,
    posLineWin: 0,
    totalLineWin: 0,
    TotalItemRun: 30,
    _TotalColumn: 3,
    _totalLine: 20,
    lb_hu: cc.Label,
    betLevel: "1l"
  },
  onLoad: function onLoad() {
    this.initCandy();
    this.isSpin = false;
    this.WinGame.init(this);
    this.selectLines.init(this);
    this.betLevel = "1k";
    this.roomNumber = ListRoom["1k"];
    this.listRoomNode[1].isChecked = true;
    this.schedule(this.updateJackpot, 3);
    this.updateJackpot();
  },
  onEnable: function onEnable() {
    if (this.node.zIndex <= cc.lastZIndex) {
      cc.lastZIndex += 1;
      this.node.zIndex = cc.lastZIndex;
    }

    cc.currentUI = "UICandy";
    this._totalLine = 20;
  },
  onDisable: function onDisable() {
    this.node.stopAllActions();
  },
  updateJackpot: function updateJackpot() {
    var key = "candy" + this.betLevel;

    if (SmartFoxSDK.CandyController.ZoneInstance.mySelf) {
      var variableJackpot = SmartFoxSDK.CandyController.ZoneInstance.mySelf.getVariable(key);

      if (variableJackpot) {
        var jackpot = variableJackpot.value;
        var current_lb_jackpot = this.lb_hu.string;
        current_lb_jackpot = current_lb_jackpot.split(".").join("");
        var currentHu = parseFloat(current_lb_jackpot);
        Utils.numberTo(this.lb_hu, currentHu, jackpot, 1000, true);
      }
    }
  },
  initCandy: function initCandy() {
    var self = this;
    var lineArr1 = [];
    var lineArr2 = [];
    var lineArr3 = [];
    Promise.all(this.reels.map(function (reel, index) {
      var lastArray = [];
      lastArray = self.initRandomItems(self.TotalItemRun, 0, 6);
      lineArr1.push(lastArray[lastArray.length - 1]);
      lineArr2.push(lastArray[lastArray.length - 2]);
      lineArr3.push(lastArray[lastArray.length - 3]);
      reel.init(self, lastArray);
    })).then(function (result) {
      self.lastResult = lineArr3.concat(lineArr2).concat(lineArr1);
    });
  },
  setMoneyWin: function setMoneyWin(totalMoney) {},
  updateDataPhong: function updateDataPhong(roomId) {},
  eventQuay: function eventQuay() {
    if (!this.checkEnoughMoney()) {
      mm.Toast.showToast(1, Language.getString("noti_not_money"));
      return;
    }

    this.isSpin = true;
    var betRequest = new CandyRequest.BetRequest();
    this.showLineWin(false);
    this.pauseSystemEventNode(this.btnQuay, true);
    this.setLinesBet(betRequest);
    betRequest.setBet(this.roomNumber);
    SmartFoxSDK.CandyController.ZoneInstance.send(betRequest.toSRequest());
    this.updateChipAll(this._totalLine * this.roomNumber);
  },
  setLinesBet: function setLinesBet(request) {
    switch (this.selectLines.typeLine) {
      case 1:
        request.setLineLe();
        break;

      case 2:
        request.setLineChan();
        break;

      case 3:
        var listLine = [];

        for (var i = 1; i < this.selectLines.data.length; i++) {
          if (this.selectLines.data[i]) {
            listLine.push(i);
          }
        }

        request.setLine(listLine);
        break;
    }
  },
  eventSieuToc: function eventSieuToc() {
    if (!this.checkEnoughMoney()) {
      mm.Toast.showToast(1, Language.getString("noti_not_money"));
      return;
    }

    this.isFast = true;
    this.isAuto = true;
    this.btnStopSieuToc.active = true;
    this.btnStopQuay.active = false;
    this.isSpin = true;
    this.autoQuay();
  },
  eventAutoQuay: function eventAutoQuay() {
    if (!this.checkEnoughMoney()) {
      mm.Toast.showToast(1, Language.getString("noti_not_money"));
      return;
    }

    this.isSpin = true;
    this.isAuto = true;
    this.isFast = false;
    this.btnStopQuay.active = true;
    this.btnStopSieuToc.active = false;
    this.pauseSystemEventNode(this.btnQuay, true);
    this.autoQuay();
  },
  eventStopAuto: function eventStopAuto() {
    this.isAuto = false;
    this.btnStopQuay.active = false;
    this.pauseSystemEventNode(this.btnQuay, false);
  },
  eventStopSieuToc: function eventStopSieuToc() {
    this.isAuto = false;
    this.isFast = false;
    this.btnStopSieuToc.active = false;
  },
  eventPhong: function eventPhong(event, data) {
    if (this.isSpin) {
      if (this.roomNumber == 100) {
        this.listRoomNode[0].isChecked = true;
      } else if (this.roomNumber == 1000) {
        this.listRoomNode[1].isChecked = true;
      } else if (this.roomNumber == 5000) {
        this.listRoomNode[2].isChecked = true;
      } else if (this.roomNumber == 10000) {
        this.listRoomNode[3].isChecked = true;
      }

      this.addNotice(Language.getString("noti_is_playing"));
      return;
    }

    this.roomNumber = parseInt(data);

    if (this.roomNumber == 100) {
      this.betLevel = "1l";
    } else if (this.roomNumber == 1000) {
      this.betLevel = "1k";
    } else if (this.roomNumber == 5000) {
      this.betLevel = "5k";
    } else if (this.roomNumber == 10000) {
      this.betLevel = "10k";
    }

    this.updateJackpot();
  },
  eventSelectLines: function eventSelectLines() {
    if (this.isSpin) {
      this.addNotice(Language.getString("noti_is_playing"));
      return;
    }

    this.selectLines.eventOpen();
  },
  checkEnoughMoney: function checkEnoughMoney() {
    if (GameVariables.Poker.getChip(SmartFoxSDK.CandyController.ZoneInstance.mySelf) < this.roomNumber * this._totalLine) {
      return false;
    }

    return true;
  },
  pauseSystemEventNode: function pauseSystemEventNode(nodeEvent, isPause) {
    Helper.setMaterialGray(nodeEvent.getComponent(cc.Sprite), isPause);

    if (isPause) {
      nodeEvent.pauseSystemEvents(true);
    } else nodeEvent.resumeSystemEvents(true);
  },
  eventBack: function eventBack() {
    if (this.isSpin) {
      this.addNotice(Language.getString("noti_is_playing"));
      return;
    }

    var room = SmartFoxSDK.CandyController.ZoneInstance.getRoomByName("candy");

    if (room) {
      SmartFoxSDK.CandyController.ZoneInstance.send(new SmartFoxSDK.SmartFox.Requests.System.LeaveRoomRequest(room));
    } else {
      this.back();
    }
  },
  eventSetting: function eventSetting() {},
  eventVinhDanh: function eventVinhDanh() {
    var request = new CasinoRequest.LeaderBoardRequest();
    SmartFoxSDK.CandyController.ZoneInstance.send(request.toSRequest());
  },
  eventLichSuGiaoDich: function eventLichSuGiaoDich() {
    var request = new CasinoRequest.HistoryRequest();
    SmartFoxSDK.CandyController.ZoneInstance.send(request.toSRequest());
  },
  eventOpenHelper: function eventOpenHelper() {
    this.show("UICandyHelper", {
      pop: true,
      src: 'candy'
    });
  },
  finishSpin: function finishSpin() {
    this.isSpin = false;
  },
  CandyRun: function CandyRun(data) {
    var self = this;

    if (void 0 !== data.status) {
      if (data.status === 1) {
        data.result = this.getDataResult(data.result);
        Promise.all(data.result.map(function (cel, cel_index) {
          Promise.all(cel.map(function (icon, index) {
            self.reels[cel_index].icons[index].setIcon(icon, true);
          }));
        })).then(function (result) {
          self.runReels();
        });
        this.lineWin = data.lineWin;
        this.winMoney = data.winMoney;
        this.isNoHu = data.isNohu;
        this.isThangLon = data.isThangLon;
      } else {
        this.resetSpin();
      }
    } else {
      this.resetSpin();
    }
  },
  initRandomItems: function initRandomItems(numberItem, min, maxRandom) {
    var listItem = [];

    for (var i = 0; i < numberItem; i++) {
      listItem[i] = this.random(min, maxRandom);
    }

    return listItem;
  },
  getDataResult: function getDataResult(result) {
    var self = this;
    var newArray = [];

    for (var i = 0; i < this._TotalColumn; i++) {
      newArray[i] = [];
    }

    for (var _i = 0; _i < result.length; _i++) {
      newArray[_i % self._TotalColumn].push(result[_i]);
    }

    for (var _i2 = 0; _i2 < this._TotalColumn; _i2++) {
      var randomArr = this.initRandomItems(this.TotalItemRun - 6, 0, 6);
      newArray[_i2] = newArray[_i2].concat(randomArr);
    }

    for (var _i3 = 0; _i3 < this.lastResult.length; _i3++) {
      newArray[_i3 % self._TotalColumn].push(this.lastResult[_i3]);
    }

    this.lastResult = result;
    return newArray;
  },
  reformatResult: function reformatResult(result, size) {
    var res = [];

    for (var i = 0; i < result.length; i = i + size) {
      res.push(result.slice(i, i + size));
    }

    return res;
  },
  runActionWon: function runActionWon() {
    this.WinGame.runWinGame();
    this.showLineWin(true);
    if (!this.isAuto) this.pauseSystemEventNode(this.btnQuay, false);
  },
  resume: function resume() {
    if (this.winMoney > 0) {
      this.scheduleOnce(function () {
        this.WinGame.runWinGame();
      }, 0.5);
    } else {
      this.WinGame.runWinGame();
    }
  },
  autoQuay: function autoQuay() {
    if (!this.checkEnoughMoney()) {
      mm.Toast.showToast(1, Language.getString("noti_not_money"));
      return;
    }

    if (this.isAuto) {
      this.scheduleOnce(function () {
        this.eventQuay();
      }, 0.5);
    }
  },
  showLineWin: function showLineWin(isShow) {
    var _this = this;

    var self = this;

    if (isShow) {
      this.totalLineWin = this.lineWin.length;
      this.posLineWin = 0;

      if (this.totalLineWin > 0) {
        Promise.all(this.lineWin.map(function (posLine) {
          self.listMainLines.children[posLine].active = true;
        }));
        this.scheduleOnce(function () {}, 2);
        Promise.all(self.lineWin.map(function (posLine) {
          self.listMainLines.children[posLine].active = false;
        })).then(function (result) {
          self.schedule(_this.showMainLine, 1.5);
        });
      }
    } else {
      for (var i = 0; i < this.listMainLines.childrenCount; i++) {
        if (this.listMainLines.children[i].active) this.listMainLines.children[i].active = false;
      }

      self.unschedule(this.showMainLine);
    }
  },
  showMainLine: function showMainLine() {
    var _this2 = this;

    Promise.all(this.listMainLines.children.map(function (line, index) {
      if (line.active) line.active = false;
    })).then(function (result) {
      _this2.totalLineWin = _this2.lineWin.length;

      if (_this2.totalLineWin > 0) {
        _this2.posLineWin = (_this2.posLineWin + 1) % _this2.totalLineWin;
        _this2.listMainLines.children[_this2.lineWin[_this2.posLineWin]].active = true;
      }
    }, this);
  },
  runReels: function runReels() {
    Promise.all(this.reels.map(function (reel, index) {
      reel.spin(index);
    }));
  },
  copy: function copy() {
    Promise.all(this.reels.map(function (reel) {
      reel.icons[reel.icons.length - 1].setIcon(reel.icons[2].data);
      reel.icons[reel.icons.length - 2].setIcon(reel.icons[1].data);
      reel.icons[reel.icons.length - 3].setIcon(reel.icons[0].data);
    }));
  },
  setNumberLines: function setNumberLines(totalLine) {
    this._totalLine = totalLine;
    UtilsUI.loadImageRes(this.numberLine, "candy/img/number-button/" + totalLine);
  },
  random: function random(min, max) {
    return min + ~~(Math.random() * max);
  },
  resetSpin: function resetSpin() {
    this.isSpin = false;
    this.isAuto = false;
    this.isFast = false;
    this.btnStopQuay.active = false;
    this.btnStopSieuToc.active = false;
    this.pauseSystemEventNode(this.btnQuay, false);
    mm.Toast.showToast(1, Language.getString("noti_not_money"));
  },
  checkHasMoney: function checkHasMoney() {
    return true;
  },
  addNotice: function addNotice(message) {
    var self = this;
    this.noticeNode.active = true;
    this.noticeNode.getChildByName("lb_noti").getComponent(cc.Label).string = message;
    this.scheduleOnce(function () {
      self.noticeNode.active = false;
    }, 1.5);
  },
  updateChipAll: function updateChipAll(subChip) {
    SmartFoxSDK.CandyController.onEventUpdateChip(subChip);
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHRzL2NhbmR5L1VJQ2FuZHkuanMiXSwibmFtZXMiOlsiV2luR2FtZSIsInJlcXVpcmUiLCJIZWxwZXIiLCJyZWVsIiwibGluZSIsIlV0aWxzVUkiLCJMYW5ndWFnZSIsIkxpc3RSb29tIiwiY2MiLCJFbnVtIiwiQ2xhc3MiLCJWb3pCYXNlQ29tcG9uZW50IiwicHJvcGVydGllcyIsInJlZWxzIiwidHlwZSIsImxpc3RSb29tTm9kZSIsIlRvZ2dsZSIsImljb25QcmVmYWIiLCJQcmVmYWIiLCJub3RpY2VOb2RlIiwiTm9kZSIsImJ0blF1YXkiLCJidG5RdWF5TmhhbmgiLCJidG5TdG9wU2lldVRvYyIsImJ0blN0b3BRdWF5IiwiYnRuQXV0b1F1YXkiLCJsaXN0TWFpbkxpbmVzIiwibnVtYmVyTGluZSIsIlNwcml0ZSIsImVkdENoZWF0IiwiRWRpdEJveCIsInNlbGVjdExpbmVzIiwiaXNBdXRvIiwiaXNGYXN0IiwiaXNTcGluIiwicmVkIiwibGFzdFJlc3VsdCIsImJldFNlbGVjdCIsInJvb21OdW1iZXIiLCJwb3NMaW5lV2luIiwidG90YWxMaW5lV2luIiwiVG90YWxJdGVtUnVuIiwiX1RvdGFsQ29sdW1uIiwiX3RvdGFsTGluZSIsImxiX2h1IiwiTGFiZWwiLCJiZXRMZXZlbCIsIm9uTG9hZCIsImluaXRDYW5keSIsImluaXQiLCJpc0NoZWNrZWQiLCJzY2hlZHVsZSIsInVwZGF0ZUphY2twb3QiLCJvbkVuYWJsZSIsIm5vZGUiLCJ6SW5kZXgiLCJsYXN0WkluZGV4IiwiY3VycmVudFVJIiwib25EaXNhYmxlIiwic3RvcEFsbEFjdGlvbnMiLCJrZXkiLCJTbWFydEZveFNESyIsIkNhbmR5Q29udHJvbGxlciIsIlpvbmVJbnN0YW5jZSIsIm15U2VsZiIsInZhcmlhYmxlSmFja3BvdCIsImdldFZhcmlhYmxlIiwiamFja3BvdCIsInZhbHVlIiwiY3VycmVudF9sYl9qYWNrcG90Iiwic3RyaW5nIiwic3BsaXQiLCJqb2luIiwiY3VycmVudEh1IiwicGFyc2VGbG9hdCIsIlV0aWxzIiwibnVtYmVyVG8iLCJzZWxmIiwibGluZUFycjEiLCJsaW5lQXJyMiIsImxpbmVBcnIzIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsImluZGV4IiwibGFzdEFycmF5IiwiaW5pdFJhbmRvbUl0ZW1zIiwicHVzaCIsImxlbmd0aCIsInRoZW4iLCJyZXN1bHQiLCJjb25jYXQiLCJzZXRNb25leVdpbiIsInRvdGFsTW9uZXkiLCJ1cGRhdGVEYXRhUGhvbmciLCJyb29tSWQiLCJldmVudFF1YXkiLCJjaGVja0Vub3VnaE1vbmV5IiwibW0iLCJUb2FzdCIsInNob3dUb2FzdCIsImdldFN0cmluZyIsImJldFJlcXVlc3QiLCJDYW5keVJlcXVlc3QiLCJCZXRSZXF1ZXN0Iiwic2hvd0xpbmVXaW4iLCJwYXVzZVN5c3RlbUV2ZW50Tm9kZSIsInNldExpbmVzQmV0Iiwic2V0QmV0Iiwic2VuZCIsInRvU1JlcXVlc3QiLCJ1cGRhdGVDaGlwQWxsIiwicmVxdWVzdCIsInR5cGVMaW5lIiwic2V0TGluZUxlIiwic2V0TGluZUNoYW4iLCJsaXN0TGluZSIsImkiLCJkYXRhIiwic2V0TGluZSIsImV2ZW50U2lldVRvYyIsImFjdGl2ZSIsImF1dG9RdWF5IiwiZXZlbnRBdXRvUXVheSIsImV2ZW50U3RvcEF1dG8iLCJldmVudFN0b3BTaWV1VG9jIiwiZXZlbnRQaG9uZyIsImV2ZW50IiwiYWRkTm90aWNlIiwicGFyc2VJbnQiLCJldmVudFNlbGVjdExpbmVzIiwiZXZlbnRPcGVuIiwiR2FtZVZhcmlhYmxlcyIsIlBva2VyIiwiZ2V0Q2hpcCIsIm5vZGVFdmVudCIsImlzUGF1c2UiLCJzZXRNYXRlcmlhbEdyYXkiLCJnZXRDb21wb25lbnQiLCJwYXVzZVN5c3RlbUV2ZW50cyIsInJlc3VtZVN5c3RlbUV2ZW50cyIsImV2ZW50QmFjayIsInJvb20iLCJnZXRSb29tQnlOYW1lIiwiU21hcnRGb3giLCJSZXF1ZXN0cyIsIlN5c3RlbSIsIkxlYXZlUm9vbVJlcXVlc3QiLCJiYWNrIiwiZXZlbnRTZXR0aW5nIiwiZXZlbnRWaW5oRGFuaCIsIkNhc2lub1JlcXVlc3QiLCJMZWFkZXJCb2FyZFJlcXVlc3QiLCJldmVudExpY2hTdUdpYW9EaWNoIiwiSGlzdG9yeVJlcXVlc3QiLCJldmVudE9wZW5IZWxwZXIiLCJzaG93IiwicG9wIiwic3JjIiwiZmluaXNoU3BpbiIsIkNhbmR5UnVuIiwic3RhdHVzIiwiZ2V0RGF0YVJlc3VsdCIsImNlbCIsImNlbF9pbmRleCIsImljb24iLCJpY29ucyIsInNldEljb24iLCJydW5SZWVscyIsImxpbmVXaW4iLCJ3aW5Nb25leSIsImlzTm9IdSIsImlzTm9odSIsImlzVGhhbmdMb24iLCJyZXNldFNwaW4iLCJudW1iZXJJdGVtIiwibWluIiwibWF4UmFuZG9tIiwibGlzdEl0ZW0iLCJyYW5kb20iLCJuZXdBcnJheSIsInJhbmRvbUFyciIsInJlZm9ybWF0UmVzdWx0Iiwic2l6ZSIsInJlcyIsInNsaWNlIiwicnVuQWN0aW9uV29uIiwicnVuV2luR2FtZSIsInJlc3VtZSIsInNjaGVkdWxlT25jZSIsImlzU2hvdyIsInBvc0xpbmUiLCJjaGlsZHJlbiIsInNob3dNYWluTGluZSIsImNoaWxkcmVuQ291bnQiLCJ1bnNjaGVkdWxlIiwic3BpbiIsImNvcHkiLCJzZXROdW1iZXJMaW5lcyIsInRvdGFsTGluZSIsImxvYWRJbWFnZVJlcyIsIm1heCIsIk1hdGgiLCJjaGVja0hhc01vbmV5IiwibWVzc2FnZSIsImdldENoaWxkQnlOYW1lIiwic3ViQ2hpcCIsIm9uRXZlbnRVcGRhdGVDaGlwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLE9BQU8sR0FBT0MsT0FBTyxDQUFDLGNBQUQsQ0FBekI7O0FBQ0EsSUFBSUMsTUFBTSxHQUFRRCxPQUFPLENBQUMsUUFBRCxDQUF6Qjs7QUFDQSxJQUFJRSxJQUFJLEdBQVVGLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLElBQUlHLElBQUksR0FBVUgsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsSUFBSUksT0FBTyxHQUFPSixPQUFPLENBQUMsU0FBRCxDQUF6Qjs7QUFDQSxJQUFJSyxRQUFRLEdBQU1MLE9BQU8sQ0FBQyxlQUFELENBQXpCOztBQUNBLElBQUlNLFFBQVEsR0FBR0MsRUFBRSxDQUFDQyxJQUFILENBQVE7QUFDbkIsUUFBUyxHQURVO0FBRW5CLFFBQVUsSUFGUztBQUduQixRQUFVLElBSFM7QUFJbkIsU0FBVTtBQUpTLENBQVIsQ0FBZjtBQU1BRCxFQUFFLENBQUNFLEtBQUgsQ0FBUztBQUNMLGFBQVNGLEVBQUUsQ0FBQ0csZ0JBRFA7QUFHTEMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JDLElBQUFBLEtBQUssRUFBRTtBQUNILGlCQUFTLEVBRE47QUFFSEMsTUFBQUEsSUFBSSxFQUFFWDtBQUZILEtBREM7QUFLUlksSUFBQUEsWUFBWSxFQUFFO0FBQ1YsaUJBQVMsRUFEQztBQUVWRCxNQUFBQSxJQUFJLEVBQUVOLEVBQUUsQ0FBQ1E7QUFGQyxLQUxOO0FBU1JDLElBQUFBLFVBQVUsRUFBWVQsRUFBRSxDQUFDVSxNQVRqQjtBQVVSQyxJQUFBQSxVQUFVLEVBQWVYLEVBQUUsQ0FBQ1ksSUFWcEI7QUFXUkMsSUFBQUEsT0FBTyxFQUFlYixFQUFFLENBQUNZLElBWGpCO0FBWVJFLElBQUFBLFlBQVksRUFBVWQsRUFBRSxDQUFDWSxJQVpqQjtBQWFSRyxJQUFBQSxjQUFjLEVBQVFmLEVBQUUsQ0FBQ1ksSUFiakI7QUFjUkksSUFBQUEsV0FBVyxFQUFXaEIsRUFBRSxDQUFDWSxJQWRqQjtBQWVSSyxJQUFBQSxXQUFXLEVBQVdqQixFQUFFLENBQUNZLElBZmpCO0FBZ0JScEIsSUFBQUEsT0FBTyxFQUFlQSxPQWhCZDtBQWlCUjBCLElBQUFBLGFBQWEsRUFBU2xCLEVBQUUsQ0FBQ1ksSUFqQmpCO0FBa0JSTyxJQUFBQSxVQUFVLEVBQVluQixFQUFFLENBQUNvQixNQWxCakI7QUFtQlJDLElBQUFBLFFBQVEsRUFBWXJCLEVBQUUsQ0FBQ3NCLE9BbkJmO0FBb0JSQyxJQUFBQSxXQUFXLEVBQVczQixJQXBCZDtBQXFCUjRCLElBQUFBLE1BQU0sRUFBZ0IsS0FyQmQ7QUFzQlJDLElBQUFBLE1BQU0sRUFBZ0IsS0F0QmQ7QUF1QlJDLElBQUFBLE1BQU0sRUFBZ0IsS0F2QmQ7QUF3QlJDLElBQUFBLEdBQUcsRUFBbUIsSUF4QmQ7QUF5QlJDLElBQUFBLFVBQVUsRUFBWSxFQXpCZDtBQTBCUkMsSUFBQUEsU0FBUyxFQUFhLENBMUJkO0FBMkJSQyxJQUFBQSxVQUFVLEVBQVksQ0EzQmQ7QUE0QlJDLElBQUFBLFVBQVUsRUFBWSxDQTVCZDtBQTZCUkMsSUFBQUEsWUFBWSxFQUFVLENBN0JkO0FBOEJSQyxJQUFBQSxZQUFZLEVBQVUsRUE5QmQ7QUErQlJDLElBQUFBLFlBQVksRUFBVyxDQS9CZjtBQWdDUkMsSUFBQUEsVUFBVSxFQUFZLEVBaENkO0FBaUNSQyxJQUFBQSxLQUFLLEVBQUVwQyxFQUFFLENBQUNxQyxLQWpDRjtBQWtDUkMsSUFBQUEsUUFBUSxFQUFFO0FBbENGLEdBSFA7QUF1Q0xDLEVBQUFBLE1BdkNLLG9CQXVDSztBQUNOLFNBQUtDLFNBQUw7QUFDQSxTQUFLZCxNQUFMLEdBQWMsS0FBZDtBQUNBLFNBQUtsQyxPQUFMLENBQWFpRCxJQUFiLENBQWtCLElBQWxCO0FBQ0EsU0FBS2xCLFdBQUwsQ0FBaUJrQixJQUFqQixDQUFzQixJQUF0QjtBQUNBLFNBQUtILFFBQUwsR0FBZ0IsSUFBaEI7QUFDQSxTQUFLUixVQUFMLEdBQWtCL0IsUUFBUSxDQUFDLElBQUQsQ0FBMUI7QUFDQSxTQUFLUSxZQUFMLENBQWtCLENBQWxCLEVBQXFCbUMsU0FBckIsR0FBaUMsSUFBakM7QUFDQSxTQUFLQyxRQUFMLENBQWMsS0FBS0MsYUFBbkIsRUFBa0MsQ0FBbEM7QUFDQSxTQUFLQSxhQUFMO0FBQ0gsR0FqREk7QUFrRExDLEVBQUFBLFFBbERLLHNCQWtETTtBQUNQLFFBQUksS0FBS0MsSUFBTCxDQUFVQyxNQUFWLElBQW9CL0MsRUFBRSxDQUFDZ0QsVUFBM0IsRUFBc0M7QUFDbENoRCxNQUFBQSxFQUFFLENBQUNnRCxVQUFILElBQW1CLENBQW5CO0FBQ0EsV0FBS0YsSUFBTCxDQUFVQyxNQUFWLEdBQW1CL0MsRUFBRSxDQUFDZ0QsVUFBdEI7QUFDSDs7QUFDRGhELElBQUFBLEVBQUUsQ0FBQ2lELFNBQUgsR0FBbUIsU0FBbkI7QUFDQSxTQUFLZCxVQUFMLEdBQWtCLEVBQWxCO0FBQ0gsR0F6REk7QUEwRExlLEVBQUFBLFNBMURLLHVCQTBETTtBQUNQLFNBQUtKLElBQUwsQ0FBVUssY0FBVjtBQUNILEdBNURJO0FBNkRMUCxFQUFBQSxhQTdESywyQkE2RFU7QUFDWCxRQUFJUSxHQUFHLEdBQUcsVUFBUSxLQUFLZCxRQUF2Qjs7QUFDQSxRQUFHZSxXQUFXLENBQUNDLGVBQVosQ0FBNEJDLFlBQTVCLENBQXlDQyxNQUE1QyxFQUFtRDtBQUMvQyxVQUFJQyxlQUFlLEdBQUdKLFdBQVcsQ0FBQ0MsZUFBWixDQUE0QkMsWUFBNUIsQ0FBeUNDLE1BQXpDLENBQWdERSxXQUFoRCxDQUE0RE4sR0FBNUQsQ0FBdEI7O0FBQ0EsVUFBR0ssZUFBSCxFQUFtQjtBQUNmLFlBQUlFLE9BQU8sR0FBR0YsZUFBZSxDQUFDRyxLQUE5QjtBQUNBLFlBQUlDLGtCQUFrQixHQUFHLEtBQUt6QixLQUFMLENBQVcwQixNQUFwQztBQUNBRCxRQUFBQSxrQkFBa0IsR0FBR0Esa0JBQWtCLENBQUNFLEtBQW5CLENBQXlCLEdBQXpCLEVBQThCQyxJQUE5QixDQUFtQyxFQUFuQyxDQUFyQjtBQUNBLFlBQUlDLFNBQVMsR0FBR0MsVUFBVSxDQUFDTCxrQkFBRCxDQUExQjtBQUNBTSxRQUFBQSxLQUFLLENBQUNDLFFBQU4sQ0FBZSxLQUFLaEMsS0FBcEIsRUFBMkI2QixTQUEzQixFQUFzQ04sT0FBdEMsRUFBK0MsSUFBL0MsRUFBcUQsSUFBckQ7QUFDSDtBQUNKO0FBQ0osR0F6RUk7QUEwRUxuQixFQUFBQSxTQUFTLEVBQUUscUJBQVc7QUFDbEIsUUFBSTZCLElBQUksR0FBRyxJQUFYO0FBQ0EsUUFBSUMsUUFBUSxHQUFHLEVBQWY7QUFDQSxRQUFJQyxRQUFRLEdBQUcsRUFBZjtBQUNBLFFBQUlDLFFBQVEsR0FBRyxFQUFmO0FBQ0FDLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLEtBQUtyRSxLQUFMLENBQVdzRSxHQUFYLENBQWUsVUFBU2hGLElBQVQsRUFBZWlGLEtBQWYsRUFBc0I7QUFDN0MsVUFBSUMsU0FBUyxHQUFHLEVBQWhCO0FBQ0FBLE1BQUFBLFNBQVMsR0FBR1IsSUFBSSxDQUFDUyxlQUFMLENBQXFCVCxJQUFJLENBQUNwQyxZQUExQixFQUF3QyxDQUF4QyxFQUEyQyxDQUEzQyxDQUFaO0FBQ0FxQyxNQUFBQSxRQUFRLENBQUNTLElBQVQsQ0FBY0YsU0FBUyxDQUFDQSxTQUFTLENBQUNHLE1BQVYsR0FBaUIsQ0FBbEIsQ0FBdkI7QUFDQVQsTUFBQUEsUUFBUSxDQUFDUSxJQUFULENBQWNGLFNBQVMsQ0FBQ0EsU0FBUyxDQUFDRyxNQUFWLEdBQWlCLENBQWxCLENBQXZCO0FBQ0FSLE1BQUFBLFFBQVEsQ0FBQ08sSUFBVCxDQUFjRixTQUFTLENBQUNBLFNBQVMsQ0FBQ0csTUFBVixHQUFpQixDQUFsQixDQUF2QjtBQUNBckYsTUFBQUEsSUFBSSxDQUFDOEMsSUFBTCxDQUFVNEIsSUFBVixFQUFnQlEsU0FBaEI7QUFDSCxLQVBXLENBQVosRUFPSUksSUFQSixDQU9TLFVBQUFDLE1BQU0sRUFBSTtBQUNmYixNQUFBQSxJQUFJLENBQUN6QyxVQUFMLEdBQWtCNEMsUUFBUSxDQUFDVyxNQUFULENBQWdCWixRQUFoQixFQUEwQlksTUFBMUIsQ0FBaUNiLFFBQWpDLENBQWxCO0FBQ0gsS0FURDtBQVVILEdBekZJO0FBMEZMYyxFQUFBQSxXQUFXLEVBQUUscUJBQVNDLFVBQVQsRUFBcUIsQ0FDakMsQ0EzRkk7QUE0RkxDLEVBQUFBLGVBNUZLLDJCQTRGV0MsTUE1RlgsRUE0Rm1CLENBRXZCLENBOUZJO0FBK0ZMQyxFQUFBQSxTQUFTLEVBQUUscUJBQVc7QUFDbEIsUUFBRyxDQUFDLEtBQUtDLGdCQUFMLEVBQUosRUFBNEI7QUFDeEJDLE1BQUFBLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTQyxTQUFULENBQW1CLENBQW5CLEVBQXNCOUYsUUFBUSxDQUFDK0YsU0FBVCxDQUFtQixnQkFBbkIsQ0FBdEI7QUFDQTtBQUNIOztBQUNELFNBQUtuRSxNQUFMLEdBQWMsSUFBZDtBQUNBLFFBQUlvRSxVQUFVLEdBQUcsSUFBSUMsWUFBWSxDQUFDQyxVQUFqQixFQUFqQjtBQUNBLFNBQUtDLFdBQUwsQ0FBaUIsS0FBakI7QUFDQSxTQUFLQyxvQkFBTCxDQUEwQixLQUFLckYsT0FBL0IsRUFBd0MsSUFBeEM7QUFDQSxTQUFLc0YsV0FBTCxDQUFpQkwsVUFBakI7QUFDQUEsSUFBQUEsVUFBVSxDQUFDTSxNQUFYLENBQWtCLEtBQUt0RSxVQUF2QjtBQUNBdUIsSUFBQUEsV0FBVyxDQUFDQyxlQUFaLENBQTRCQyxZQUE1QixDQUF5QzhDLElBQXpDLENBQThDUCxVQUFVLENBQUNRLFVBQVgsRUFBOUM7QUFDQSxTQUFLQyxhQUFMLENBQW1CLEtBQUtwRSxVQUFMLEdBQWdCLEtBQUtMLFVBQXhDO0FBQ0gsR0E1R0k7QUE2R0xxRSxFQUFBQSxXQTdHSyx1QkE2R09LLE9BN0dQLEVBNkdlO0FBQ2hCLFlBQVEsS0FBS2pGLFdBQUwsQ0FBaUJrRixRQUF6QjtBQUNJLFdBQUssQ0FBTDtBQUNJRCxRQUFBQSxPQUFPLENBQUNFLFNBQVI7QUFDQTs7QUFDSixXQUFLLENBQUw7QUFDSUYsUUFBQUEsT0FBTyxDQUFDRyxXQUFSO0FBQ0E7O0FBQ0osV0FBSyxDQUFMO0FBQ0ksWUFBSUMsUUFBUSxHQUFHLEVBQWY7O0FBQ0EsYUFBSyxJQUFJQyxDQUFDLEdBQUMsQ0FBWCxFQUFjQSxDQUFDLEdBQUUsS0FBS3RGLFdBQUwsQ0FBaUJ1RixJQUFqQixDQUFzQjlCLE1BQXZDLEVBQStDNkIsQ0FBQyxFQUFoRCxFQUFtRDtBQUMvQyxjQUFJLEtBQUt0RixXQUFMLENBQWlCdUYsSUFBakIsQ0FBc0JELENBQXRCLENBQUosRUFBNkI7QUFDekJELFlBQUFBLFFBQVEsQ0FBQzdCLElBQVQsQ0FBYzhCLENBQWQ7QUFDSDtBQUNKOztBQUNETCxRQUFBQSxPQUFPLENBQUNPLE9BQVIsQ0FBZ0JILFFBQWhCO0FBQ0E7QUFmUjtBQWlCSCxHQS9ISTtBQWdJTEksRUFBQUEsWUFBWSxFQUFFLHdCQUFXO0FBQ3JCLFFBQUcsQ0FBQyxLQUFLdkIsZ0JBQUwsRUFBSixFQUE0QjtBQUN4QkMsTUFBQUEsRUFBRSxDQUFDQyxLQUFILENBQVNDLFNBQVQsQ0FBbUIsQ0FBbkIsRUFBc0I5RixRQUFRLENBQUMrRixTQUFULENBQW1CLGdCQUFuQixDQUF0QjtBQUNBO0FBQ0g7O0FBQ0QsU0FBS3BFLE1BQUwsR0FBNkIsSUFBN0I7QUFDQSxTQUFLRCxNQUFMLEdBQTZCLElBQTdCO0FBQ0EsU0FBS1QsY0FBTCxDQUFvQmtHLE1BQXBCLEdBQTZCLElBQTdCO0FBQ0EsU0FBS2pHLFdBQUwsQ0FBaUJpRyxNQUFqQixHQUE2QixLQUE3QjtBQUNBLFNBQUt2RixNQUFMLEdBQTZCLElBQTdCO0FBQ0EsU0FBS3dGLFFBQUw7QUFDSCxHQTNJSTtBQTRJTEMsRUFBQUEsYUFBYSxFQUFFLHlCQUFXO0FBQ3RCLFFBQUcsQ0FBQyxLQUFLMUIsZ0JBQUwsRUFBSixFQUE0QjtBQUN4QkMsTUFBQUEsRUFBRSxDQUFDQyxLQUFILENBQVNDLFNBQVQsQ0FBbUIsQ0FBbkIsRUFBc0I5RixRQUFRLENBQUMrRixTQUFULENBQW1CLGdCQUFuQixDQUF0QjtBQUNBO0FBQ0g7O0FBQ0QsU0FBS25FLE1BQUwsR0FBOEIsSUFBOUI7QUFDQSxTQUFLRixNQUFMLEdBQThCLElBQTlCO0FBQ0EsU0FBS0MsTUFBTCxHQUE4QixLQUE5QjtBQUNBLFNBQUtULFdBQUwsQ0FBaUJpRyxNQUFqQixHQUE4QixJQUE5QjtBQUNBLFNBQUtsRyxjQUFMLENBQW9Ca0csTUFBcEIsR0FBOEIsS0FBOUI7QUFDQSxTQUFLZixvQkFBTCxDQUEwQixLQUFLckYsT0FBL0IsRUFBd0MsSUFBeEM7QUFDQSxTQUFLcUcsUUFBTDtBQUNILEdBeEpJO0FBeUpMRSxFQUFBQSxhQUFhLEVBQUUseUJBQVc7QUFDdEIsU0FBSzVGLE1BQUwsR0FBYyxLQUFkO0FBQ0EsU0FBS1IsV0FBTCxDQUFpQmlHLE1BQWpCLEdBQTBCLEtBQTFCO0FBQ0EsU0FBS2Ysb0JBQUwsQ0FBMEIsS0FBS3JGLE9BQS9CLEVBQXdDLEtBQXhDO0FBQ0gsR0E3Skk7QUE4Skx3RyxFQUFBQSxnQkFBZ0IsRUFBRSw0QkFBVztBQUN6QixTQUFLN0YsTUFBTCxHQUFjLEtBQWQ7QUFDQSxTQUFLQyxNQUFMLEdBQWMsS0FBZDtBQUNBLFNBQUtWLGNBQUwsQ0FBb0JrRyxNQUFwQixHQUE2QixLQUE3QjtBQUNILEdBbEtJO0FBbUtMSyxFQUFBQSxVQUFVLEVBQUUsb0JBQVNDLEtBQVQsRUFBZ0JULElBQWhCLEVBQXNCO0FBQzlCLFFBQUksS0FBS3BGLE1BQVQsRUFBZ0I7QUFDWixVQUFHLEtBQUtJLFVBQUwsSUFBbUIsR0FBdEIsRUFBMEI7QUFDdEIsYUFBS3ZCLFlBQUwsQ0FBa0IsQ0FBbEIsRUFBcUJtQyxTQUFyQixHQUFpQyxJQUFqQztBQUNILE9BRkQsTUFFTSxJQUFHLEtBQUtaLFVBQUwsSUFBbUIsSUFBdEIsRUFBMkI7QUFDN0IsYUFBS3ZCLFlBQUwsQ0FBa0IsQ0FBbEIsRUFBcUJtQyxTQUFyQixHQUFpQyxJQUFqQztBQUNILE9BRkssTUFFQSxJQUFHLEtBQUtaLFVBQUwsSUFBbUIsSUFBdEIsRUFBMkI7QUFDN0IsYUFBS3ZCLFlBQUwsQ0FBa0IsQ0FBbEIsRUFBcUJtQyxTQUFyQixHQUFpQyxJQUFqQztBQUNILE9BRkssTUFFQSxJQUFHLEtBQUtaLFVBQUwsSUFBbUIsS0FBdEIsRUFBNEI7QUFDOUIsYUFBS3ZCLFlBQUwsQ0FBa0IsQ0FBbEIsRUFBcUJtQyxTQUFyQixHQUFpQyxJQUFqQztBQUNIOztBQUNELFdBQUs4RSxTQUFMLENBQWUxSCxRQUFRLENBQUMrRixTQUFULENBQW1CLGlCQUFuQixDQUFmO0FBQ0E7QUFDSDs7QUFDRCxTQUFLL0QsVUFBTCxHQUFrQjJGLFFBQVEsQ0FBQ1gsSUFBRCxDQUExQjs7QUFDQSxRQUFHLEtBQUtoRixVQUFMLElBQW1CLEdBQXRCLEVBQTBCO0FBQ3RCLFdBQUtRLFFBQUwsR0FBZ0IsSUFBaEI7QUFDSCxLQUZELE1BRU0sSUFBRyxLQUFLUixVQUFMLElBQW1CLElBQXRCLEVBQTJCO0FBQzdCLFdBQUtRLFFBQUwsR0FBZ0IsSUFBaEI7QUFDSCxLQUZLLE1BRUEsSUFBRyxLQUFLUixVQUFMLElBQW1CLElBQXRCLEVBQTJCO0FBQzdCLFdBQUtRLFFBQUwsR0FBZ0IsSUFBaEI7QUFDSCxLQUZLLE1BRUEsSUFBRyxLQUFLUixVQUFMLElBQW1CLEtBQXRCLEVBQTRCO0FBQzlCLFdBQUtRLFFBQUwsR0FBZ0IsS0FBaEI7QUFDSDs7QUFDRCxTQUFLTSxhQUFMO0FBQ0gsR0E1TEk7QUE2TEw4RSxFQUFBQSxnQkFBZ0IsRUFBRSw0QkFBVTtBQUN4QixRQUFJLEtBQUtoRyxNQUFULEVBQWdCO0FBQ1osV0FBSzhGLFNBQUwsQ0FBZTFILFFBQVEsQ0FBQytGLFNBQVQsQ0FBbUIsaUJBQW5CLENBQWY7QUFDQTtBQUNIOztBQUNELFNBQUt0RSxXQUFMLENBQWlCb0csU0FBakI7QUFDSCxHQW5NSTtBQW9NTGxDLEVBQUFBLGdCQXBNSyw4QkFvTWE7QUFDZCxRQUFHbUMsYUFBYSxDQUFDQyxLQUFkLENBQW9CQyxPQUFwQixDQUE0QnpFLFdBQVcsQ0FBQ0MsZUFBWixDQUE0QkMsWUFBNUIsQ0FBeUNDLE1BQXJFLElBQStFLEtBQUsxQixVQUFMLEdBQWdCLEtBQUtLLFVBQXZHLEVBQWtIO0FBQzlHLGFBQU8sS0FBUDtBQUNIOztBQUNELFdBQU8sSUFBUDtBQUNILEdBek1JO0FBME1MK0QsRUFBQUEsb0JBQW9CLEVBQUUsOEJBQVM2QixTQUFULEVBQW9CQyxPQUFwQixFQUE2QjtBQUMvQ3RJLElBQUFBLE1BQU0sQ0FBQ3VJLGVBQVAsQ0FBd0JGLFNBQVMsQ0FBQ0csWUFBVixDQUF1QmxJLEVBQUUsQ0FBQ29CLE1BQTFCLENBQXhCLEVBQTJENEcsT0FBM0Q7O0FBQ0EsUUFBSUEsT0FBSixFQUFZO0FBQ1JELE1BQUFBLFNBQVMsQ0FBQ0ksaUJBQVYsQ0FBNEIsSUFBNUI7QUFDSCxLQUZELE1BR0lKLFNBQVMsQ0FBQ0ssa0JBQVYsQ0FBNkIsSUFBN0I7QUFDUCxHQWhOSTtBQWtOTEMsRUFBQUEsU0FBUyxFQUFFLHFCQUFXO0FBQ2xCLFFBQUksS0FBSzNHLE1BQVQsRUFBZ0I7QUFDWixXQUFLOEYsU0FBTCxDQUFlMUgsUUFBUSxDQUFDK0YsU0FBVCxDQUFtQixpQkFBbkIsQ0FBZjtBQUNBO0FBQ0g7O0FBQ0QsUUFBSXlDLElBQUksR0FBR2pGLFdBQVcsQ0FBQ0MsZUFBWixDQUE0QkMsWUFBNUIsQ0FBeUNnRixhQUF6QyxDQUF1RCxPQUF2RCxDQUFYOztBQUNBLFFBQUdELElBQUgsRUFBUTtBQUNKakYsTUFBQUEsV0FBVyxDQUFDQyxlQUFaLENBQTRCQyxZQUE1QixDQUF5QzhDLElBQXpDLENBQThDLElBQUloRCxXQUFXLENBQUNtRixRQUFaLENBQXFCQyxRQUFyQixDQUE4QkMsTUFBOUIsQ0FBcUNDLGdCQUF6QyxDQUEwREwsSUFBMUQsQ0FBOUM7QUFDSCxLQUZELE1BRUs7QUFDRCxXQUFLTSxJQUFMO0FBQ0g7QUFDSixHQTdOSTtBQThOTEMsRUFBQUEsWUFBWSxFQUFFLHdCQUFXLENBRXhCLENBaE9JO0FBaU9MQyxFQUFBQSxhQUFhLEVBQUUseUJBQVc7QUFDdEIsUUFBSXRDLE9BQU8sR0FBRyxJQUFJdUMsYUFBYSxDQUFDQyxrQkFBbEIsRUFBZDtBQUNBM0YsSUFBQUEsV0FBVyxDQUFDQyxlQUFaLENBQTRCQyxZQUE1QixDQUF5QzhDLElBQXpDLENBQThDRyxPQUFPLENBQUNGLFVBQVIsRUFBOUM7QUFDSCxHQXBPSTtBQXFPTDJDLEVBQUFBLG1CQUFtQixFQUFFLCtCQUFXO0FBQzVCLFFBQUl6QyxPQUFPLEdBQUcsSUFBSXVDLGFBQWEsQ0FBQ0csY0FBbEIsRUFBZDtBQUNBN0YsSUFBQUEsV0FBVyxDQUFDQyxlQUFaLENBQTRCQyxZQUE1QixDQUF5QzhDLElBQXpDLENBQThDRyxPQUFPLENBQUNGLFVBQVIsRUFBOUM7QUFDSCxHQXhPSTtBQXlPTDZDLEVBQUFBLGVBQWUsRUFBRSwyQkFBVztBQUN4QixTQUFLQyxJQUFMLENBQVUsZUFBVixFQUEyQjtBQUFDQyxNQUFBQSxHQUFHLEVBQUUsSUFBTjtBQUFZQyxNQUFBQSxHQUFHLEVBQUU7QUFBakIsS0FBM0I7QUFDSCxHQTNPSTtBQTRPTEMsRUFBQUEsVUFBVSxFQUFFLHNCQUFXO0FBQ25CLFNBQUs3SCxNQUFMLEdBQWMsS0FBZDtBQUNILEdBOU9JO0FBK09MOEgsRUFBQUEsUUFBUSxFQUFFLGtCQUFTMUMsSUFBVCxFQUFjO0FBQ3BCLFFBQUl6QyxJQUFJLEdBQUcsSUFBWDs7QUFDQSxRQUFJLEtBQUssQ0FBTCxLQUFXeUMsSUFBSSxDQUFDMkMsTUFBcEIsRUFBNEI7QUFDeEIsVUFBSTNDLElBQUksQ0FBQzJDLE1BQUwsS0FBZ0IsQ0FBcEIsRUFBdUI7QUFDbkIzQyxRQUFBQSxJQUFJLENBQUM1QixNQUFMLEdBQWMsS0FBS3dFLGFBQUwsQ0FBbUI1QyxJQUFJLENBQUM1QixNQUF4QixDQUFkO0FBQ0FULFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZb0MsSUFBSSxDQUFDNUIsTUFBTCxDQUFZUCxHQUFaLENBQWdCLFVBQVNnRixHQUFULEVBQWNDLFNBQWQsRUFBd0I7QUFDaERuRixVQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWWlGLEdBQUcsQ0FBQ2hGLEdBQUosQ0FBUSxVQUFTa0YsSUFBVCxFQUFlakYsS0FBZixFQUFxQjtBQUNyQ1AsWUFBQUEsSUFBSSxDQUFDaEUsS0FBTCxDQUFXdUosU0FBWCxFQUFzQkUsS0FBdEIsQ0FBNEJsRixLQUE1QixFQUFtQ21GLE9BQW5DLENBQTJDRixJQUEzQyxFQUFpRCxJQUFqRDtBQUNILFdBRlcsQ0FBWjtBQUdILFNBSlcsQ0FBWixFQUlJNUUsSUFKSixDQUlTLFVBQUFDLE1BQU0sRUFBRztBQUNkYixVQUFBQSxJQUFJLENBQUMyRixRQUFMO0FBQ0gsU0FORDtBQU9BLGFBQUtDLE9BQUwsR0FBa0JuRCxJQUFJLENBQUNtRCxPQUF2QjtBQUNBLGFBQUtDLFFBQUwsR0FBa0JwRCxJQUFJLENBQUNvRCxRQUF2QjtBQUNBLGFBQUtDLE1BQUwsR0FBa0JyRCxJQUFJLENBQUNzRCxNQUF2QjtBQUNBLGFBQUtDLFVBQUwsR0FBa0J2RCxJQUFJLENBQUN1RCxVQUF2QjtBQUNILE9BYkQsTUFhSztBQUNELGFBQUtDLFNBQUw7QUFDSDtBQUNKLEtBakJELE1BaUJNO0FBQ0YsV0FBS0EsU0FBTDtBQUNIO0FBQ0osR0FyUUk7QUFzUUx4RixFQUFBQSxlQUFlLEVBQUUseUJBQVN5RixVQUFULEVBQXFCQyxHQUFyQixFQUEwQkMsU0FBMUIsRUFBcUM7QUFDbEQsUUFBSUMsUUFBUSxHQUFHLEVBQWY7O0FBQ0EsU0FBSyxJQUFJN0QsQ0FBQyxHQUFDLENBQVgsRUFBY0EsQ0FBQyxHQUFFMEQsVUFBakIsRUFBNkIxRCxDQUFDLEVBQTlCLEVBQWlDO0FBQzdCNkQsTUFBQUEsUUFBUSxDQUFDN0QsQ0FBRCxDQUFSLEdBQWMsS0FBSzhELE1BQUwsQ0FBWUgsR0FBWixFQUFpQkMsU0FBakIsQ0FBZDtBQUNIOztBQUNELFdBQU9DLFFBQVA7QUFDSCxHQTVRSTtBQTZRTGhCLEVBQUFBLGFBQWEsRUFBRSx1QkFBU3hFLE1BQVQsRUFBaUI7QUFDNUIsUUFBSWIsSUFBSSxHQUFHLElBQVg7QUFDQSxRQUFJdUcsUUFBUSxHQUFHLEVBQWY7O0FBQ0EsU0FBSyxJQUFJL0QsQ0FBQyxHQUFDLENBQVgsRUFBY0EsQ0FBQyxHQUFFLEtBQUszRSxZQUF0QixFQUFvQzJFLENBQUMsRUFBckMsRUFBd0M7QUFDcEMrRCxNQUFBQSxRQUFRLENBQUMvRCxDQUFELENBQVIsR0FBYyxFQUFkO0FBQ0g7O0FBQ0QsU0FBSyxJQUFJQSxFQUFDLEdBQUMsQ0FBWCxFQUFjQSxFQUFDLEdBQUUzQixNQUFNLENBQUNGLE1BQXhCLEVBQWdDNkIsRUFBQyxFQUFqQyxFQUFxQztBQUNqQytELE1BQUFBLFFBQVEsQ0FBQy9ELEVBQUMsR0FBQ3hDLElBQUksQ0FBQ25DLFlBQVIsQ0FBUixDQUE4QjZDLElBQTlCLENBQW1DRyxNQUFNLENBQUMyQixFQUFELENBQXpDO0FBQ0g7O0FBQ0QsU0FBSyxJQUFJQSxHQUFDLEdBQUMsQ0FBWCxFQUFjQSxHQUFDLEdBQUUsS0FBSzNFLFlBQXRCLEVBQW9DMkUsR0FBQyxFQUFyQyxFQUF3QztBQUNwQyxVQUFJZ0UsU0FBUyxHQUFHLEtBQUsvRixlQUFMLENBQXFCLEtBQUs3QyxZQUFMLEdBQWtCLENBQXZDLEVBQTBDLENBQTFDLEVBQTZDLENBQTdDLENBQWhCO0FBQ0EySSxNQUFBQSxRQUFRLENBQUMvRCxHQUFELENBQVIsR0FBYytELFFBQVEsQ0FBQy9ELEdBQUQsQ0FBUixDQUFZMUIsTUFBWixDQUFtQjBGLFNBQW5CLENBQWQ7QUFDSDs7QUFDRCxTQUFLLElBQUloRSxHQUFDLEdBQUMsQ0FBWCxFQUFjQSxHQUFDLEdBQUcsS0FBS2pGLFVBQUwsQ0FBZ0JvRCxNQUFsQyxFQUEwQzZCLEdBQUMsRUFBM0MsRUFBK0M7QUFDM0MrRCxNQUFBQSxRQUFRLENBQUMvRCxHQUFDLEdBQUN4QyxJQUFJLENBQUNuQyxZQUFSLENBQVIsQ0FBOEI2QyxJQUE5QixDQUFvQyxLQUFLbkQsVUFBTCxDQUFnQmlGLEdBQWhCLENBQXBDO0FBQ0g7O0FBQ0QsU0FBS2pGLFVBQUwsR0FBa0JzRCxNQUFsQjtBQUNBLFdBQU8wRixRQUFQO0FBQ0gsR0EvUkk7QUFnU0xFLEVBQUFBLGNBaFNLLDBCQWdTVTVGLE1BaFNWLEVBZ1NrQjZGLElBaFNsQixFQWdTd0I7QUFDekIsUUFBSUMsR0FBRyxHQUFHLEVBQVY7O0FBQ0EsU0FBSSxJQUFJbkUsQ0FBQyxHQUFDLENBQVYsRUFBWUEsQ0FBQyxHQUFHM0IsTUFBTSxDQUFDRixNQUF2QixFQUErQjZCLENBQUMsR0FBR0EsQ0FBQyxHQUFDa0UsSUFBckM7QUFDSUMsTUFBQUEsR0FBRyxDQUFDakcsSUFBSixDQUFTRyxNQUFNLENBQUMrRixLQUFQLENBQWFwRSxDQUFiLEVBQWVBLENBQUMsR0FBQ2tFLElBQWpCLENBQVQ7QUFESjs7QUFFQSxXQUFPQyxHQUFQO0FBQ0gsR0FyU0k7QUFzU0xFLEVBQUFBLFlBQVksRUFBRSx3QkFBVztBQUNyQixTQUFLMUwsT0FBTCxDQUFhMkwsVUFBYjtBQUNBLFNBQUtsRixXQUFMLENBQWlCLElBQWpCO0FBQ0EsUUFBSSxDQUFDLEtBQUt6RSxNQUFWLEVBQ0ksS0FBSzBFLG9CQUFMLENBQTBCLEtBQUtyRixPQUEvQixFQUF3QyxLQUF4QztBQUNQLEdBM1NJO0FBNFNMdUssRUFBQUEsTUE1U0ssb0JBNFNJO0FBQ0wsUUFBSSxLQUFLbEIsUUFBTCxHQUFnQixDQUFwQixFQUFzQjtBQUNsQixXQUFLbUIsWUFBTCxDQUFrQixZQUFXO0FBQ3pCLGFBQUs3TCxPQUFMLENBQWEyTCxVQUFiO0FBQ0gsT0FGRCxFQUVFLEdBRkY7QUFHSCxLQUpELE1BSU07QUFDRixXQUFLM0wsT0FBTCxDQUFhMkwsVUFBYjtBQUNIO0FBQ0osR0FwVEk7QUFxVExqRSxFQUFBQSxRQXJUSyxzQkFxVE07QUFDUCxRQUFHLENBQUMsS0FBS3pCLGdCQUFMLEVBQUosRUFBNEI7QUFDeEJDLE1BQUFBLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTQyxTQUFULENBQW1CLENBQW5CLEVBQXNCOUYsUUFBUSxDQUFDK0YsU0FBVCxDQUFtQixnQkFBbkIsQ0FBdEI7QUFDQTtBQUNIOztBQUNELFFBQUksS0FBS3JFLE1BQVQsRUFBZ0I7QUFDWixXQUFLNkosWUFBTCxDQUFrQixZQUFXO0FBQ3pCLGFBQUs3RixTQUFMO0FBQ0gsT0FGRCxFQUVFLEdBRkY7QUFHSDtBQUNKLEdBL1RJO0FBZ1VMUyxFQUFBQSxXQUFXLEVBQUUscUJBQVNxRixNQUFULEVBQWlCO0FBQUE7O0FBQzFCLFFBQUlqSCxJQUFJLEdBQUcsSUFBWDs7QUFDQSxRQUFJaUgsTUFBSixFQUFXO0FBQ1AsV0FBS3RKLFlBQUwsR0FBc0IsS0FBS2lJLE9BQUwsQ0FBYWpGLE1BQW5DO0FBQ0EsV0FBS2pELFVBQUwsR0FBc0IsQ0FBdEI7O0FBQ0EsVUFBSSxLQUFLQyxZQUFMLEdBQW9CLENBQXhCLEVBQTBCO0FBQ3RCeUMsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksS0FBS3VGLE9BQUwsQ0FBYXRGLEdBQWIsQ0FBaUIsVUFBUzRHLE9BQVQsRUFBaUI7QUFDMUNsSCxVQUFBQSxJQUFJLENBQUNuRCxhQUFMLENBQW1Cc0ssUUFBbkIsQ0FBNEJELE9BQTVCLEVBQXFDdEUsTUFBckMsR0FBOEMsSUFBOUM7QUFDSCxTQUZXLENBQVo7QUFHQSxhQUFLb0UsWUFBTCxDQUFrQixZQUFVLENBRTNCLENBRkQsRUFFRyxDQUZIO0FBR0E1RyxRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUwsSUFBSSxDQUFDNEYsT0FBTCxDQUFhdEYsR0FBYixDQUFpQixVQUFTNEcsT0FBVCxFQUFpQjtBQUMxQ2xILFVBQUFBLElBQUksQ0FBQ25ELGFBQUwsQ0FBbUJzSyxRQUFuQixDQUE0QkQsT0FBNUIsRUFBcUN0RSxNQUFyQyxHQUE4QyxLQUE5QztBQUNILFNBRlcsQ0FBWixFQUVJaEMsSUFGSixDQUVTLFVBQUFDLE1BQU0sRUFBRztBQUNkYixVQUFBQSxJQUFJLENBQUMxQixRQUFMLENBQWUsS0FBSSxDQUFDOEksWUFBcEIsRUFBa0MsR0FBbEM7QUFDSCxTQUpEO0FBS0g7QUFDSixLQWhCRCxNQWdCTTtBQUNGLFdBQUssSUFBSTVFLENBQUMsR0FBQyxDQUFYLEVBQWNBLENBQUMsR0FBRSxLQUFLM0YsYUFBTCxDQUFtQndLLGFBQXBDLEVBQW1EN0UsQ0FBQyxFQUFwRDtBQUNJLFlBQUksS0FBSzNGLGFBQUwsQ0FBbUJzSyxRQUFuQixDQUE0QjNFLENBQTVCLEVBQStCSSxNQUFuQyxFQUNJLEtBQUsvRixhQUFMLENBQW1Cc0ssUUFBbkIsQ0FBNEIzRSxDQUE1QixFQUErQkksTUFBL0IsR0FBd0MsS0FBeEM7QUFGUjs7QUFHQTVDLE1BQUFBLElBQUksQ0FBQ3NILFVBQUwsQ0FBZ0IsS0FBS0YsWUFBckI7QUFDSDtBQUNKLEdBeFZJO0FBeVZMQSxFQUFBQSxZQUFZLEVBQUUsd0JBQVc7QUFBQTs7QUFDckJoSCxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxLQUFLeEQsYUFBTCxDQUFtQnNLLFFBQW5CLENBQTRCN0csR0FBNUIsQ0FBZ0MsVUFBUy9FLElBQVQsRUFBZWdGLEtBQWYsRUFBc0I7QUFDOUQsVUFBSWhGLElBQUksQ0FBQ3FILE1BQVQsRUFDSXJILElBQUksQ0FBQ3FILE1BQUwsR0FBYyxLQUFkO0FBQ1AsS0FIVyxDQUFaLEVBR0loQyxJQUhKLENBR1MsVUFBQUMsTUFBTSxFQUFHO0FBQ2QsTUFBQSxNQUFJLENBQUNsRCxZQUFMLEdBQW9CLE1BQUksQ0FBQ2lJLE9BQUwsQ0FBYWpGLE1BQWpDOztBQUNBLFVBQUksTUFBSSxDQUFDaEQsWUFBTCxHQUFvQixDQUF4QixFQUEwQjtBQUN0QixRQUFBLE1BQUksQ0FBQ0QsVUFBTCxHQUFrQixDQUFDLE1BQUksQ0FBQ0EsVUFBTCxHQUFnQixDQUFqQixJQUFvQixNQUFJLENBQUNDLFlBQTNDO0FBQ0EsUUFBQSxNQUFJLENBQUNkLGFBQUwsQ0FBbUJzSyxRQUFuQixDQUE0QixNQUFJLENBQUN2QixPQUFMLENBQWEsTUFBSSxDQUFDbEksVUFBbEIsQ0FBNUIsRUFBMkRrRixNQUEzRCxHQUFvRSxJQUFwRTtBQUNIO0FBQ0osS0FURCxFQVNHLElBVEg7QUFVSCxHQXBXSTtBQXFXTCtDLEVBQUFBLFFBQVEsRUFBRSxvQkFBWTtBQUNsQnZGLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLEtBQUtyRSxLQUFMLENBQVdzRSxHQUFYLENBQWUsVUFBU2hGLElBQVQsRUFBZWlGLEtBQWYsRUFBc0I7QUFDN0NqRixNQUFBQSxJQUFJLENBQUNpTSxJQUFMLENBQVVoSCxLQUFWO0FBQ0gsS0FGVyxDQUFaO0FBR0gsR0F6V0k7QUEwV0xpSCxFQUFBQSxJQUFJLEVBQUUsZ0JBQVU7QUFDWnBILElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLEtBQUtyRSxLQUFMLENBQVdzRSxHQUFYLENBQWUsVUFBU2hGLElBQVQsRUFBYztBQUNyQ0EsTUFBQUEsSUFBSSxDQUFDbUssS0FBTCxDQUFXbkssSUFBSSxDQUFDbUssS0FBTCxDQUFXOUUsTUFBWCxHQUFrQixDQUE3QixFQUFnQytFLE9BQWhDLENBQXdDcEssSUFBSSxDQUFDbUssS0FBTCxDQUFXLENBQVgsRUFBY2hELElBQXREO0FBQ0FuSCxNQUFBQSxJQUFJLENBQUNtSyxLQUFMLENBQVduSyxJQUFJLENBQUNtSyxLQUFMLENBQVc5RSxNQUFYLEdBQWtCLENBQTdCLEVBQWdDK0UsT0FBaEMsQ0FBd0NwSyxJQUFJLENBQUNtSyxLQUFMLENBQVcsQ0FBWCxFQUFjaEQsSUFBdEQ7QUFDQW5ILE1BQUFBLElBQUksQ0FBQ21LLEtBQUwsQ0FBV25LLElBQUksQ0FBQ21LLEtBQUwsQ0FBVzlFLE1BQVgsR0FBa0IsQ0FBN0IsRUFBZ0MrRSxPQUFoQyxDQUF3Q3BLLElBQUksQ0FBQ21LLEtBQUwsQ0FBVyxDQUFYLEVBQWNoRCxJQUF0RDtBQUNILEtBSlcsQ0FBWjtBQUtILEdBaFhJO0FBaVhMZ0YsRUFBQUEsY0FBYyxFQUFFLHdCQUFTQyxTQUFULEVBQW9CO0FBQ2hDLFNBQUs1SixVQUFMLEdBQWtCNEosU0FBbEI7QUFDQWxNLElBQUFBLE9BQU8sQ0FBQ21NLFlBQVIsQ0FBcUIsS0FBSzdLLFVBQTFCLEVBQXNDLDZCQUEyQjRLLFNBQWpFO0FBQ0gsR0FwWEk7QUFxWExwQixFQUFBQSxNQUFNLEVBQUUsZ0JBQVNILEdBQVQsRUFBY3lCLEdBQWQsRUFBa0I7QUFDdEIsV0FBUXpCLEdBQUcsR0FBRSxDQUFDLEVBQUUwQixJQUFJLENBQUN2QixNQUFMLEtBQWNzQixHQUFoQixDQUFkO0FBQ0gsR0F2WEk7QUF3WEwzQixFQUFBQSxTQUFTLEVBQUUscUJBQVk7QUFDbkIsU0FBSzVJLE1BQUwsR0FBOEIsS0FBOUI7QUFDQSxTQUFLRixNQUFMLEdBQThCLEtBQTlCO0FBQ0EsU0FBS0MsTUFBTCxHQUE4QixLQUE5QjtBQUNBLFNBQUtULFdBQUwsQ0FBaUJpRyxNQUFqQixHQUE4QixLQUE5QjtBQUNBLFNBQUtsRyxjQUFMLENBQW9Ca0csTUFBcEIsR0FBOEIsS0FBOUI7QUFDQSxTQUFLZixvQkFBTCxDQUEwQixLQUFLckYsT0FBL0IsRUFBd0MsS0FBeEM7QUFDQTZFLElBQUFBLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTQyxTQUFULENBQW1CLENBQW5CLEVBQXNCOUYsUUFBUSxDQUFDK0YsU0FBVCxDQUFtQixnQkFBbkIsQ0FBdEI7QUFDSCxHQWhZSTtBQWlZTHNHLEVBQUFBLGFBQWEsRUFBRSx5QkFBVztBQUN0QixXQUFPLElBQVA7QUFDSCxHQW5ZSTtBQW9ZTDNFLEVBQUFBLFNBQVMsRUFBRSxtQkFBVTRFLE9BQVYsRUFBbUI7QUFDMUIsUUFBSS9ILElBQUksR0FBRyxJQUFYO0FBQ0EsU0FBSzFELFVBQUwsQ0FBZ0JzRyxNQUFoQixHQUF5QixJQUF6QjtBQUNBLFNBQUt0RyxVQUFMLENBQWdCMEwsY0FBaEIsQ0FBK0IsU0FBL0IsRUFBMENuRSxZQUExQyxDQUF1RGxJLEVBQUUsQ0FBQ3FDLEtBQTFELEVBQWlFeUIsTUFBakUsR0FBMEVzSSxPQUExRTtBQUNBLFNBQUtmLFlBQUwsQ0FBa0IsWUFBVztBQUN6QmhILE1BQUFBLElBQUksQ0FBQzFELFVBQUwsQ0FBZ0JzRyxNQUFoQixHQUF5QixLQUF6QjtBQUNILEtBRkQsRUFFRSxHQUZGO0FBR0gsR0EzWUk7QUE0WUxWLEVBQUFBLGFBNVlLLHlCQTRZUytGLE9BNVlULEVBNFlrQjtBQUNuQmpKLElBQUFBLFdBQVcsQ0FBQ0MsZUFBWixDQUE0QmlKLGlCQUE1QixDQUE4Q0QsT0FBOUM7QUFDSDtBQTlZSSxDQUFUIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgV2luR2FtZSAgICAgPSByZXF1aXJlKFwiQ2FuZHlXaW5HYW1lXCIpO1xubGV0IEhlbHBlciAgICAgID0gcmVxdWlyZShcIkhlbHBlclwiKTtcbmxldCByZWVsICAgICAgICA9IHJlcXVpcmUoXCJDYW5keVJlZWxcIik7XG5sZXQgbGluZSAgICAgICAgPSByZXF1aXJlKFwiQ2FuZHlMaW5lXCIpO1xubGV0IFV0aWxzVUkgICAgID0gcmVxdWlyZShcIlV0aWxzVUlcIik7XG5sZXQgTGFuZ3VhZ2UgICAgPSByZXF1aXJlKFwiY2FuZHlMYW5ndWFnZVwiKTtcbmxldCBMaXN0Um9vbSA9IGNjLkVudW0oe1xuICAgIFwiMWxcIiAgIDogMTAwLFxuICAgIFwiMWtcIiAgICA6IDEwMDAsXG4gICAgXCI1a1wiICAgIDogNTAwMCxcbiAgICBcIjEwa1wiICAgOiAxMDAwMFxufSk7XG5jYy5DbGFzcyh7XG4gICAgZXh0ZW5kczogY2MuVm96QmFzZUNvbXBvbmVudCxcblxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgcmVlbHM6IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IFtdLFxuICAgICAgICAgICAgdHlwZTogcmVlbCxcbiAgICAgICAgfSxcbiAgICAgICAgbGlzdFJvb21Ob2RlOiB7XG4gICAgICAgICAgICBkZWZhdWx0OiBbXSxcbiAgICAgICAgICAgIHR5cGU6IGNjLlRvZ2dsZSxcbiAgICAgICAgfSxcbiAgICAgICAgaWNvblByZWZhYiAgICAgICAgICA6IGNjLlByZWZhYixcbiAgICAgICAgbm90aWNlTm9kZSAgICAgICAgICAgICA6IGNjLk5vZGUsXG4gICAgICAgIGJ0blF1YXkgICAgICAgICAgICAgOiBjYy5Ob2RlLFxuICAgICAgICBidG5RdWF5TmhhbmggICAgICAgIDogY2MuTm9kZSxcbiAgICAgICAgYnRuU3RvcFNpZXVUb2MgICAgICA6IGNjLk5vZGUsXG4gICAgICAgIGJ0blN0b3BRdWF5ICAgICAgICAgOiBjYy5Ob2RlLFxuICAgICAgICBidG5BdXRvUXVheSAgICAgICAgIDogY2MuTm9kZSxcbiAgICAgICAgV2luR2FtZSAgICAgICAgICAgICA6IFdpbkdhbWUsXG4gICAgICAgIGxpc3RNYWluTGluZXMgICAgICAgOiBjYy5Ob2RlLFxuICAgICAgICBudW1iZXJMaW5lICAgICAgICAgIDogY2MuU3ByaXRlLFxuICAgICAgICBlZHRDaGVhdCAgICAgICAgICA6IGNjLkVkaXRCb3gsXG4gICAgICAgIHNlbGVjdExpbmVzICAgICAgICAgOiBsaW5lLFxuICAgICAgICBpc0F1dG8gICAgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgIGlzRmFzdCAgICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgaXNTcGluICAgICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICByZWQgICAgICAgICAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgbGFzdFJlc3VsdCAgICAgICAgICA6IFtdLFxuICAgICAgICBiZXRTZWxlY3QgICAgICAgICAgIDogMCxcbiAgICAgICAgcm9vbU51bWJlciAgICAgICAgICA6IDAsXG4gICAgICAgIHBvc0xpbmVXaW4gICAgICAgICAgOiAwLFxuICAgICAgICB0b3RhbExpbmVXaW4gICAgICAgIDogMCxcbiAgICAgICAgVG90YWxJdGVtUnVuICAgICAgICA6IDMwLFxuICAgICAgICBfVG90YWxDb2x1bW4gICAgICAgICA6IDMsXG4gICAgICAgIF90b3RhbExpbmUgICAgICAgICAgOiAyMCxcbiAgICAgICAgbGJfaHU6IGNjLkxhYmVsLFxuICAgICAgICBiZXRMZXZlbDogXCIxbFwiLFxuICAgIH0sXG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgdGhpcy5pbml0Q2FuZHkoKTtcbiAgICAgICAgdGhpcy5pc1NwaW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5XaW5HYW1lLmluaXQodGhpcyk7XG4gICAgICAgIHRoaXMuc2VsZWN0TGluZXMuaW5pdCh0aGlzKTtcbiAgICAgICAgdGhpcy5iZXRMZXZlbCA9IFwiMWtcIjtcbiAgICAgICAgdGhpcy5yb29tTnVtYmVyID0gTGlzdFJvb21bXCIxa1wiXTtcbiAgICAgICAgdGhpcy5saXN0Um9vbU5vZGVbMV0uaXNDaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZSh0aGlzLnVwZGF0ZUphY2twb3QsIDMpO1xuICAgICAgICB0aGlzLnVwZGF0ZUphY2twb3QoKTtcbiAgICB9LFxuICAgIG9uRW5hYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5ub2RlLnpJbmRleCA8PSBjYy5sYXN0WkluZGV4KXtcbiAgICAgICAgICAgIGNjLmxhc3RaSW5kZXggICArPSAxO1xuICAgICAgICAgICAgdGhpcy5ub2RlLnpJbmRleCA9IGNjLmxhc3RaSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgY2MuY3VycmVudFVJICAgICA9IFwiVUlDYW5keVwiO1xuICAgICAgICB0aGlzLl90b3RhbExpbmUgPSAyMDtcbiAgICB9LFxuICAgIG9uRGlzYWJsZSgpe1xuICAgICAgICB0aGlzLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcbiAgICB9LFxuICAgIHVwZGF0ZUphY2twb3QoKXtcbiAgICAgICAgbGV0IGtleSA9IFwiY2FuZHlcIit0aGlzLmJldExldmVsO1xuICAgICAgICBpZihTbWFydEZveFNESy5DYW5keUNvbnRyb2xsZXIuWm9uZUluc3RhbmNlLm15U2VsZil7XG4gICAgICAgICAgICBsZXQgdmFyaWFibGVKYWNrcG90ID0gU21hcnRGb3hTREsuQ2FuZHlDb250cm9sbGVyLlpvbmVJbnN0YW5jZS5teVNlbGYuZ2V0VmFyaWFibGUoa2V5KTtcbiAgICAgICAgICAgIGlmKHZhcmlhYmxlSmFja3BvdCl7XG4gICAgICAgICAgICAgICAgbGV0IGphY2twb3QgPSB2YXJpYWJsZUphY2twb3QudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRfbGJfamFja3BvdCA9IHRoaXMubGJfaHUuc3RyaW5nO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRfbGJfamFja3BvdCA9IGN1cnJlbnRfbGJfamFja3BvdC5zcGxpdChcIi5cIikuam9pbihcIlwiKTtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudEh1ID0gcGFyc2VGbG9hdChjdXJyZW50X2xiX2phY2twb3QpO1xuICAgICAgICAgICAgICAgIFV0aWxzLm51bWJlclRvKHRoaXMubGJfaHUsIGN1cnJlbnRIdSwgamFja3BvdCwgMTAwMCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGluaXRDYW5keTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgbGV0IGxpbmVBcnIxID0gW107XG4gICAgICAgIGxldCBsaW5lQXJyMiA9IFtdO1xuICAgICAgICBsZXQgbGluZUFycjMgPSBbXTtcbiAgICAgICAgUHJvbWlzZS5hbGwodGhpcy5yZWVscy5tYXAoZnVuY3Rpb24ocmVlbCwgaW5kZXgpIHtcbiAgICAgICAgICAgIGxldCBsYXN0QXJyYXkgPSBbXTtcbiAgICAgICAgICAgIGxhc3RBcnJheSA9IHNlbGYuaW5pdFJhbmRvbUl0ZW1zKHNlbGYuVG90YWxJdGVtUnVuLCAwLCA2KTtcbiAgICAgICAgICAgIGxpbmVBcnIxLnB1c2gobGFzdEFycmF5W2xhc3RBcnJheS5sZW5ndGgtMV0pO1xuICAgICAgICAgICAgbGluZUFycjIucHVzaChsYXN0QXJyYXlbbGFzdEFycmF5Lmxlbmd0aC0yXSk7XG4gICAgICAgICAgICBsaW5lQXJyMy5wdXNoKGxhc3RBcnJheVtsYXN0QXJyYXkubGVuZ3RoLTNdKTtcbiAgICAgICAgICAgIHJlZWwuaW5pdChzZWxmLCBsYXN0QXJyYXkpO1xuICAgICAgICB9KSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgc2VsZi5sYXN0UmVzdWx0ID0gbGluZUFycjMuY29uY2F0KGxpbmVBcnIyKS5jb25jYXQobGluZUFycjEpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHNldE1vbmV5V2luOiBmdW5jdGlvbih0b3RhbE1vbmV5KSB7XG4gICAgfSxcbiAgICB1cGRhdGVEYXRhUGhvbmcocm9vbUlkKSB7XG5cbiAgICB9LFxuICAgIGV2ZW50UXVheTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKCF0aGlzLmNoZWNrRW5vdWdoTW9uZXkoKSl7XG4gICAgICAgICAgICBtbS5Ub2FzdC5zaG93VG9hc3QoMSwgTGFuZ3VhZ2UuZ2V0U3RyaW5nKFwibm90aV9ub3RfbW9uZXlcIikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNTcGluID0gdHJ1ZTtcbiAgICAgICAgbGV0IGJldFJlcXVlc3QgPSBuZXcgQ2FuZHlSZXF1ZXN0LkJldFJlcXVlc3QoKTtcbiAgICAgICAgdGhpcy5zaG93TGluZVdpbihmYWxzZSk7XG4gICAgICAgIHRoaXMucGF1c2VTeXN0ZW1FdmVudE5vZGUodGhpcy5idG5RdWF5LCB0cnVlKTtcbiAgICAgICAgdGhpcy5zZXRMaW5lc0JldChiZXRSZXF1ZXN0KTtcbiAgICAgICAgYmV0UmVxdWVzdC5zZXRCZXQodGhpcy5yb29tTnVtYmVyKTtcbiAgICAgICAgU21hcnRGb3hTREsuQ2FuZHlDb250cm9sbGVyLlpvbmVJbnN0YW5jZS5zZW5kKGJldFJlcXVlc3QudG9TUmVxdWVzdCgpKTtcbiAgICAgICAgdGhpcy51cGRhdGVDaGlwQWxsKHRoaXMuX3RvdGFsTGluZSp0aGlzLnJvb21OdW1iZXIpO1xuICAgIH0sXG4gICAgc2V0TGluZXNCZXQocmVxdWVzdCl7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zZWxlY3RMaW5lcy50eXBlTGluZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJlcXVlc3Quc2V0TGluZUxlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5zZXRMaW5lQ2hhbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGxldCBsaXN0TGluZSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGk9MTsgaTwgdGhpcy5zZWxlY3RMaW5lcy5kYXRhLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0TGluZXMuZGF0YVtpXSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0TGluZS5wdXNoKGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlcXVlc3Quc2V0TGluZShsaXN0TGluZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGV2ZW50U2lldVRvYzogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKCF0aGlzLmNoZWNrRW5vdWdoTW9uZXkoKSl7XG4gICAgICAgICAgICBtbS5Ub2FzdC5zaG93VG9hc3QoMSwgTGFuZ3VhZ2UuZ2V0U3RyaW5nKFwibm90aV9ub3RfbW9uZXlcIikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNGYXN0ICAgICAgICAgICAgICAgID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pc0F1dG8gICAgICAgICAgICAgICAgPSB0cnVlO1xuICAgICAgICB0aGlzLmJ0blN0b3BTaWV1VG9jLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuYnRuU3RvcFF1YXkuYWN0aXZlICAgID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNTcGluICAgICAgICAgICAgICAgID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hdXRvUXVheSgpO1xuICAgIH0sXG4gICAgZXZlbnRBdXRvUXVheTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKCF0aGlzLmNoZWNrRW5vdWdoTW9uZXkoKSl7XG4gICAgICAgICAgICBtbS5Ub2FzdC5zaG93VG9hc3QoMSwgTGFuZ3VhZ2UuZ2V0U3RyaW5nKFwibm90aV9ub3RfbW9uZXlcIikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNTcGluICAgICAgICAgICAgICAgICA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNBdXRvICAgICAgICAgICAgICAgICA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNGYXN0ICAgICAgICAgICAgICAgICA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ0blN0b3BRdWF5LmFjdGl2ZSAgICAgPSB0cnVlO1xuICAgICAgICB0aGlzLmJ0blN0b3BTaWV1VG9jLmFjdGl2ZSAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYXVzZVN5c3RlbUV2ZW50Tm9kZSh0aGlzLmJ0blF1YXksIHRydWUpO1xuICAgICAgICB0aGlzLmF1dG9RdWF5KCk7XG4gICAgfSxcbiAgICBldmVudFN0b3BBdXRvOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5pc0F1dG8gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5idG5TdG9wUXVheS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYXVzZVN5c3RlbUV2ZW50Tm9kZSh0aGlzLmJ0blF1YXksIGZhbHNlKTtcbiAgICB9LFxuICAgIGV2ZW50U3RvcFNpZXVUb2M6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmlzQXV0byA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzRmFzdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ0blN0b3BTaWV1VG9jLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH0sXG4gICAgZXZlbnRQaG9uZzogZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTcGluKXtcbiAgICAgICAgICAgIGlmKHRoaXMucm9vbU51bWJlciA9PSAxMDApe1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdFJvb21Ob2RlWzBdLmlzQ2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB9ZWxzZSBpZih0aGlzLnJvb21OdW1iZXIgPT0gMTAwMCl7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0Um9vbU5vZGVbMV0uaXNDaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMucm9vbU51bWJlciA9PSA1MDAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RSb29tTm9kZVsyXS5pc0NoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5yb29tTnVtYmVyID09IDEwMDAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RSb29tTm9kZVszXS5pc0NoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hZGROb3RpY2UoTGFuZ3VhZ2UuZ2V0U3RyaW5nKFwibm90aV9pc19wbGF5aW5nXCIpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJvb21OdW1iZXIgPSBwYXJzZUludChkYXRhKTtcbiAgICAgICAgaWYodGhpcy5yb29tTnVtYmVyID09IDEwMCl7XG4gICAgICAgICAgICB0aGlzLmJldExldmVsID0gXCIxbFwiO1xuICAgICAgICB9ZWxzZSBpZih0aGlzLnJvb21OdW1iZXIgPT0gMTAwMCl7XG4gICAgICAgICAgICB0aGlzLmJldExldmVsID0gXCIxa1wiO1xuICAgICAgICB9ZWxzZSBpZih0aGlzLnJvb21OdW1iZXIgPT0gNTAwMCl7XG4gICAgICAgICAgICB0aGlzLmJldExldmVsID0gXCI1a1wiO1xuICAgICAgICB9ZWxzZSBpZih0aGlzLnJvb21OdW1iZXIgPT0gMTAwMDApe1xuICAgICAgICAgICAgdGhpcy5iZXRMZXZlbCA9IFwiMTBrXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVKYWNrcG90KCk7XG4gICAgfSxcbiAgICBldmVudFNlbGVjdExpbmVzOiBmdW5jdGlvbigpe1xuICAgICAgICBpZiAodGhpcy5pc1NwaW4pe1xuICAgICAgICAgICAgdGhpcy5hZGROb3RpY2UoTGFuZ3VhZ2UuZ2V0U3RyaW5nKFwibm90aV9pc19wbGF5aW5nXCIpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdExpbmVzLmV2ZW50T3BlbigpO1xuICAgIH0sXG4gICAgY2hlY2tFbm91Z2hNb25leSgpe1xuICAgICAgICBpZihHYW1lVmFyaWFibGVzLlBva2VyLmdldENoaXAoU21hcnRGb3hTREsuQ2FuZHlDb250cm9sbGVyLlpvbmVJbnN0YW5jZS5teVNlbGYpIDwgdGhpcy5yb29tTnVtYmVyKnRoaXMuX3RvdGFsTGluZSl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBwYXVzZVN5c3RlbUV2ZW50Tm9kZTogZnVuY3Rpb24obm9kZUV2ZW50LCBpc1BhdXNlKSB7XG4gICAgICAgIEhlbHBlci5zZXRNYXRlcmlhbEdyYXkoIG5vZGVFdmVudC5nZXRDb21wb25lbnQoY2MuU3ByaXRlKSwgaXNQYXVzZSk7XG4gICAgICAgIGlmIChpc1BhdXNlKXtcbiAgICAgICAgICAgIG5vZGVFdmVudC5wYXVzZVN5c3RlbUV2ZW50cyh0cnVlKTtcbiAgICAgICAgfWVsc2VcbiAgICAgICAgICAgIG5vZGVFdmVudC5yZXN1bWVTeXN0ZW1FdmVudHModHJ1ZSk7XG4gICAgfSxcblxuICAgIGV2ZW50QmFjazogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3Bpbil7XG4gICAgICAgICAgICB0aGlzLmFkZE5vdGljZShMYW5ndWFnZS5nZXRTdHJpbmcoXCJub3RpX2lzX3BsYXlpbmdcIikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCByb29tID0gU21hcnRGb3hTREsuQ2FuZHlDb250cm9sbGVyLlpvbmVJbnN0YW5jZS5nZXRSb29tQnlOYW1lKFwiY2FuZHlcIik7XG4gICAgICAgIGlmKHJvb20pe1xuICAgICAgICAgICAgU21hcnRGb3hTREsuQ2FuZHlDb250cm9sbGVyLlpvbmVJbnN0YW5jZS5zZW5kKG5ldyBTbWFydEZveFNESy5TbWFydEZveC5SZXF1ZXN0cy5TeXN0ZW0uTGVhdmVSb29tUmVxdWVzdChyb29tKSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5iYWNrKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGV2ZW50U2V0dGluZzogZnVuY3Rpb24oKSB7XG5cbiAgICB9LFxuICAgIGV2ZW50VmluaERhbmg6IGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgcmVxdWVzdCA9IG5ldyBDYXNpbm9SZXF1ZXN0LkxlYWRlckJvYXJkUmVxdWVzdCgpO1xuICAgICAgICBTbWFydEZveFNESy5DYW5keUNvbnRyb2xsZXIuWm9uZUluc3RhbmNlLnNlbmQocmVxdWVzdC50b1NSZXF1ZXN0KCkpO1xuICAgIH0sXG4gICAgZXZlbnRMaWNoU3VHaWFvRGljaDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCByZXF1ZXN0ID0gbmV3IENhc2lub1JlcXVlc3QuSGlzdG9yeVJlcXVlc3QoKTtcbiAgICAgICAgU21hcnRGb3hTREsuQ2FuZHlDb250cm9sbGVyLlpvbmVJbnN0YW5jZS5zZW5kKHJlcXVlc3QudG9TUmVxdWVzdCgpKTtcbiAgICB9LFxuICAgIGV2ZW50T3BlbkhlbHBlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2hvdyhcIlVJQ2FuZHlIZWxwZXJcIiwge3BvcDogdHJ1ZSwgc3JjOiAnY2FuZHknfSk7XG4gICAgfSxcbiAgICBmaW5pc2hTcGluOiBmdW5jdGlvbiAoKXtcbiAgICAgICAgdGhpcy5pc1NwaW4gPSBmYWxzZTtcbiAgICB9LFxuICAgIENhbmR5UnVuOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAodm9pZCAwICE9PSBkYXRhLnN0YXR1cykge1xuICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5yZXN1bHQgPSB0aGlzLmdldERhdGFSZXN1bHQoZGF0YS5yZXN1bHQpO1xuICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKGRhdGEucmVzdWx0Lm1hcChmdW5jdGlvbihjZWwsIGNlbF9pbmRleCl7XG4gICAgICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKGNlbC5tYXAoZnVuY3Rpb24oaWNvbiwgaW5kZXgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWVsc1tjZWxfaW5kZXhdLmljb25zW2luZGV4XS5zZXRJY29uKGljb24sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSkpLnRoZW4ocmVzdWx0ID0+e1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnJ1blJlZWxzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5lV2luICAgID0gZGF0YS5saW5lV2luO1xuICAgICAgICAgICAgICAgIHRoaXMud2luTW9uZXkgICA9IGRhdGEud2luTW9uZXk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc05vSHUgICAgID0gZGF0YS5pc05vaHU7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1RoYW5nTG9uID0gZGF0YS5pc1RoYW5nTG9uO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFNwaW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZXNldFNwaW4oKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaW5pdFJhbmRvbUl0ZW1zOiBmdW5jdGlvbihudW1iZXJJdGVtLCBtaW4sIG1heFJhbmRvbSkge1xuICAgICAgICBsZXQgbGlzdEl0ZW0gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPCBudW1iZXJJdGVtOyBpKyspe1xuICAgICAgICAgICAgbGlzdEl0ZW1baV0gPSB0aGlzLnJhbmRvbShtaW4sIG1heFJhbmRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3RJdGVtO1xuICAgIH0sXG4gICAgZ2V0RGF0YVJlc3VsdDogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgbGV0IG5ld0FycmF5ID0gW107XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTwgdGhpcy5fVG90YWxDb2x1bW47IGkrKyl7XG4gICAgICAgICAgICBuZXdBcnJheVtpXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuZXdBcnJheVtpJXNlbGYuX1RvdGFsQ29sdW1uXS5wdXNoKHJlc3VsdFtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPCB0aGlzLl9Ub3RhbENvbHVtbjsgaSsrKXtcbiAgICAgICAgICAgIGxldCByYW5kb21BcnIgPSB0aGlzLmluaXRSYW5kb21JdGVtcyh0aGlzLlRvdGFsSXRlbVJ1bi02LCAwLCA2KTtcbiAgICAgICAgICAgIG5ld0FycmF5W2ldID0gbmV3QXJyYXlbaV0uY29uY2F0KHJhbmRvbUFycik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPCAgdGhpcy5sYXN0UmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuZXdBcnJheVtpJXNlbGYuX1RvdGFsQ29sdW1uXS5wdXNoKCB0aGlzLmxhc3RSZXN1bHRbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgcmV0dXJuIG5ld0FycmF5O1xuICAgIH0sXG4gICAgcmVmb3JtYXRSZXN1bHQocmVzdWx0LCBzaXplKSB7XG4gICAgICAgIGxldCByZXMgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpPTA7aSA8IHJlc3VsdC5sZW5ndGg7IGkgPSBpK3NpemUpXG4gICAgICAgICAgICByZXMucHVzaChyZXN1bHQuc2xpY2UoaSxpK3NpemUpKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICAgIHJ1bkFjdGlvbldvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuV2luR2FtZS5ydW5XaW5HYW1lKCk7XG4gICAgICAgIHRoaXMuc2hvd0xpbmVXaW4odHJ1ZSk7XG4gICAgICAgIGlmICghdGhpcy5pc0F1dG8pXG4gICAgICAgICAgICB0aGlzLnBhdXNlU3lzdGVtRXZlbnROb2RlKHRoaXMuYnRuUXVheSwgZmFsc2UpO1xuICAgIH0sXG4gICAgcmVzdW1lKCkge1xuICAgICAgICBpZiAodGhpcy53aW5Nb25leSA+IDApe1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAgICAgdGhpcy5XaW5HYW1lLnJ1bldpbkdhbWUoKTtcbiAgICAgICAgICAgIH0sMC41KTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgdGhpcy5XaW5HYW1lLnJ1bldpbkdhbWUoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXV0b1F1YXkoKSB7XG4gICAgICAgIGlmKCF0aGlzLmNoZWNrRW5vdWdoTW9uZXkoKSl7XG4gICAgICAgICAgICBtbS5Ub2FzdC5zaG93VG9hc3QoMSwgTGFuZ3VhZ2UuZ2V0U3RyaW5nKFwibm90aV9ub3RfbW9uZXlcIikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzQXV0byl7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZShmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50UXVheSgpO1xuICAgICAgICAgICAgfSwwLjUpXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNob3dMaW5lV2luOiBmdW5jdGlvbihpc1Nob3cpIHtcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoaXNTaG93KXtcbiAgICAgICAgICAgIHRoaXMudG90YWxMaW5lV2luICAgPSB0aGlzLmxpbmVXaW4ubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5wb3NMaW5lV2luICAgICA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy50b3RhbExpbmVXaW4gPiAwKXtcbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbCh0aGlzLmxpbmVXaW4ubWFwKGZ1bmN0aW9uKHBvc0xpbmUpe1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmxpc3RNYWluTGluZXMuY2hpbGRyZW5bcG9zTGluZV0uYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIH0sIDIpO1xuICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKHNlbGYubGluZVdpbi5tYXAoZnVuY3Rpb24ocG9zTGluZSl7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGlzdE1haW5MaW5lcy5jaGlsZHJlbltwb3NMaW5lXS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KSkudGhlbihyZXN1bHQgPT57XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2NoZWR1bGUoIHRoaXMuc2hvd01haW5MaW5lLCAxLjUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8IHRoaXMubGlzdE1haW5MaW5lcy5jaGlsZHJlbkNvdW50OyBpKyspXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGlzdE1haW5MaW5lcy5jaGlsZHJlbltpXS5hY3RpdmUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdE1haW5MaW5lcy5jaGlsZHJlbltpXS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYudW5zY2hlZHVsZSh0aGlzLnNob3dNYWluTGluZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNob3dNYWluTGluZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIFByb21pc2UuYWxsKHRoaXMubGlzdE1haW5MaW5lcy5jaGlsZHJlbi5tYXAoZnVuY3Rpb24obGluZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChsaW5lLmFjdGl2ZSlcbiAgICAgICAgICAgICAgICBsaW5lLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9KSkudGhlbihyZXN1bHQgPT57XG4gICAgICAgICAgICB0aGlzLnRvdGFsTGluZVdpbiA9IHRoaXMubGluZVdpbi5sZW5ndGg7XG4gICAgICAgICAgICBpZiAodGhpcy50b3RhbExpbmVXaW4gPiAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLnBvc0xpbmVXaW4gPSAodGhpcy5wb3NMaW5lV2luKzEpJXRoaXMudG90YWxMaW5lV2luO1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdE1haW5MaW5lcy5jaGlsZHJlblt0aGlzLmxpbmVXaW5bdGhpcy5wb3NMaW5lV2luXV0uYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfSxcbiAgICBydW5SZWVsczogZnVuY3Rpb24gKCkge1xuICAgICAgICBQcm9taXNlLmFsbCh0aGlzLnJlZWxzLm1hcChmdW5jdGlvbihyZWVsLCBpbmRleCkge1xuICAgICAgICAgICAgcmVlbC5zcGluKGluZGV4KTtcbiAgICAgICAgfSkpO1xuICAgIH0sXG4gICAgY29weTogZnVuY3Rpb24oKXtcbiAgICAgICAgUHJvbWlzZS5hbGwodGhpcy5yZWVscy5tYXAoZnVuY3Rpb24ocmVlbCl7XG4gICAgICAgICAgICByZWVsLmljb25zW3JlZWwuaWNvbnMubGVuZ3RoLTFdLnNldEljb24ocmVlbC5pY29uc1syXS5kYXRhKTtcbiAgICAgICAgICAgIHJlZWwuaWNvbnNbcmVlbC5pY29ucy5sZW5ndGgtMl0uc2V0SWNvbihyZWVsLmljb25zWzFdLmRhdGEpO1xuICAgICAgICAgICAgcmVlbC5pY29uc1tyZWVsLmljb25zLmxlbmd0aC0zXS5zZXRJY29uKHJlZWwuaWNvbnNbMF0uZGF0YSk7XG4gICAgICAgIH0pKTtcbiAgICB9LFxuICAgIHNldE51bWJlckxpbmVzOiBmdW5jdGlvbih0b3RhbExpbmUpIHtcbiAgICAgICAgdGhpcy5fdG90YWxMaW5lID0gdG90YWxMaW5lO1xuICAgICAgICBVdGlsc1VJLmxvYWRJbWFnZVJlcyh0aGlzLm51bWJlckxpbmUsIFwiY2FuZHkvaW1nL251bWJlci1idXR0b24vXCIrdG90YWxMaW5lKTtcbiAgICB9LFxuICAgIHJhbmRvbTogZnVuY3Rpb24obWluLCBtYXgpe1xuICAgICAgICByZXR1cm4gIG1pbisgfn4oTWF0aC5yYW5kb20oKSptYXgpO1xuICAgIH0sXG4gICAgcmVzZXRTcGluOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXNTcGluICAgICAgICAgICAgICAgICA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzQXV0byAgICAgICAgICAgICAgICAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc0Zhc3QgICAgICAgICAgICAgICAgID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnRuU3RvcFF1YXkuYWN0aXZlICAgICA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ0blN0b3BTaWV1VG9jLmFjdGl2ZSAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYXVzZVN5c3RlbUV2ZW50Tm9kZSh0aGlzLmJ0blF1YXksIGZhbHNlKTtcbiAgICAgICAgbW0uVG9hc3Quc2hvd1RvYXN0KDEsIExhbmd1YWdlLmdldFN0cmluZyhcIm5vdGlfbm90X21vbmV5XCIpKTtcbiAgICB9LFxuICAgIGNoZWNrSGFzTW9uZXk6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGFkZE5vdGljZTogZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLm5vdGljZU5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ub3RpY2VOb2RlLmdldENoaWxkQnlOYW1lKFwibGJfbm90aVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgc2VsZi5ub3RpY2VOb2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9LDEuNSk7XG4gICAgfSxcbiAgICB1cGRhdGVDaGlwQWxsKHN1YkNoaXApIHtcbiAgICAgICAgU21hcnRGb3hTREsuQ2FuZHlDb250cm9sbGVyLm9uRXZlbnRVcGRhdGVDaGlwKHN1YkNoaXApO1xuICAgIH0sXG59KTtcbiJdfQ==