
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/CasinoEvent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a7a6aG7GZpBKJ7uIZyJHbCK', 'CasinoEvent');
// scripts/CasinoEvent.js

"use strict";

var CasinoEvent = {};
CasinoEvent.RESPONSE_NAME = {
  GROUP_GAME_RES: "g1",
  QUICK_JOIN_GAME_RES: "g2",
  HISTORY_RES: "g4",
  LEADER_BOARD_RES: "g5",
  TRANSFER_MONEY_RES: "p1",
  CHANGE_PASS_RES: "p2",
  GIFT_CODE_RES: "p3",
  LIST_AGENCY_RES: "p4"
};
CasinoEvent._BaseEvent = SmartFoxSDK.Class.extend({
  ctor: function ctor(name) {
    this._eventName = name;
  },
  getEventName: function getEventName() {
    return this._eventName;
  },
  fromEvent: function fromEvent(event) {
    return this;
  },
  toEvent: function toEvent() {
    return this;
  }
});
CasinoEvent.HistoryEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(CasinoEvent.RESPONSE_NAME.HISTORY_RES);
  },
  fromEvent: function fromEvent(event) {
    this.game = event.getUtfString("g");
    this.data = event.getSArray("d");
    return this;
  }
});
CasinoEvent.LeaderboardEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(CasinoEvent.RESPONSE_NAME.LEADER_BOARD_RES);
  },
  fromEvent: function fromEvent(event) {
    this.game = event.getUtfString("g");
    this.data = event.getSArray("d");
    return this;
  }
});
CasinoEvent.LoginEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(SmartFoxSDK.SmartFox.Event.LOGIN);
  },
  fromEvent: function fromEvent(event) {
    this.user = event.user;
    this.data = event.data;
    return this;
  },
  getUserInfo: function getUserInfo() {
    return this.user;
  },
  getData: function getData() {
    return this.data;
  }
});
CasinoEvent.RoomJoinEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(SmartFoxSDK.SmartFox.Event.ROOM_JOIN);
  },
  fromEvent: function fromEvent(event) {
    this.room = event.room;
    return this;
  },
  getRoomInfo: function getRoomInfo() {
    return this.room;
  }
});
CasinoEvent.QuickJoinGameEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(CasinoEvent.RESPONSE_NAME.QUICK_JOIN_GAME_RES);
  },
  fromEvent: function fromEvent(event) {
    this.roomId = event.getInt("id");
    return this;
  }
});
CasinoEvent.GroupGameEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(CasinoEvent.RESPONSE_NAME.GROUP_GAME_RES);
  },
  fromEvent: function fromEvent(event) {
    this.groups = [];
    var groups = event.getSArray("groups");

    for (var i = 0; i < groups.size(); i++) {
      var objGroup = groups.get(i).getObject();
      var groupId = objGroup.getUtfString("group");
      var groupVars = objGroup.getSArray("vars");
      var vars = {};

      for (var j = 0; j < groupVars.size(); j++) {
        var roomVar = SmartFoxSDK.SmartFox.Entities.Variables.RoomVariable.fromArray(groupVars.get(j).getObject());
        vars[roomVar.name] = roomVar.value.value;
      }

      var obj = {};
      obj.group_id = groupId;
      obj.group_vars = vars;
      this.groups.push(obj);
    }

    this.groups.sort(function (a, b) {
      return a.group_vars.bet_chip - b.group_vars.bet_chip;
    });
    return this;
  }
});
CasinoEvent.TransferMoneyEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(CasinoEvent.RESPONSE_NAME.TRANSFER_MONEY_RES);
  },
  fromEvent: function fromEvent(event) {
    this.code = event.getByte("c");
    return this;
  }
});
CasinoEvent.ChangePassEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(CasinoEvent.RESPONSE_NAME.CHANGE_PASS_RES);
  },
  fromEvent: function fromEvent(event) {
    this.code = event.getByte("c");
    return this;
  }
});
CasinoEvent.GiftCodeEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(CasinoEvent.RESPONSE_NAME.GIFT_CODE_RES);
  },
  fromEvent: function fromEvent(event) {
    if (event.getUtfString("ec") != null) {
      this.ec = event.getUtfString("ec");
    } else {
      this.gift_value = event.getDouble("c");
    }

    return this;
  }
});
CasinoEvent.ListAgencyEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(CasinoEvent.RESPONSE_NAME.LIST_AGENCY_RES);
  },
  fromEvent: function fromEvent(event) {
    var listAgency = [];
    var arr = event.getSArray("d");

    for (var i = 0; i < arr.size(); i++) {
      var sItem = arr.get(i).getObject();
      var agency = {};
      agency.username = sItem.getUtfString("un");
      agency.name = sItem.getUtfString("dn");
      agency.agName = sItem.getUtfString("ag");
      agency.zone = sItem.getUtfString("lo");
      agency.telegram = sItem.getUtfString("tl");
      agency.phone = sItem.getUtfString("p");
      agency.address = sItem.getUtfString("add");
      agency.face = sItem.getUtfString("fb");
      agency.stt = i + 1;
      listAgency.push(agency);
    }

    return listAgency;
  }
});
CasinoEvent.HistoryEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(CasinoEvent.RESPONSE_NAME.HISTORY_RES);
  },
  fromEvent: function fromEvent(event) {
    return this;
  }
});
CasinoEvent.LeaderBoardEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(CasinoEvent.RESPONSE_NAME.LEADER_BOARD_RES);
  },
  fromEvent: function fromEvent(event) {
    return this;
  }
});
window.CasinoEvent = CasinoEvent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcQ2FzaW5vRXZlbnQuanMiXSwibmFtZXMiOlsiQ2FzaW5vRXZlbnQiLCJSRVNQT05TRV9OQU1FIiwiR1JPVVBfR0FNRV9SRVMiLCJRVUlDS19KT0lOX0dBTUVfUkVTIiwiSElTVE9SWV9SRVMiLCJMRUFERVJfQk9BUkRfUkVTIiwiVFJBTlNGRVJfTU9ORVlfUkVTIiwiQ0hBTkdFX1BBU1NfUkVTIiwiR0lGVF9DT0RFX1JFUyIsIkxJU1RfQUdFTkNZX1JFUyIsIl9CYXNlRXZlbnQiLCJTbWFydEZveFNESyIsIkNsYXNzIiwiZXh0ZW5kIiwiY3RvciIsIm5hbWUiLCJfZXZlbnROYW1lIiwiZ2V0RXZlbnROYW1lIiwiZnJvbUV2ZW50IiwiZXZlbnQiLCJ0b0V2ZW50IiwiSGlzdG9yeUV2ZW50IiwiX3N1cGVyIiwiZ2FtZSIsImdldFV0ZlN0cmluZyIsImRhdGEiLCJnZXRTQXJyYXkiLCJMZWFkZXJib2FyZEV2ZW50IiwiTG9naW5FdmVudCIsIlNtYXJ0Rm94IiwiRXZlbnQiLCJMT0dJTiIsInVzZXIiLCJnZXRVc2VySW5mbyIsImdldERhdGEiLCJSb29tSm9pbkV2ZW50IiwiUk9PTV9KT0lOIiwicm9vbSIsImdldFJvb21JbmZvIiwiUXVpY2tKb2luR2FtZUV2ZW50Iiwicm9vbUlkIiwiZ2V0SW50IiwiR3JvdXBHYW1lRXZlbnQiLCJncm91cHMiLCJpIiwic2l6ZSIsIm9iakdyb3VwIiwiZ2V0IiwiZ2V0T2JqZWN0IiwiZ3JvdXBJZCIsImdyb3VwVmFycyIsInZhcnMiLCJqIiwicm9vbVZhciIsIkVudGl0aWVzIiwiVmFyaWFibGVzIiwiUm9vbVZhcmlhYmxlIiwiZnJvbUFycmF5IiwidmFsdWUiLCJvYmoiLCJncm91cF9pZCIsImdyb3VwX3ZhcnMiLCJwdXNoIiwic29ydCIsImEiLCJiIiwiYmV0X2NoaXAiLCJUcmFuc2Zlck1vbmV5RXZlbnQiLCJjb2RlIiwiZ2V0Qnl0ZSIsIkNoYW5nZVBhc3NFdmVudCIsIkdpZnRDb2RlRXZlbnQiLCJlYyIsImdpZnRfdmFsdWUiLCJnZXREb3VibGUiLCJMaXN0QWdlbmN5RXZlbnQiLCJsaXN0QWdlbmN5IiwiYXJyIiwic0l0ZW0iLCJhZ2VuY3kiLCJ1c2VybmFtZSIsImFnTmFtZSIsInpvbmUiLCJ0ZWxlZ3JhbSIsInBob25lIiwiYWRkcmVzcyIsImZhY2UiLCJzdHQiLCJMZWFkZXJCb2FyZEV2ZW50Iiwid2luZG93Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLFdBQVcsR0FBRyxFQUFsQjtBQUNBQSxXQUFXLENBQUNDLGFBQVosR0FBNEI7QUFDeEJDLEVBQUFBLGNBQWMsRUFBRyxJQURPO0FBRXhCQyxFQUFBQSxtQkFBbUIsRUFBRyxJQUZFO0FBR3hCQyxFQUFBQSxXQUFXLEVBQUUsSUFIVztBQUl4QkMsRUFBQUEsZ0JBQWdCLEVBQUcsSUFKSztBQUt4QkMsRUFBQUEsa0JBQWtCLEVBQUUsSUFMSTtBQU14QkMsRUFBQUEsZUFBZSxFQUFFLElBTk87QUFPeEJDLEVBQUFBLGFBQWEsRUFBRSxJQVBTO0FBUXhCQyxFQUFBQSxlQUFlLEVBQUU7QUFSTyxDQUE1QjtBQVVBVCxXQUFXLENBQUNVLFVBQVosR0FBeUJDLFdBQVcsQ0FBQ0MsS0FBWixDQUFrQkMsTUFBbEIsQ0FBeUI7QUFDOUNDLEVBQUFBLElBRDhDLGdCQUN6Q0MsSUFEeUMsRUFDcEM7QUFDTixTQUFLQyxVQUFMLEdBQWtCRCxJQUFsQjtBQUNILEdBSDZDO0FBSTlDRSxFQUFBQSxZQUo4QywwQkFJaEM7QUFDVixXQUFPLEtBQUtELFVBQVo7QUFDSCxHQU42QztBQU85Q0UsRUFBQUEsU0FQOEMscUJBT3BDQyxLQVBvQyxFQU85QjtBQUNaLFdBQU8sSUFBUDtBQUNILEdBVDZDO0FBVTlDQyxFQUFBQSxPQVY4QyxxQkFVckM7QUFDTCxXQUFPLElBQVA7QUFDSDtBQVo2QyxDQUF6QixDQUF6QjtBQWNBcEIsV0FBVyxDQUFDcUIsWUFBWixHQUEyQnJCLFdBQVcsQ0FBQ1UsVUFBWixDQUF1QkcsTUFBdkIsQ0FB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R0FBK0J4RixXQUFXLENBQUNVLFVBQVosQ0FBdUJHLE1BQXZCLENBQThCO0FBQ3pEQyxFQUFBQSxJQUR5RCxrQkFDbkQ7QUFDRixTQUFLUSxNQUFMLENBQVl0QixXQUFXLENBQUNDLGFBQVosQ0FBMEJJLGdCQUF0QztBQUNILEdBSHdEO0FBSXpEYSxFQUFBQSxTQUp5RCxxQkFJL0NDLEtBSitDLEVBSXpDO0FBQ1osV0FBTyxJQUFQO0FBQ0g7QUFOd0QsQ0FBOUIsQ0FBL0I7QUFRQXNFLE1BQU0sQ0FBQ3pGLFdBQVAsR0FBcUJBLFdBQXJCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgQ2FzaW5vRXZlbnQgPSB7fTtcclxuQ2FzaW5vRXZlbnQuUkVTUE9OU0VfTkFNRSA9IHtcclxuICAgIEdST1VQX0dBTUVfUkVTIDogXCJnMVwiLFxyXG4gICAgUVVJQ0tfSk9JTl9HQU1FX1JFUzogIFwiZzJcIixcclxuICAgIEhJU1RPUllfUkVTOiBcImc0XCIsXHJcbiAgICBMRUFERVJfQk9BUkRfUkVTIDogXCJnNVwiLFxyXG4gICAgVFJBTlNGRVJfTU9ORVlfUkVTOiBcInAxXCIsXHJcbiAgICBDSEFOR0VfUEFTU19SRVM6IFwicDJcIixcclxuICAgIEdJRlRfQ09ERV9SRVM6IFwicDNcIixcclxuICAgIExJU1RfQUdFTkNZX1JFUzogXCJwNFwiXHJcbn1cclxuQ2FzaW5vRXZlbnQuX0Jhc2VFdmVudCA9IFNtYXJ0Rm94U0RLLkNsYXNzLmV4dGVuZCh7XHJcbiAgICBjdG9yKG5hbWUpe1xyXG4gICAgICAgIHRoaXMuX2V2ZW50TmFtZSA9IG5hbWU7XHJcbiAgICB9LFxyXG4gICAgZ2V0RXZlbnROYW1lKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50TmFtZTtcclxuICAgIH0sXHJcbiAgICBmcm9tRXZlbnQoZXZlbnQpe1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSxcclxuICAgIHRvRXZlbnQoKXtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufSk7XHJcbkNhc2lub0V2ZW50Lkhpc3RvcnlFdmVudCA9IENhc2lub0V2ZW50Ll9CYXNlRXZlbnQuZXh0ZW5kKHtcclxuICAgIGN0b3IoKXtcclxuICAgICAgICB0aGlzLl9zdXBlcihDYXNpbm9FdmVudC5SRVNQT05TRV9OQU1FLkhJU1RPUllfUkVTKTtcclxuICAgIH0sXHJcbiAgICBmcm9tRXZlbnQoZXZlbnQpe1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGV2ZW50LmdldFV0ZlN0cmluZyhcImdcIik7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZXZlbnQuZ2V0U0FycmF5KFwiZFwiKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufSk7XHJcbkNhc2lub0V2ZW50LkxlYWRlcmJvYXJkRXZlbnQgPSBDYXNpbm9FdmVudC5fQmFzZUV2ZW50LmV4dGVuZCh7XHJcbiAgICBjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5fc3VwZXIoQ2FzaW5vRXZlbnQuUkVTUE9OU0VfTkFNRS5MRUFERVJfQk9BUkRfUkVTKTtcclxuICAgIH0sXHJcbiAgICBmcm9tRXZlbnQoZXZlbnQpe1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGV2ZW50LmdldFV0ZlN0cmluZyhcImdcIik7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZXZlbnQuZ2V0U0FycmF5KFwiZFwiKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufSk7XHJcbkNhc2lub0V2ZW50LkxvZ2luRXZlbnQgPSBDYXNpbm9FdmVudC5fQmFzZUV2ZW50LmV4dGVuZCh7XHJcbiAgICBjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5fc3VwZXIoU21hcnRGb3hTREsuU21hcnRGb3guRXZlbnQuTE9HSU4pO1xyXG4gICAgfSxcclxuICAgIGZyb21FdmVudChldmVudCl7XHJcbiAgICAgICAgdGhpcy51c2VyID0gZXZlbnQudXNlcjtcclxuICAgICAgICB0aGlzLmRhdGEgPSBldmVudC5kYXRhO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSxcclxuICAgIGdldFVzZXJJbmZvKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlcjtcclxuICAgIH0sXHJcbiAgICBnZXREYXRhKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcclxuICAgIH1cclxufSk7XHJcbkNhc2lub0V2ZW50LlJvb21Kb2luRXZlbnQgPSBDYXNpbm9FdmVudC5fQmFzZUV2ZW50LmV4dGVuZCh7XHJcbiAgICBjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5fc3VwZXIoU21hcnRGb3hTREsuU21hcnRGb3guRXZlbnQuUk9PTV9KT0lOKTtcclxuICAgIH0sXHJcbiAgICBmcm9tRXZlbnQoZXZlbnQpe1xyXG4gICAgICAgIHRoaXMucm9vbSA9IGV2ZW50LnJvb207XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9LFxyXG4gICAgZ2V0Um9vbUluZm8oKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb29tO1xyXG4gICAgfVxyXG59KVxyXG5DYXNpbm9FdmVudC5RdWlja0pvaW5HYW1lRXZlbnQgPSBDYXNpbm9FdmVudC5fQmFzZUV2ZW50LmV4dGVuZCh7XHJcbiAgICBjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5fc3VwZXIoQ2FzaW5vRXZlbnQuUkVTUE9OU0VfTkFNRS5RVUlDS19KT0lOX0dBTUVfUkVTKTtcclxuICAgIH0sXHJcbiAgICBmcm9tRXZlbnQoZXZlbnQpe1xyXG4gICAgICAgIHRoaXMucm9vbUlkID0gZXZlbnQuZ2V0SW50KFwiaWRcIik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn0pO1xyXG5DYXNpbm9FdmVudC5Hcm91cEdhbWVFdmVudCA9IENhc2lub0V2ZW50Ll9CYXNlRXZlbnQuZXh0ZW5kKHtcclxuICAgIGN0b3IoKXtcclxuICAgICAgICB0aGlzLl9zdXBlcihDYXNpbm9FdmVudC5SRVNQT05TRV9OQU1FLkdST1VQX0dBTUVfUkVTKTtcclxuICAgIH0sXHJcbiAgICBmcm9tRXZlbnQoZXZlbnQpe1xyXG4gICAgICAgIHRoaXMuZ3JvdXBzID0gW107XHJcbiAgICAgICAgbGV0IGdyb3VwcyA9IGV2ZW50LmdldFNBcnJheShcImdyb3Vwc1wiKTtcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZ3JvdXBzLnNpemUoKTtpKyspe1xyXG4gICAgICAgICAgICBsZXQgb2JqR3JvdXAgPSBncm91cHMuZ2V0KGkpLmdldE9iamVjdCgpO1xyXG4gICAgICAgICAgICBsZXQgZ3JvdXBJZCA9IG9iakdyb3VwLmdldFV0ZlN0cmluZyhcImdyb3VwXCIpO1xyXG4gICAgICAgICAgICBsZXQgZ3JvdXBWYXJzID0gb2JqR3JvdXAuZ2V0U0FycmF5KFwidmFyc1wiKTtcclxuXHJcbiAgICAgICAgICAgIGxldCB2YXJzID0ge307XHJcbiAgICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBncm91cFZhcnMuc2l6ZSgpO2orKyl7XHJcbiAgICAgICAgICAgICAgICBsZXQgcm9vbVZhciA9IFNtYXJ0Rm94U0RLLlNtYXJ0Rm94LkVudGl0aWVzLlZhcmlhYmxlcy5Sb29tVmFyaWFibGUuZnJvbUFycmF5KGdyb3VwVmFycy5nZXQoaikuZ2V0T2JqZWN0KCkpO1xyXG4gICAgICAgICAgICAgICAgdmFyc1tyb29tVmFyLm5hbWVdID0gcm9vbVZhci52YWx1ZS52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgb2JqID0ge307XHJcbiAgICAgICAgICAgIG9iai5ncm91cF9pZCA9IGdyb3VwSWQ7XHJcbiAgICAgICAgICAgIG9iai5ncm91cF92YXJzID0gdmFycztcclxuICAgICAgICAgICAgdGhpcy5ncm91cHMucHVzaChvYmopO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdyb3Vwcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLmdyb3VwX3ZhcnMuYmV0X2NoaXAgLSBiLmdyb3VwX3ZhcnMuYmV0X2NoaXA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn0pXHJcbkNhc2lub0V2ZW50LlRyYW5zZmVyTW9uZXlFdmVudCA9IENhc2lub0V2ZW50Ll9CYXNlRXZlbnQuZXh0ZW5kKHtcclxuICAgIGN0b3IoKXtcclxuICAgICAgICB0aGlzLl9zdXBlcihDYXNpbm9FdmVudC5SRVNQT05TRV9OQU1FLlRSQU5TRkVSX01PTkVZX1JFUyk7XHJcbiAgICB9LFxyXG4gICAgZnJvbUV2ZW50KGV2ZW50KXtcclxuICAgICAgICB0aGlzLmNvZGUgPSBldmVudC5nZXRCeXRlKFwiY1wiKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufSk7XHJcbkNhc2lub0V2ZW50LkNoYW5nZVBhc3NFdmVudCA9IENhc2lub0V2ZW50Ll9CYXNlRXZlbnQuZXh0ZW5kKHtcclxuICAgIGN0b3IoKXtcclxuICAgICAgICB0aGlzLl9zdXBlcihDYXNpbm9FdmVudC5SRVNQT05TRV9OQU1FLkNIQU5HRV9QQVNTX1JFUyk7XHJcbiAgICB9LFxyXG4gICAgZnJvbUV2ZW50KGV2ZW50KXtcclxuICAgICAgICB0aGlzLmNvZGUgPSBldmVudC5nZXRCeXRlKFwiY1wiKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufSk7XHJcbkNhc2lub0V2ZW50LkdpZnRDb2RlRXZlbnQgPSBDYXNpbm9FdmVudC5fQmFzZUV2ZW50LmV4dGVuZCh7XHJcbiAgICBjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5fc3VwZXIoQ2FzaW5vRXZlbnQuUkVTUE9OU0VfTkFNRS5HSUZUX0NPREVfUkVTKTtcclxuICAgIH0sXHJcbiAgICBmcm9tRXZlbnQoZXZlbnQpe1xyXG4gICAgICAgIGlmKGV2ZW50LmdldFV0ZlN0cmluZyhcImVjXCIpICE9IG51bGwpe1xyXG4gICAgICAgICAgICB0aGlzLmVjID0gZXZlbnQuZ2V0VXRmU3RyaW5nKFwiZWNcIik7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuZ2lmdF92YWx1ZSA9IGV2ZW50LmdldERvdWJsZShcImNcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59KTtcclxuQ2FzaW5vRXZlbnQuTGlzdEFnZW5jeUV2ZW50ID0gQ2FzaW5vRXZlbnQuX0Jhc2VFdmVudC5leHRlbmQoe1xyXG4gICAgY3Rvcigpe1xyXG4gICAgICAgIHRoaXMuX3N1cGVyKENhc2lub0V2ZW50LlJFU1BPTlNFX05BTUUuTElTVF9BR0VOQ1lfUkVTKTtcclxuICAgIH0sXHJcbiAgICBmcm9tRXZlbnQoZXZlbnQpe1xyXG4gICAgICAgIGxldCBsaXN0QWdlbmN5ID0gW107XHJcbiAgICAgICAgbGV0IGFyciA9IGV2ZW50LmdldFNBcnJheShcImRcIik7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGFyci5zaXplKCk7aSsrKXtcclxuICAgICAgICAgICAgbGV0IHNJdGVtID0gYXJyLmdldChpKS5nZXRPYmplY3QoKTtcclxuICAgICAgICAgICAgbGV0IGFnZW5jeSA9IHt9O1xyXG4gICAgICAgICAgICBhZ2VuY3kudXNlcm5hbWUgPSBzSXRlbS5nZXRVdGZTdHJpbmcoXCJ1blwiKTtcclxuICAgICAgICAgICAgYWdlbmN5Lm5hbWUgPSBzSXRlbS5nZXRVdGZTdHJpbmcoXCJkblwiKTtcclxuICAgICAgICAgICAgYWdlbmN5LmFnTmFtZSA9IHNJdGVtLmdldFV0ZlN0cmluZyhcImFnXCIpO1xyXG4gICAgICAgICAgICBhZ2VuY3kuem9uZSA9IHNJdGVtLmdldFV0ZlN0cmluZyhcImxvXCIpO1xyXG4gICAgICAgICAgICBhZ2VuY3kudGVsZWdyYW0gPSBzSXRlbS5nZXRVdGZTdHJpbmcoXCJ0bFwiKTtcclxuICAgICAgICAgICAgYWdlbmN5LnBob25lID0gc0l0ZW0uZ2V0VXRmU3RyaW5nKFwicFwiKTtcclxuICAgICAgICAgICAgYWdlbmN5LmFkZHJlc3MgPSBzSXRlbS5nZXRVdGZTdHJpbmcoXCJhZGRcIik7XHJcbiAgICAgICAgICAgIGFnZW5jeS5mYWNlID0gc0l0ZW0uZ2V0VXRmU3RyaW5nKFwiZmJcIik7XHJcbiAgICAgICAgICAgIGFnZW5jeS5zdHQgPSBpKzE7XHJcbiAgICAgICAgICAgIGxpc3RBZ2VuY3kucHVzaChhZ2VuY3kpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGlzdEFnZW5jeTtcclxuICAgIH1cclxufSk7XHJcbkNhc2lub0V2ZW50Lkhpc3RvcnlFdmVudCA9IENhc2lub0V2ZW50Ll9CYXNlRXZlbnQuZXh0ZW5kKHtcclxuICAgIGN0b3IoKXtcclxuICAgICAgICB0aGlzLl9zdXBlcihDYXNpbm9FdmVudC5SRVNQT05TRV9OQU1FLkhJU1RPUllfUkVTKTtcclxuICAgIH0sXHJcbiAgICBmcm9tRXZlbnQoZXZlbnQpe1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59KTtcclxuQ2FzaW5vRXZlbnQuTGVhZGVyQm9hcmRFdmVudCA9IENhc2lub0V2ZW50Ll9CYXNlRXZlbnQuZXh0ZW5kKHtcclxuICAgIGN0b3IoKXtcclxuICAgICAgICB0aGlzLl9zdXBlcihDYXNpbm9FdmVudC5SRVNQT05TRV9OQU1FLkxFQURFUl9CT0FSRF9SRVMpO1xyXG4gICAgfSxcclxuICAgIGZyb21FdmVudChldmVudCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn0pO1xyXG53aW5kb3cuQ2FzaW5vRXZlbnQgPSBDYXNpbm9FdmVudDtcclxuIl19