
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/SmartFoxAudio.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '113caQVBTVLFoU32a0NhZpN', 'SmartFoxAudio');
// scripts/SmartFoxAudio.js

"use strict";

var SmartFoxAudio = cc.Class({
  "extends": cc.Component,
  statics: {
    inst: null
  },
  properties: {
    baoDenLuotChoi: {
      "default": null,
      type: cc.AudioClip
    },
    chiaTien: {
      "default": null,
      type: cc.AudioClip
    },
    chiaBai: {
      "default": null,
      type: cc.AudioClip
    },
    chiaBai2: {
      "default": null,
      type: cc.AudioClip
    },
    datCua: {
      "default": null,
      type: cc.AudioClip
    },
    click: {
      "default": null,
      type: cc.AudioClip
    },
    countDown: {
      "default": null,
      type: cc.AudioClip
    },
    danhBai: {
      "default": null,
      type: cc.AudioClip
    },
    pass: {
      "default": null,
      type: cc.AudioClip
    },
    placeChip: {
      "default": null,
      type: cc.AudioClip
    },
    ringRing: {
      "default": null,
      type: cc.AudioClip
    },
    sendChip: {
      "default": null,
      type: cc.AudioClip
    },
    themSong: {
      "default": null,
      type: cc.AudioClip
    },
    win: {
      "default": null,
      type: cc.AudioClip
    },
    xocDia: {
      "default": null,
      type: cc.AudioClip
    },
    currentEffectId: 0,
    _musicEnable: true,
    _soundEnable: true,
    _numberSound: 0,
    _keyMusic: "smart_fox_music",
    _keySound: "smart_fox_sound"
  },
  onLoad: function onLoad() {
    SmartFoxAudio.inst = this;
    mm.audio = this;
    mm.audio._effectEnable = this.isSound();
  },
  isSound: function isSound() {
    var sound = 1;
    var soundSave = cc.sys.localStorage.getItem(this._keySound);

    if (soundSave != null) {
      sound = parseInt(soundSave);
    } else {
      cc.sys.localStorage.setItem(this._keySound, "1");
    }

    return sound == 1;
  },
  isMusic: function isMusic() {
    var music = 1;
    var musicSave = cc.sys.localStorage.getItem(this._keyMusic);

    if (musicSave != null) {
      music = parseInt(musicSave);
    } else {
      cc.sys.localStorage.setItem(this._keyMusic, "1");
    }

    return music == 1;
  },
  saveSound: function saveSound() {},
  saveMusic: function saveMusic() {},
  playMusic: function playMusic() {
    var isMusic = this.isMusic();

    if (isMusic) {
      if (mm.audio._audioIDMusic !== undefined) {
        mm.audio.resumeMusic();
      } else {
        mm.audio._audioIDMusic = cc.audioEngine.play(mm.audio.themSong, true, 0.5);
      }
    } else {
      mm.audio.pauseMusic();
    }
  },
  setMusicVolume: function setMusicVolume(numberVolume) {
    cc.audioEngine.setMusicVolume(numberVolume);
  },
  pauseMusic: function pauseMusic() {
    if (mm.audio._audioIDMusic !== undefined) cc.audioEngine.pause(mm.audio._audioIDMusic);
  },
  resumeMusic: function resumeMusic() {
    if (mm.audio._audioIDMusic !== undefined) cc.audioEngine.resume(mm.audio._audioIDMusic);
  },
  playBaoDenLuotChoi: function playBaoDenLuotChoi() {
    this.currentEffectId = mm.audio._playSFX(mm.audio.baoDenLuotChoi);
  },
  playChiaTien: function playChiaTien() {
    this.currentEffectId = mm.audio._playSFX(mm.audio.chiaTien);
  },
  playChiaBai: function playChiaBai() {
    this.currentEffectId = mm.audio._playSFX(mm.audio.chiaBai);
  },
  playChiaBai2: function playChiaBai2() {
    this.currentEffectId = mm.audio._playSFX(mm.audio.chiaBai2);
  },
  playDatCua: function playDatCua() {
    this.currentEffectId = mm.audio._playSFX(mm.audio.datCua);
  },
  playCountDown: function playCountDown() {
    this.currentEffectId = mm.audio._playSFX(mm.audio.countDown);
  },
  playDanhBai: function playDanhBai() {
    this.currentEffectId = mm.audio._playSFX(mm.audio.danhBai);
  },
  playPass: function playPass() {
    this.currentEffectId = mm.audio._playSFX(mm.audio.pass);
  },
  playPlaceChip: function playPlaceChip() {
    this.currentEffectId = mm.audio._playSFX(mm.audio.placeChip);
  },
  playRingRing: function playRingRing() {
    this.currentEffectId = mm.audio._playSFX(mm.audio.ringRing);
  },
  playSendChip: function playSendChip() {
    this.currentEffectId = mm.audio._playSFX(mm.audio.sendChip);
  },
  playWin: function playWin() {
    this.currentEffectId = mm.audio._playSFX(mm.audio.win);
  },
  playXocDia: function playXocDia() {
    this.currentEffectId = mm.audio._playSFX(mm.audio.xocDia);
  },
  playButton: function playButton() {
    this.currentEffectId = mm.audio._playSFX(mm.audio.click);
  },
  _playSFX: function _playSFX(clip) {
    var isSound = this.isSound();
    if (isSound) return cc.audioEngine.playEffect(clip, false);
    return this.currentEffectId;
  },
  _pauseAllSFX: function _pauseAllSFX() {
    cc.audioEngine.pauseAllEffects();
  },
  _pauseSFX: function _pauseSFX() {
    cc.audioEngine.pauseEffect(this.currentEffectId);
  },
  _stopAllSFX: function _stopAllSFX() {
    cc.audioEngine.stopAllEffects();
  },
  _stopSFX: function _stopSFX() {
    cc.audioEngine.stopEffect(this.currentEffectId);
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcU21hcnRGb3hBdWRpby5qcyJdLCJuYW1lcyI6WyJTbWFydEZveEF1ZGlvIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInN0YXRpY3MiLCJpbnN0IiwicHJvcGVydGllcyIsImJhb0Rlbkx1b3RDaG9pIiwidHlwZSIsIkF1ZGlvQ2xpcCIsImNoaWFUaWVuIiwiY2hpYUJhaSIsImNoaWFCYWkyIiwiZGF0Q3VhIiwiY2xpY2siLCJjb3VudERvd24iLCJkYW5oQmFpIiwicGFzcyIsInBsYWNlQ2hpcCIsInJpbmdSaW5nIiwic2VuZENoaXAiLCJ0aGVtU29uZyIsIndpbiIsInhvY0RpYSIsImN1cnJlbnRFZmZlY3RJZCIsIl9tdXNpY0VuYWJsZSIsIl9zb3VuZEVuYWJsZSIsIl9udW1iZXJTb3VuZCIsIl9rZXlNdXNpYyIsIl9rZXlTb3VuZCIsIm9uTG9hZCIsIm1tIiwiYXVkaW8iLCJfZWZmZWN0RW5hYmxlIiwiaXNTb3VuZCIsInNvdW5kIiwic291bmRTYXZlIiwic3lzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBhcnNlSW50Iiwic2V0SXRlbSIsImlzTXVzaWMiLCJtdXNpYyIsIm11c2ljU2F2ZSIsInNhdmVTb3VuZCIsInNhdmVNdXNpYyIsInBsYXlNdXNpYyIsIl9hdWRpb0lETXVzaWMiLCJ1bmRlZmluZWQiLCJyZXN1bWVNdXNpYyIsImF1ZGlvRW5naW5lIiwicGxheSIsInBhdXNlTXVzaWMiLCJzZXRNdXNpY1ZvbHVtZSIsIm51bWJlclZvbHVtZSIsInBhdXNlIiwicmVzdW1lIiwicGxheUJhb0Rlbkx1b3RDaG9pIiwiX3BsYXlTRlgiLCJwbGF5Q2hpYVRpZW4iLCJwbGF5Q2hpYUJhaSIsInBsYXlDaGlhQmFpMiIsInBsYXlEYXRDdWEiLCJwbGF5Q291bnREb3duIiwicGxheURhbmhCYWkiLCJwbGF5UGFzcyIsInBsYXlQbGFjZUNoaXAiLCJwbGF5UmluZ1JpbmciLCJwbGF5U2VuZENoaXAiLCJwbGF5V2luIiwicGxheVhvY0RpYSIsInBsYXlCdXR0b24iLCJjbGlwIiwicGxheUVmZmVjdCIsIl9wYXVzZUFsbFNGWCIsInBhdXNlQWxsRWZmZWN0cyIsIl9wYXVzZVNGWCIsInBhdXNlRWZmZWN0IiwiX3N0b3BBbGxTRlgiLCJzdG9wQWxsRWZmZWN0cyIsIl9zdG9wU0ZYIiwic3RvcEVmZmVjdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxhQUFhLEdBQUdDLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ3pCLGFBQVNELEVBQUUsQ0FBQ0UsU0FEYTtBQUV6QkMsRUFBQUEsT0FBTyxFQUFFO0FBQ0xDLElBQUFBLElBQUksRUFBRTtBQURELEdBRmdCO0FBTXpCQyxFQUFBQSxVQUFVLEVBQUU7QUFDUkMsSUFBQUEsY0FBYyxFQUFFO0FBQ1osaUJBQVMsSUFERztBQUVaQyxNQUFBQSxJQUFJLEVBQUVQLEVBQUUsQ0FBQ1E7QUFGRyxLQURSO0FBS1JDLElBQUFBLFFBQVEsRUFBRTtBQUNOLGlCQUFTLElBREg7QUFFTkYsTUFBQUEsSUFBSSxFQUFFUCxFQUFFLENBQUNRO0FBRkgsS0FMRjtBQVNSRSxJQUFBQSxPQUFPLEVBQUU7QUFDTCxpQkFBUyxJQURKO0FBRUxILE1BQUFBLElBQUksRUFBRVAsRUFBRSxDQUFDUTtBQUZKLEtBVEQ7QUFhUkcsSUFBQUEsUUFBUSxFQUFFO0FBQ04saUJBQVMsSUFESDtBQUVOSixNQUFBQSxJQUFJLEVBQUVQLEVBQUUsQ0FBQ1E7QUFGSCxLQWJGO0FBaUJSSSxJQUFBQSxNQUFNLEVBQUU7QUFDSixpQkFBUyxJQURMO0FBRUpMLE1BQUFBLElBQUksRUFBRVAsRUFBRSxDQUFDUTtBQUZMLEtBakJBO0FBcUJSSyxJQUFBQSxLQUFLLEVBQUU7QUFDSCxpQkFBUyxJQUROO0FBRUhOLE1BQUFBLElBQUksRUFBRVAsRUFBRSxDQUFDUTtBQUZOLEtBckJDO0FBeUJSTSxJQUFBQSxTQUFTLEVBQUU7QUFDUCxpQkFBUyxJQURGO0FBRVBQLE1BQUFBLElBQUksRUFBRVAsRUFB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QjtBQXlLekJpRCxFQUFBQSxVQUFVLEVBQUUsc0JBQVk7QUFDcEIsU0FBS2hELGVBQUwsR0FBdUJPLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTMkIsUUFBVCxDQUFrQjVCLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTbEIsS0FBM0IsQ0FBdkI7QUFDSCxHQTNLd0I7QUE2S3pCNkMsRUFBQUEsUUFBUSxFQUFFLGtCQUFTYyxJQUFULEVBQWU7QUFDckIsUUFBSXZDLE9BQU8sR0FBRyxLQUFLQSxPQUFMLEVBQWQ7QUFDQSxRQUFJQSxPQUFKLEVBQ0ksT0FBT2pDLEVBQUUsQ0FBQ2tELFdBQUgsQ0FBZXVCLFVBQWYsQ0FBMkJELElBQTNCLEVBQWlDLEtBQWpDLENBQVA7QUFDSixXQUFPLEtBQUtqRCxlQUFaO0FBQ0gsR0FsTHdCO0FBbUx6Qm1ELEVBQUFBLFlBQVksRUFBRSx3QkFBVztBQUNyQjFFLElBQUFBLEVBQUUsQ0FBQ2tELFdBQUgsQ0FBZXlCLGVBQWY7QUFDSCxHQXJMd0I7QUFzTHpCQyxFQUFBQSxTQUFTLEVBQUUscUJBQVc7QUFDbEI1RSxJQUFBQSxFQUFFLENBQUNrRCxXQUFILENBQWUyQixXQUFmLENBQTJCLEtBQUt0RCxlQUFoQztBQUNILEdBeEx3QjtBQXlMekJ1RCxFQUFBQSxXQUFXLEVBQUUsdUJBQVc7QUFDcEI5RSxJQUFBQSxFQUFFLENBQUNrRCxXQUFILENBQWU2QixjQUFmO0FBQ0gsR0EzTHdCO0FBNEx6QkMsRUFBQUEsUUFBUSxFQUFFLG9CQUFXO0FBQ2pCaEYsSUFBQUEsRUFBRSxDQUFDa0QsV0FBSCxDQUFlK0IsVUFBZixDQUEwQixLQUFLMUQsZUFBL0I7QUFDSDtBQTlMd0IsQ0FBVCxDQUFwQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFNtYXJ0Rm94QXVkaW8gPSBjYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcbiAgICBzdGF0aWNzOiB7XHJcbiAgICAgICAgaW5zdDogbnVsbCxcclxuICAgIH0sXHJcblxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIGJhb0Rlbkx1b3RDaG9pOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkF1ZGlvQ2xpcFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hpYVRpZW46IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogY2MuQXVkaW9DbGlwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjaGlhQmFpOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkF1ZGlvQ2xpcFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hpYUJhaTI6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogY2MuQXVkaW9DbGlwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXRDdWE6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogY2MuQXVkaW9DbGlwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbGljazoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgICAgICAgICB0eXBlOiBjYy5BdWRpb0NsaXBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvdW50RG93bjoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgICAgICAgICB0eXBlOiBjYy5BdWRpb0NsaXBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhbmhCYWk6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogY2MuQXVkaW9DbGlwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXNzOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkF1ZGlvQ2xpcFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGxhY2VDaGlwOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkF1ZGlvQ2xpcFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmluZ1Jpbmc6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogY2MuQXVkaW9DbGlwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZW5kQ2hpcDoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgICAgICAgICB0eXBlOiBjYy5BdWRpb0NsaXBcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRoZW1Tb25nOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkF1ZGlvQ2xpcFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgd2luOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkF1ZGlvQ2xpcFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgeG9jRGlhOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkF1ZGlvQ2xpcFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3VycmVudEVmZmVjdElkOiAwLFxyXG4gICAgICAgIF9tdXNpY0VuYWJsZTogdHJ1ZSxcclxuICAgICAgICBfc291bmRFbmFibGU6IHRydWUsXHJcbiAgICAgICAgX251bWJlclNvdW5kOiAwLFxyXG4gICAgICAgIF9rZXlNdXNpYzogXCJzbWFydF9mb3hfbXVzaWNcIixcclxuICAgICAgICBfa2V5U291bmQ6IFwic21hcnRfZm94X3NvdW5kXCIsXHJcbiAgICB9LFxyXG5cclxuICAgIG9uTG9hZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIFNtYXJ0Rm94QXVkaW8uaW5zdCAgID0gdGhpcztcclxuICAgICAgICBtbS5hdWRpbyAgICAgPSB0aGlzO1xyXG4gICAgICAgIG1tLmF1ZGlvLl9lZmZlY3RFbmFibGUgPSB0aGlzLmlzU291bmQoKTtcclxuICAgIH0sXHJcbiAgICBpc1NvdW5kKCkge1xyXG4gICAgICAgIGxldCBzb3VuZCAgICAgPSAxO1xyXG4gICAgICAgIGxldCBzb3VuZFNhdmUgPSBjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5fa2V5U291bmQpO1xyXG4gICAgICAgIGlmIChzb3VuZFNhdmUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBzb3VuZCA9IHBhcnNlSW50KHNvdW5kU2F2ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuX2tleVNvdW5kLCBcIjFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzb3VuZCA9PTE7XHJcbiAgICB9LFxyXG4gICAgaXNNdXNpYygpIHtcclxuICAgICAgICBsZXQgbXVzaWMgICAgID0gMTtcclxuICAgICAgICBsZXQgbXVzaWNTYXZlID0gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuX2tleU11c2ljKTtcclxuICAgICAgICBpZiAobXVzaWNTYXZlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbXVzaWMgPSBwYXJzZUludChtdXNpY1NhdmUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLl9rZXlNdXNpYywgXCIxXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbXVzaWMgPT0xO1xyXG4gICAgfSxcclxuICAgIHNhdmVTb3VuZCgpIHtcclxuXHJcbiAgICB9LFxyXG4gICAgc2F2ZU11c2ljKCkge1xyXG5cclxuICAgIH0sXHJcbiAgICBwbGF5TXVzaWM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgaXNNdXNpYyA9IHRoaXMuaXNNdXNpYygpO1xyXG4gICAgICAgIGlmIChpc011c2ljKXtcclxuICAgICAgICAgICAgaWYgKG1tLmF1ZGlvLl9hdWRpb0lETXVzaWMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgbW0uYXVkaW8ucmVzdW1lTXVzaWMoKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbW0uYXVkaW8uX2F1ZGlvSURNdXNpYyA9IGNjLmF1ZGlvRW5naW5lLnBsYXkobW0uYXVkaW8udGhlbVNvbmcsIHRydWUsIDAuNSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgbW0uYXVkaW8ucGF1c2VNdXNpYygpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzZXRNdXNpY1ZvbHVtZShudW1iZXJWb2x1bWUpIHtcclxuICAgICAgICBjYy5hdWRpb0VuZ2luZS5zZXRNdXNpY1ZvbHVtZShudW1iZXJWb2x1bWUpXHJcbiAgICB9LFxyXG4gICAgcGF1c2VNdXNpYzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChtbS5hdWRpby5fYXVkaW9JRE11c2ljICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnBhdXNlKG1tLmF1ZGlvLl9hdWRpb0lETXVzaWMpO1xyXG4gICAgfSxcclxuXHJcbiAgICByZXN1bWVNdXNpYzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChtbS5hdWRpby5fYXVkaW9JRE11c2ljICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnJlc3VtZShtbS5hdWRpby5fYXVkaW9JRE11c2ljKVxyXG4gICAgfSxcclxuICAgIHBsYXlCYW9EZW5MdW90Q2hvaSgpe1xyXG4gICAgICAgIHRoaXMuY3VycmVudEVmZmVjdElkID0gbW0uYXVkaW8uX3BsYXlTRlgobW0uYXVkaW8uYmFvRGVuTHVvdENob2kpO1xyXG4gICAgfSxcclxuICAgIHBsYXlDaGlhVGllbigpe1xyXG4gICAgICAgIHRoaXMuY3VycmVudEVmZmVjdElkID0gbW0uYXVkaW8uX3BsYXlTRlgobW0uYXVkaW8uY2hpYVRpZW4pO1xyXG4gICAgfSxcclxuICAgIHBsYXlDaGlhQmFpKCl7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50RWZmZWN0SWQgPSBtbS5hdWRpby5fcGxheVNGWChtbS5hdWRpby5jaGlhQmFpKTtcclxuICAgIH0sXHJcbiAgICBwbGF5Q2hpYUJhaTIoKXtcclxuICAgICAgICB0aGlzLmN1cnJlbnRFZmZlY3RJZCA9IG1tLmF1ZGlvLl9wbGF5U0ZYKG1tLmF1ZGlvLmNoaWFCYWkyKTtcclxuICAgIH0sXHJcbiAgICBwbGF5RGF0Q3VhKCl7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50RWZmZWN0SWQgPSBtbS5hdWRpby5fcGxheVNGWChtbS5hdWRpby5kYXRDdWEpO1xyXG4gICAgfSxcclxuICAgIHBsYXlDb3VudERvd24oKXtcclxuICAgICAgICB0aGlzLmN1cnJlbnRFZmZlY3RJZCA9IG1tLmF1ZGlvLl9wbGF5U0ZYKG1tLmF1ZGlvLmNvdW50RG93bik7XHJcbiAgICB9LFxyXG4gICAgcGxheURhbmhCYWkoKXtcclxuICAgICAgICB0aGlzLmN1cnJlbnRFZmZlY3RJZCA9IG1tLmF1ZGlvLl9wbGF5U0ZYKG1tLmF1ZGlvLmRhbmhCYWkpO1xyXG4gICAgfSxcclxuICAgIHBsYXlQYXNzKCl7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50RWZmZWN0SWQgPSBtbS5hdWRpby5fcGxheVNGWChtbS5hdWRpby5wYXNzKTtcclxuICAgIH0sXHJcbiAgICBwbGF5UGxhY2VDaGlwKCl7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50RWZmZWN0SWQgPSBtbS5hdWRpby5fcGxheVNGWChtbS5hdWRpby5wbGFjZUNoaXApO1xyXG4gICAgfSxcclxuICAgIHBsYXlSaW5nUmluZygpe1xyXG4gICAgICAgIHRoaXMuY3VycmVudEVmZmVjdElkID0gbW0uYXVkaW8uX3BsYXlTRlgobW0uYXVkaW8ucmluZ1JpbmcpO1xyXG4gICAgfSxcclxuICAgIHBsYXlTZW5kQ2hpcCgpe1xyXG4gICAgICAgIHRoaXMuY3VycmVudEVmZmVjdElkID0gbW0uYXVkaW8uX3BsYXlTRlgobW0uYXVkaW8uc2VuZENoaXApO1xyXG4gICAgfSxcclxuICAgIHBsYXlXaW4oKXtcclxuICAgICAgICB0aGlzLmN1cnJlbnRFZmZlY3RJZCA9IG1tLmF1ZGlvLl9wbGF5U0ZYKG1tLmF1ZGlvLndpbik7XHJcbiAgICB9LFxyXG4gICAgcGxheVhvY0RpYSgpe1xyXG4gICAgICAgIHRoaXMuY3VycmVudEVmZmVjdElkID0gbW0uYXVkaW8uX3BsYXlTRlgobW0uYXVkaW8ueG9jRGlhKTtcclxuICAgIH0sXHJcbiAgICBwbGF5QnV0dG9uOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50RWZmZWN0SWQgPSBtbS5hdWRpby5fcGxheVNGWChtbS5hdWRpby5jbGljayk7XHJcbiAgICB9LFxyXG5cclxuICAgIF9wbGF5U0ZYOiBmdW5jdGlvbihjbGlwKSB7XHJcbiAgICAgICAgbGV0IGlzU291bmQgPSB0aGlzLmlzU291bmQoKTtcclxuICAgICAgICBpZiAoaXNTb3VuZClcclxuICAgICAgICAgICAgcmV0dXJuIGNjLmF1ZGlvRW5naW5lLnBsYXlFZmZlY3QoIGNsaXAsIGZhbHNlICk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEVmZmVjdElkO1xyXG4gICAgfSxcclxuICAgIF9wYXVzZUFsbFNGWDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2VBbGxFZmZlY3RzKCk7XHJcbiAgICB9LFxyXG4gICAgX3BhdXNlU0ZYOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBjYy5hdWRpb0VuZ2luZS5wYXVzZUVmZmVjdCh0aGlzLmN1cnJlbnRFZmZlY3RJZCk7XHJcbiAgICB9LFxyXG4gICAgX3N0b3BBbGxTRlg6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnN0b3BBbGxFZmZlY3RzKCk7XHJcbiAgICB9LFxyXG4gICAgX3N0b3BTRlg6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnN0b3BFZmZlY3QodGhpcy5jdXJyZW50RWZmZWN0SWQpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbiJdfQ==