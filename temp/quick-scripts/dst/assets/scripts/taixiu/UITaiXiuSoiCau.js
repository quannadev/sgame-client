
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/taixiu/UITaiXiuSoiCau.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '32d33URebVHxqrvT4tzjP6Q', 'UITaiXiuSoiCau');
// scripts/taixiu/UITaiXiuSoiCau.js

"use strict";

var Listview = require('Listview');

cc.Class({
  "extends": cc.VozBaseComponent,
  properties: {
    totalTai: cc.Label,
    totalXiu: cc.Label,
    cauTai: cc.SpriteFrame,
    cauXiu: cc.SpriteFrame,
    listviewCau1: Listview,
    listviewCau2: Listview,
    lineTemplate: cc.Node,
    iconXX1Template: cc.Node,
    iconXX2Template: cc.Node,
    iconXX3Template: cc.Node,
    iconTaiTemplate: cc.Node,
    iconXiuTemplate: cc.Node,
    xx1Draw: cc.Node,
    xx2Draw: cc.Node,
    xx3Draw: cc.Node,
    xx123Draw: cc.Node,
    btnBack: cc.Node,
    btnNext: cc.Node,
    soiCau1: cc.Node,
    soiCau2: cc.Node,
    listCau1: null,
    listCau2: null,
    totalTaiValue: 0,
    totalXiuValue: 0,
    _isDraw2: false
  },
  onEnable: function onEnable() {
    this._isDraw2 = false;

    if (this.node.zIndex <= cc.lastZIndex) {
      this.node.zIndex = cc.lastZIndex;
    }

    this.drawPage2();
    this.btnBack.active = false;
    this.btnNext.active = true;
    this.eventGetAllCau();
  },
  eventGetAllCau: function eventGetAllCau() {
    var soiCauRequest = new TaiXiuRequest.SoiCauRequest();
    SmartFoxSDK.TaiXiuController.ZoneInstance.send(soiCauRequest.toSRequest());
  },
  drawPage2: function drawPage2() {
    var _this = this;

    var self = this;
    this.listCau1 = [];
    this.listCau2 = [];
    var subCau1 = [];
    var subCau2 = [];
    var total = 0;
    this.totalTaiValue = 0;
    this.totalXiuValue = 0;
    Promise.all(this._data.map(function (session, index) {
      total = 0;

      for (var i = 0; i < session.dices.length; i++) {
        total += session.dices[i];
      } //Cau 1


      if (subCau1.length < 4) subCau1.push(total);else {
        subCau1.push(total);
        self.listCau1.push(subCau1);
        subCau1 = [];
      } //Cau 2

      if (total <= 10) {
        self.totalXiuValue++;

        if (subCau2.length > 0) {
          if (subCau2[0] <= 10) {
            subCau2.push(total);
          } else {
            if (subCau2.length < 7) {
              self.listCau2.push(subCau2);
            } else {
              for (var _i2 = 0; _i2 < subCau2.length; _i2 = _i2 + 6) {
                self.listCau2.push(subCau2.slice(_i2, _i2 + 6));
              }
            }

            subCau2 = [];
            subCau2.push(total);
          }
        } else {
          subCau2.push(total);
        }
      } else {
        self.totalTaiValue++;

        if (subCau2.length > 0) {
          if (subCau2[0] > 10) {
            subCau2.push(total);
          } else {
            if (subCau2.length < 7) {
              self.listCau2.push(subCau2);
            } else {
              for (var _i3 = 0; _i3 < subCau2.length; _i3 = _i3 + 6) {
                self.listCau2.push(subCau2.slice(_i3, _i3 + 6));
              }
            }

            subCau2 = [];
            subCau2.push(total);
          }
        } else {
          subCau2.push(total);
        }
      }
    })).then(function (result) {
      if (subCau1.length > 0) self.listCau1.push(subCau1);

      if (subCau2.length < 7) {
        self.listCau2.push(subCau2);
      } else {
        for (var i = 0; i < subCau2.length; i = i + 6) {
          self.listCau2.push(subCau2.slice(i, i + 6));
        }
      }

      self.listviewCau1.numItems = _this.listCau1.length;
      self.listviewCau2.numItems = _this.listCau2.length;
      self.totalXiu.string = self.totalXiuValue;
      self.totalTai.string = self.totalTaiValue;
      self.listviewCau2.node.getComponent(cc.ScrollView).scrollToRight(1);
    });
  },
  setAllCau: function setAllCau(allCau) {
    mm.Loading.hide();
    this._data = allCau;
    this.drawPage1();
    this.drawPage2();
  },
  updateDataCau: function updateDataCau(dice) {
    this._data.push({
      dices: dice
    });

    this._data.shift();

    this.drawPage1();
    this.drawPage2();
  },
  eventClose: function eventClose() {
    mm.audio.playButton();
    this.back();
  },
  onListRenderCau1: function onListRenderCau1(item, idx) {
    var self = this;
    var cau1 = this.listCau1[idx];
    Promise.all(item.children.map(function (itemCau, index) {
      itemCau.active = false;
    })).then(function () {
      Promise.all(cau1.map(function (taiXiu, index) {
        item.children[index].active = true;

        if (taiXiu <= 10) {
          item.children[index].getComponent(cc.Sprite).spriteFrame = self.cauXiu;
        } else item.children[index].getComponent(cc.Sprite).spriteFrame = self.cauTai;
      }));
    });
  },
  onListRenderCau2: function onListRenderCau2(itemAll, idx) {
    var self = this;
    var cau2 = this.listCau2[idx];
    Promise.all(itemAll.children.map(function (itemCau, index) {
      itemCau.active = false;
    })).then(function () {
      Promise.all(cau2.map(function (taiXiu, index) {
        itemAll.children[index].active = true;
        var lbResult = itemAll.children[index].getChildByName("lbResult");
        lbResult.getComponent(cc.Label).string = taiXiu;

        if (taiXiu < 11) {
          lbResult.color = cc.Color.BLACK;
          itemAll.children[index].getComponent(cc.Sprite).spriteFrame = self.cauXiu;
        } else {
          lbResult.color = cc.Color.WHITE;
          itemAll.children[index].getComponent(cc.Sprite).spriteFrame = self.cauTai;
        }
      }));
    });
  },
  onListSelected: function onListSelected(item, selectedId, lastSelectedId, val) {
    if (!item) return;
    var list = item.listItem._list;
    var str = 'Danh sách hoạt động hiện tại là:' + list.node.name + '，Lựa chọn hiện tại là：' + selectedId + '，Lựa chọn cuối cùng là：' + lastSelectedId;

    if (list.selectedMode == 2) {
      //Nếu nó là chế độ đa lựa chọn
      str += '，Giá trị hiện tại：' + val;
    }
  },
  eventShowHideCau3: function eventShowHideCau3(target) {
    this.xx123Draw.active = target.isChecked;
  },
  eventShowHideCau41: function eventShowHideCau41(target) {
    this.xx1Draw.active = target.isChecked;
  },
  eventShowHideCau42: function eventShowHideCau42(target) {
    this.xx2Draw.active = target.isChecked;
  },
  eventShowHideCau43: function eventShowHideCau43(target) {
    this.xx3Draw.active = target.isChecked;
  },
  drawPage1: function drawPage1() {
    this._isDraw2 = true;
    var data = this._data;
    var endPosX = 422;
    var startPosY = -222;
    var startPosY123 = 16;
    var _i = 0;
    var spacingX = 38;
    var spacingY = 38;
    this.xx1Draw.removeAllChildren();
    this.xx2Draw.removeAllChildren();
    this.xx3Draw.removeAllChildren();
    this.xx123Draw.removeAllChildren();

    for (var i = data.length - 1; i >= 0; i--) {
      var dices = data[i].dices;
      var score = dices[0] + dices[1] + dices[2];
      var startPosXX1 = cc.v2(endPosX - _i * spacingX, startPosY + (dices[0] - 1) * spacingY);
      var startPosXX2 = cc.v2(endPosX - _i * spacingX, startPosY + (dices[1] - 1) * spacingY);
      var startPosXX3 = cc.v2(endPosX - _i * spacingX, startPosY + (dices[2] - 1) * spacingY);
      var startPosXX123 = cc.v2(endPosX - _i * spacingX, startPosY123 + (score - 3) * (spacingY / 3));
      var iconXX1 = cc.instantiate(this.iconXX1Template);
      iconXX1.parent = this.xx1Draw;
      iconXX1.position = startPosXX1;
      var iconXX2 = cc.instantiate(this.iconXX2Template);
      iconXX2.parent = this.xx2Draw;
      iconXX2.position = startPosXX2;
      var iconXX3 = cc.instantiate(this.iconXX3Template);
      iconXX3.parent = this.xx3Draw;
      iconXX3.position = startPosXX3;
      var iconXX123 = cc.instantiate(score >= 11 ? this.iconTaiTemplate : this.iconXiuTemplate);
      iconXX123.parent = this.xx123Draw;
      iconXX123.position = startPosXX123;

      if (_i > 0) {
        dices = data[i + 1].dices;
        score = dices[0] + dices[1] + dices[2];
        var endPosXX1 = cc.v2(endPosX - (_i - 1) * spacingX, startPosY + (dices[0] - 1) * spacingY);
        var endPosXX2 = cc.v2(endPosX - (_i - 1) * spacingX, startPosY + (dices[1] - 1) * spacingY);
        var endPosXX3 = cc.v2(endPosX - (_i - 1) * spacingX, startPosY + (dices[2] - 1) * spacingY);
        var endPosXX123 = cc.v2(endPosX - (_i - 1) * spacingX, startPosY123 + (score - 3) * (spacingY / 3));
        var line = cc.instantiate(this.lineTemplate);
        line.parent = this.xx1Draw;
        line.width = Utils.v2Distance(startPosXX1, endPosXX1);
        line.position = startPosXX1;
        line.angle = Utils.v2Degrees(startPosXX1, endPosXX1);
        line.color = cc.Color.BLACK.fromHEX("#ed145b");
        line.zIndex = 0;
        line = cc.instantiate(this.lineTemplate);
        line.parent = this.xx2Draw;
        line.width = Utils.v2Distance(startPosXX2, endPosXX2);
        line.position = startPosXX2;
        line.angle = Utils.v2Degrees(startPosXX2, endPosXX2);
        line.color = cc.Color.BLACK.fromHEX("#598527");
        line.zIndex = 0;
        line = cc.instantiate(this.lineTemplate);
        line.parent = this.xx3Draw;
        line.width = Utils.v2Distance(startPosXX3, endPosXX3);
        line.position = startPosXX3;
        line.angle = Utils.v2Degrees(startPosXX3, endPosXX3);
        line.color = cc.Color.BLACK.fromHEX("#f06eaa");
        line.zIndex = 0;
        line = cc.instantiate(this.lineTemplate);
        line.parent = this.xx123Draw;
        line.width = Utils.v2Distance(startPosXX123, endPosXX123);
        line.position = startPosXX123;
        line.angle = Utils.v2Degrees(startPosXX123, endPosXX123);
        line.color = cc.Color.BLACK.fromHEX("#fedd99");
        line.zIndex = -1;
      }

      _i++;
    }
  },
  eventGotoPage2: function eventGotoPage2() {
    this.soiCau1.active = false;
    this.soiCau2.active = true;
    this.btnBack.active = true;
    this.btnNext.active = false;
    if (!this._isDraw2) this.drawPage1();
  },
  eventGotoPage1: function eventGotoPage1() {
    this.btnBack.active = false;
    this.btnNext.active = true;
    this.soiCau1.active = true;
    this.soiCau2.active = false;
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHRzL3RhaXhpdS9VSVRhaVhpdVNvaUNhdS5qcyJdLCJuYW1lcyI6WyJMaXN0dmlldyIsInJlcXVpcmUiLCJjYyIsIkNsYXNzIiwiVm96QmFzZUNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJ0b3RhbFRhaSIsIkxhYmVsIiwidG90YWxYaXUiLCJjYXVUYWkiLCJTcHJpdGVGcmFtZSIsImNhdVhpdSIsImxpc3R2aWV3Q2F1MSIsImxpc3R2aWV3Q2F1MiIsImxpbmVUZW1wbGF0ZSIsIk5vZGUiLCJpY29uWFgxVGVtcGxhdGUiLCJpY29uWFgyVGVtcGxhdGUiLCJpY29uWFgzVGVtcGxhdGUiLCJpY29uVGFpVGVtcGxhdGUiLCJpY29uWGl1VGVtcGxhdGUiLCJ4eDFEcmF3IiwieHgyRHJhdyIsInh4M0RyYXciLCJ4eDEyM0RyYXciLCJidG5CYWNrIiwiYnRuTmV4dCIsInNvaUNhdTEiLCJzb2lDYXUyIiwibGlzdENhdTEiLCJsaXN0Q2F1MiIsInRvdGFsVGFpVmFsdWUiLCJ0b3RhbFhpdVZhbHVlIiwiX2lzRHJhdzIiLCJvbkVuYWJsZSIsIm5vZGUiLCJ6SW5kZXgiLCJsYXN0WkluZGV4IiwiZHJhd1BhZ2UyIiwiYWN0aXZlIiwiZXZlbnRHZXRBbGxDYXUiLCJzb2lDYXVSZXF1ZXN0IiwiVGFpWGl1UmVxdWVzdCIsIlNvaUNhdVJlcXVlc3QiLCJTbWFydEZveFNESyIsIlRhaVhpdUNvbnRyb2xsZXIiLCJab25lSW5zdGFuY2UiLCJzZW5kIiwidG9TUmVxdWVzdCIsInNlbGYiLCJzdWJDYXUxIiwic3ViQ2F1MiIsInRvdGFsIiwiUHJvbWlzZSIsImFsbCIsIl9kYXRhIiwibWFwIiwic2Vzc2lvbiIsImluZGV4IiwiaSIsImRpY2VzIiwibGVuZ3RoIiwicHVzaCIsInNsaWNlIiwidGhlbiIsInJlc3VsdCIsIm51bUl0ZW1zIiwic3RyaW5nIiwiZ2V0Q29tcG9uZW50IiwiU2Nyb2xsVmlldyIsInNjcm9sbFRvUmlnaHQiLCJzZXRBbGxDYXUiLCJhbGxDYXUiLCJtbSIsIkxvYWRpbmciLCJoaWRlIiwiZHJhd1BhZ2UxIiwidXBkYXRlRGF0YUNhdSIsImRpY2UiLCJzaGlmdCIsImV2ZW50Q2xvc2UiLCJhdWRpbyIsInBsYXlCdXR0b24iLCJiYWNrIiwib25MaXN0UmVuZGVyQ2F1MSIsIml0ZW0iLCJpZHgiLCJjYXUxIiwiY2hpbGRyZW4iLCJpdGVtQ2F1IiwidGFpWGl1IiwiU3ByaXRlIiwic3ByaXRlRnJhbWUiLCJvbkxpc3RSZW5kZXJDYXUyIiwiaXRlbUFsbCIsImNhdTIiLCJsYlJlc3VsdCIsImdldENoaWxkQnlOYW1lIiwiY29sb3IiLCJDb2xvciIsIkJMQUNLIiwiV0hJVEUiLCJvbkxpc3RTZWxlY3RlZCIsInNlbGVjdGVkSWQiLCJsYXN0U2VsZWN0ZWRJZCIsInZhbCIsImxpc3QiLCJsaXN0SXRlbSIsIl9saXN0Iiwic3RyIiwibmFtZSIsInNlbGVjdGVkTW9kZSIsImV2ZW50U2hvd0hpZGVDYXUzIiwidGFyZ2V0IiwiaXNDaGVja2VkIiwiZXZlbnRTaG93SGlkZUNhdTQxIiwiZXZlbnRTaG93SGlkZUNhdTQyIiwiZXZlbnRTaG93SGlkZUNhdTQzIiwiZGF0YSIsImVuZFBvc1giLCJzdGFydFBvc1kiLCJzdGFydFBvc1kxMjMiLCJfaSIsInNwYWNpbmdYIiwic3BhY2luZ1kiLCJyZW1vdmVBbGxDaGlsZHJlbiIsInNjb3JlIiwic3RhcnRQb3NYWDEiLCJ2MiIsInN0YXJ0UG9zWFgyIiwic3RhcnRQb3NYWDMiLCJzdGFydFBvc1hYMTIzIiwiaWNvblhYMSIsImluc3RhbnRpYXRlIiwicGFyZW50IiwicG9zaXRpb24iLCJpY29uWFgyIiwiaWNvblhYMyIsImljb25YWDEyMyIsImVuZFBvc1hYMSIsImVuZFBvc1hYMiIsImVuZFBvc1hYMyIsImVuZFBvc1hYMTIzIiwibGluZSIsIndpZHRoIiwiVXRpbHMiLCJ2MkRpc3RhbmNlIiwiYW5nbGUiLCJ2MkRlZ3JlZXMiLCJmcm9tSEVYIiwiZXZlbnRHb3RvUGFnZTIiLCJldmVudEdvdG9QYWdlMSJd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QSxTQUFLYixPQUFMLENBQWFhLE1BQWIsR0FBc0IsSUFBdEI7QUFDQSxTQUFLWixPQUFMLENBQWFZLE1BQWIsR0FBc0IsSUFBdEI7QUFDQSxTQUFLWCxPQUFMLENBQWFXLE1BQWIsR0FBc0IsS0FBdEI7QUFDSDtBQXZTSSxDQUFUIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBMaXN0dmlldyA9IHJlcXVpcmUoJ0xpc3R2aWV3Jyk7XG5jYy5DbGFzcyh7XG4gICAgZXh0ZW5kczogY2MuVm96QmFzZUNvbXBvbmVudCxcblxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgdG90YWxUYWkgICAgICAgIDogY2MuTGFiZWwsXG4gICAgICAgIHRvdGFsWGl1ICAgICAgICA6IGNjLkxhYmVsLFxuICAgICAgICBjYXVUYWkgICAgICAgICAgOiBjYy5TcHJpdGVGcmFtZSxcbiAgICAgICAgY2F1WGl1ICAgICAgICAgIDogY2MuU3ByaXRlRnJhbWUsXG4gICAgICAgIGxpc3R2aWV3Q2F1MSAgICA6IExpc3R2aWV3LFxuICAgICAgICBsaXN0dmlld0NhdTIgICAgOiBMaXN0dmlldyxcbiAgICAgICAgbGluZVRlbXBsYXRlICAgIDogY2MuTm9kZSxcbiAgICAgICAgaWNvblhYMVRlbXBsYXRlICAgIDogY2MuTm9kZSxcbiAgICAgICAgaWNvblhYMlRlbXBsYXRlICAgIDogY2MuTm9kZSxcbiAgICAgICAgaWNvblhYM1RlbXBsYXRlICAgIDogY2MuTm9kZSxcbiAgICAgICAgaWNvblRhaVRlbXBsYXRlICAgIDogY2MuTm9kZSxcbiAgICAgICAgaWNvblhpdVRlbXBsYXRlICAgIDogY2MuTm9kZSxcblxuICAgICAgICB4eDFEcmF3ICAgIDogY2MuTm9kZSxcbiAgICAgICAgeHgyRHJhdyAgICA6IGNjLk5vZGUsXG4gICAgICAgIHh4M0RyYXcgICAgOiBjYy5Ob2RlLFxuICAgICAgICB4eDEyM0RyYXcgICAgOiBjYy5Ob2RlLFxuICAgICAgICBidG5CYWNrICAgIDogY2MuTm9kZSxcbiAgICAgICAgYnRuTmV4dCAgICA6IGNjLk5vZGUsXG4gICAgICAgIHNvaUNhdTEgICAgOiBjYy5Ob2RlLFxuICAgICAgICBzb2lDYXUyICAgIDogY2MuTm9kZSxcbiAgICAgICAgbGlzdENhdTEgICAgICAgOiBudWxsLFxuICAgICAgICBsaXN0Q2F1MiAgICAgICA6IG51bGwsXG4gICAgICAgIHRvdGFsVGFpVmFsdWUgICAgICAgOiAwLFxuICAgICAgICB0b3RhbFhpdVZhbHVlICAgICAgIDogMCxcbiAgICAgICAgX2lzRHJhdzIgICAgICAgOiBmYWxzZSxcbiAgICB9LFxuICAgIG9uRW5hYmxlKCl7XG4gICAgICAgIHRoaXMuX2lzRHJhdzIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMubm9kZS56SW5kZXggPD0gY2MubGFzdFpJbmRleCl7XG4gICAgICAgICAgICB0aGlzLm5vZGUuekluZGV4ID0gY2MubGFzdFpJbmRleDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYXdQYWdlMigpO1xuICAgICAgICB0aGlzLmJ0bkJhY2suYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnRuTmV4dC5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmV2ZW50R2V0QWxsQ2F1KCk7XG4gICAgfSxcbiAgICBldmVudEdldEFsbENhdSgpIHtcbiAgICAgICAgbGV0IHNvaUNhdVJlcXVlc3QgPSBuZXcgVGFpWGl1UmVxdWVzdC5Tb2lDYXVSZXF1ZXN0KCk7XG4gICAgICAgIFNtYXJ0Rm94U0RLLlRhaVhpdUNvbnRyb2xsZXIuWm9uZUluc3RhbmNlLnNlbmQoc29pQ2F1UmVxdWVzdC50b1NSZXF1ZXN0KCkpO1xuICAgIH0sXG4gICAgZHJhd1BhZ2UyKCkge1xuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMubGlzdENhdTEgPSBbXTtcbiAgICAgICAgdGhpcy5saXN0Q2F1MiA9IFtdO1xuICAgICAgICBsZXQgc3ViQ2F1MSAgID0gW107XG4gICAgICAgIGxldCBzdWJDYXUyICAgPSBbXTtcbiAgICAgICAgbGV0IHRvdGFsICAgICA9IDA7XG4gICAgICAgIHRoaXMudG90YWxUYWlWYWx1ZSAgICAgPSAwO1xuICAgICAgICB0aGlzLnRvdGFsWGl1VmFsdWUgICAgID0gMDtcbiAgICAgICAgUHJvbWlzZS5hbGwodGhpcy5fZGF0YS5tYXAoZnVuY3Rpb24oc2Vzc2lvbiwgaW5kZXgpe1xuICAgICAgICAgICAgdG90YWwgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpPCBzZXNzaW9uLmRpY2VzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICB0b3RhbCArPSBzZXNzaW9uLmRpY2VzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9DYXUgMVxuICAgICAgICAgICAgaWYgKHN1YkNhdTEubGVuZ3RoIDwgNClcbiAgICAgICAgICAgICAgICBzdWJDYXUxLnB1c2godG90YWwpXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWJDYXUxLnB1c2godG90YWwpXG4gICAgICAgICAgICAgICAgc2VsZi5saXN0Q2F1MS5wdXNoKHN1YkNhdTEpO1xuICAgICAgICAgICAgICAgIHN1YkNhdTEgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9DYXUgMlxuICAgICAgICAgICAgaWYgKHRvdGFsIDw9IDEwKXtcbiAgICAgICAgICAgICAgICBzZWxmLnRvdGFsWGl1VmFsdWUgKys7XG4gICAgICAgICAgICAgICAgaWYgKHN1YkNhdTIubGVuZ3RoID4wKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YkNhdTJbMF0gPD0gMTApe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViQ2F1Mi5wdXNoKHRvdGFsKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ViQ2F1Mi5sZW5ndGggPCA3KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxpc3RDYXUyLnB1c2goc3ViQ2F1Mik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8IHN1YkNhdTIubGVuZ3RoOyBpPWkrNil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubGlzdENhdTIucHVzaChzdWJDYXUyLnNsaWNlKGksIGkrNikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YkNhdTIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YkNhdTIucHVzaCh0b3RhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgc3ViQ2F1Mi5wdXNoKHRvdGFsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHNlbGYudG90YWxUYWlWYWx1ZSArKztcbiAgICAgICAgICAgICAgICBpZiAoc3ViQ2F1Mi5sZW5ndGggPjApe1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViQ2F1MlswXSA+IDEwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YkNhdTIucHVzaCh0b3RhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YkNhdTIubGVuZ3RoIDwgNyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5saXN0Q2F1Mi5wdXNoKHN1YkNhdTIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpPCBzdWJDYXUyLmxlbmd0aDsgaT1pKzYpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxpc3RDYXUyLnB1c2goc3ViQ2F1Mi5zbGljZShpLCBpKzYpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJDYXUyID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJDYXUyLnB1c2godG90YWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHN1YkNhdTIucHVzaCh0b3RhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgaWYgKHN1YkNhdTEubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICBzZWxmLmxpc3RDYXUxLnB1c2goc3ViQ2F1MSk7XG4gICAgICAgICAgICBpZiAoc3ViQ2F1Mi5sZW5ndGggPCA3KXtcbiAgICAgICAgICAgICAgICBzZWxmLmxpc3RDYXUyLnB1c2goc3ViQ2F1Mik7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8IHN1YkNhdTIubGVuZ3RoOyBpPWkrNil7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGlzdENhdTIucHVzaChzdWJDYXUyLnNsaWNlKGksIGkrNikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYubGlzdHZpZXdDYXUxLm51bUl0ZW1zID0gdGhpcy5saXN0Q2F1MS5sZW5ndGg7XG4gICAgICAgICAgICBzZWxmLmxpc3R2aWV3Q2F1Mi5udW1JdGVtcyA9IHRoaXMubGlzdENhdTIubGVuZ3RoO1xuICAgICAgICAgICAgc2VsZi50b3RhbFhpdS5zdHJpbmcgICAgICAgPSBzZWxmLnRvdGFsWGl1VmFsdWU7XG4gICAgICAgICAgICBzZWxmLnRvdGFsVGFpLnN0cmluZyAgICAgICA9IHNlbGYudG90YWxUYWlWYWx1ZTtcbiAgICAgICAgICAgIHNlbGYubGlzdHZpZXdDYXUyLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlNjcm9sbFZpZXcpLnNjcm9sbFRvUmlnaHQoMSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc2V0QWxsQ2F1KGFsbENhdSl7XG4gICAgICAgIG1tLkxvYWRpbmcuaGlkZSgpO1xuICAgICAgICB0aGlzLl9kYXRhID0gYWxsQ2F1O1xuICAgICAgICB0aGlzLmRyYXdQYWdlMSgpO1xuICAgICAgICB0aGlzLmRyYXdQYWdlMigpO1xuICAgIH0sXG4gICAgdXBkYXRlRGF0YUNhdShkaWNlKSB7XG4gICAgICAgIHRoaXMuX2RhdGEucHVzaCh7ZGljZXM6IGRpY2V9KTtcbiAgICAgICAgdGhpcy5fZGF0YS5zaGlmdCgpO1xuICAgICAgICB0aGlzLmRyYXdQYWdlMSgpO1xuICAgICAgICB0aGlzLmRyYXdQYWdlMigpO1xuICAgIH0sXG4gICAgZXZlbnRDbG9zZSgpIHtcbiAgICAgICAgbW0uYXVkaW8ucGxheUJ1dHRvbigpO1xuICAgICAgICB0aGlzLmJhY2soKTtcbiAgICB9LFxuICAgIG9uTGlzdFJlbmRlckNhdTEoaXRlbSwgaWR4KSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgbGV0IGNhdTEgPSB0aGlzLmxpc3RDYXUxW2lkeF07XG4gICAgICAgIFByb21pc2UuYWxsKGl0ZW0uY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKGl0ZW1DYXUsIGluZGV4KXtcbiAgICAgICAgICAgIGl0ZW1DYXUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH0pKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFByb21pc2UuYWxsKGNhdTEubWFwKGZ1bmN0aW9uKHRhaVhpdSwgaW5kZXgpe1xuICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGRyZW5baW5kZXhdLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHRhaVhpdSA8PSAxMCl7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGRyZW5baW5kZXhdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gIHNlbGYuY2F1WGl1O1xuICAgICAgICAgICAgICAgIH1lbHNlXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGRyZW5baW5kZXhdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gIHNlbGYuY2F1VGFpO1xuICAgICAgICAgICAgfSkpXG4gICAgICAgIH0pXG4gICAgfSxcbiAgICBvbkxpc3RSZW5kZXJDYXUyKGl0ZW1BbGwsIGlkeCkge1xuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgIGxldCBjYXUyID0gdGhpcy5saXN0Q2F1MltpZHhdO1xuICAgICAgICBQcm9taXNlLmFsbChpdGVtQWxsLmNoaWxkcmVuLm1hcChmdW5jdGlvbihpdGVtQ2F1LCBpbmRleCl7XG4gICAgICAgICAgICBpdGVtQ2F1LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9KSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBQcm9taXNlLmFsbChjYXUyLm1hcChmdW5jdGlvbih0YWlYaXUsIGluZGV4KXtcbiAgICAgICAgICAgICAgICBpdGVtQWxsLmNoaWxkcmVuW2luZGV4XS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxldCBsYlJlc3VsdCA9IGl0ZW1BbGwuY2hpbGRyZW5baW5kZXhdLmdldENoaWxkQnlOYW1lKFwibGJSZXN1bHRcIik7XG4gICAgICAgICAgICAgICAgbGJSZXN1bHQuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0YWlYaXU7XG4gICAgICAgICAgICAgICAgaWYgKHRhaVhpdSA8IDExKXtcbiAgICAgICAgICAgICAgICAgICAgbGJSZXN1bHQuY29sb3IgPSBjYy5Db2xvci5CTEFDSztcbiAgICAgICAgICAgICAgICAgICAgaXRlbUFsbC5jaGlsZHJlbltpbmRleF0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSAgc2VsZi5jYXVYaXU7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGxiUmVzdWx0LmNvbG9yID0gY2MuQ29sb3IuV0hJVEU7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1BbGwuY2hpbGRyZW5baW5kZXhdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gIHNlbGYuY2F1VGFpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKVxuICAgICAgICB9KVxuICAgIH0sXG4gICAgb25MaXN0U2VsZWN0ZWQoaXRlbSwgc2VsZWN0ZWRJZCwgbGFzdFNlbGVjdGVkSWQsIHZhbCkge1xuICAgICAgICBpZiAoIWl0ZW0pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBsaXN0ID0gaXRlbS5saXN0SXRlbS5fbGlzdDtcbiAgICAgICAgbGV0IHN0ciA9ICdEYW5oIHPDoWNoIGhv4bqhdCDEkeG7mW5nIGhp4buHbiB04bqhaSBsw6A6JyArIGxpc3Qubm9kZS5uYW1lICsgJ++8jEzhu7FhIGNo4buNbiBoaeG7h24gdOG6oWkgbMOg77yaJyArIHNlbGVjdGVkSWQgKyAn77yMTOG7sWEgY2jhu41uIGN14buRaSBjw7luZyBsw6DvvJonICsgbGFzdFNlbGVjdGVkSWQ7XG4gICAgICAgIGlmIChsaXN0LnNlbGVjdGVkTW9kZSA9PSAyKSB7IC8vTuG6v3UgbsOzIGzDoCBjaOG6vyDEkeG7mSDEkWEgbOG7sWEgY2jhu41uXG4gICAgICAgICAgICBzdHIgKz0gJ++8jEdpw6EgdHLhu4sgaGnhu4duIHThuqFp77yaJyArIHZhbDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZXZlbnRTaG93SGlkZUNhdTModGFyZ2V0KSB7XG4gICAgICAgIHRoaXMueHgxMjNEcmF3LmFjdGl2ZSA9IHRhcmdldC5pc0NoZWNrZWQ7XG4gICAgfSxcbiAgICBldmVudFNob3dIaWRlQ2F1NDEodGFyZ2V0KXtcbiAgICAgICAgdGhpcy54eDFEcmF3LmFjdGl2ZSA9IHRhcmdldC5pc0NoZWNrZWQ7XG4gICAgfSxcbiAgICBldmVudFNob3dIaWRlQ2F1NDIodGFyZ2V0KXtcbiAgICAgICAgdGhpcy54eDJEcmF3LmFjdGl2ZSA9IHRhcmdldC5pc0NoZWNrZWQ7XG4gICAgfSxcbiAgICBldmVudFNob3dIaWRlQ2F1NDModGFyZ2V0KXtcbiAgICAgICAgdGhpcy54eDNEcmF3LmFjdGl2ZSA9IHRhcmdldC5pc0NoZWNrZWQ7XG4gICAgfSxcbiAgICBkcmF3UGFnZTEoKSB7XG4gICAgICAgIHRoaXMuX2lzRHJhdzIgPSB0cnVlO1xuICAgICAgICBsZXQgZGF0YSA9ICB0aGlzLl9kYXRhO1xuICAgICAgICBsZXQgZW5kUG9zWCAgICAgID0gNDIyO1xuICAgICAgICBsZXQgc3RhcnRQb3NZICAgID0gLTIyMjtcbiAgICAgICAgbGV0IHN0YXJ0UG9zWTEyMyA9IDE2O1xuICAgICAgICBsZXQgX2kgPSAwO1xuICAgICAgICBsZXQgc3BhY2luZ1ggPSAzODtcbiAgICAgICAgbGV0IHNwYWNpbmdZID0gMzg7XG4gICAgICAgIHRoaXMueHgxRHJhdy5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICB0aGlzLnh4MkRyYXcucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgdGhpcy54eDNEcmF3LnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgIHRoaXMueHgxMjNEcmF3LnJlbW92ZUFsbENoaWxkcmVuKCk7XG5cblxuICAgICAgICBmb3IgKHZhciBpID0gZGF0YS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGRpY2VzID0gZGF0YVtpXS5kaWNlcztcbiAgICAgICAgICAgIHZhciBzY29yZSA9IGRpY2VzWzBdICsgZGljZXNbMV0gKyBkaWNlc1syXTtcblxuICAgICAgICAgICAgbGV0IHN0YXJ0UG9zWFgxID0gY2MudjIoZW5kUG9zWCAtIF9pICogc3BhY2luZ1gsIHN0YXJ0UG9zWSArIChkaWNlc1swXSAtIDEpICogc3BhY2luZ1kpO1xuICAgICAgICAgICAgbGV0IHN0YXJ0UG9zWFgyID0gY2MudjIoZW5kUG9zWCAtIF9pICogc3BhY2luZ1gsIHN0YXJ0UG9zWSArIChkaWNlc1sxXSAtIDEpICogc3BhY2luZ1kpO1xuICAgICAgICAgICAgbGV0IHN0YXJ0UG9zWFgzID0gY2MudjIoZW5kUG9zWCAtIF9pICogc3BhY2luZ1gsIHN0YXJ0UG9zWSArIChkaWNlc1syXSAtIDEpICogc3BhY2luZ1kpO1xuICAgICAgICAgICAgbGV0IHN0YXJ0UG9zWFgxMjMgPSBjYy52MihlbmRQb3NYIC0gX2kgKiBzcGFjaW5nWCwgc3RhcnRQb3NZMTIzICsgKHNjb3JlIC0gMykgKiAoc3BhY2luZ1kgLyAzKSk7XG5cbiAgICAgICAgICAgIGxldCBpY29uWFgxID0gY2MuaW5zdGFudGlhdGUodGhpcy5pY29uWFgxVGVtcGxhdGUpO1xuICAgICAgICAgICAgaWNvblhYMS5wYXJlbnQgPSB0aGlzLnh4MURyYXc7XG4gICAgICAgICAgICBpY29uWFgxLnBvc2l0aW9uID0gc3RhcnRQb3NYWDE7XG5cbiAgICAgICAgICAgIGxldCBpY29uWFgyID0gY2MuaW5zdGFudGlhdGUodGhpcy5pY29uWFgyVGVtcGxhdGUpO1xuICAgICAgICAgICAgaWNvblhYMi5wYXJlbnQgPSB0aGlzLnh4MkRyYXc7XG4gICAgICAgICAgICBpY29uWFgyLnBvc2l0aW9uID0gc3RhcnRQb3NYWDI7XG5cbiAgICAgICAgICAgIGxldCBpY29uWFgzID0gY2MuaW5zdGFudGlhdGUodGhpcy5pY29uWFgzVGVtcGxhdGUpO1xuICAgICAgICAgICAgaWNvblhYMy5wYXJlbnQgPSB0aGlzLnh4M0RyYXc7XG4gICAgICAgICAgICBpY29uWFgzLnBvc2l0aW9uID0gc3RhcnRQb3NYWDM7XG5cbiAgICAgICAgICAgIGxldCBpY29uWFgxMjMgPSBjYy5pbnN0YW50aWF0ZShzY29yZSA+PSAxMSA/IHRoaXMuaWNvblRhaVRlbXBsYXRlIDogdGhpcy5pY29uWGl1VGVtcGxhdGUpO1xuICAgICAgICAgICAgaWNvblhYMTIzLnBhcmVudCA9IHRoaXMueHgxMjNEcmF3O1xuICAgICAgICAgICAgaWNvblhYMTIzLnBvc2l0aW9uID0gc3RhcnRQb3NYWDEyMztcblxuICAgICAgICAgICAgaWYgKF9pID4gMCkge1xuICAgICAgICAgICAgICAgIGRpY2VzID0gZGF0YVtpICsgMV0uZGljZXM7XG4gICAgICAgICAgICAgICAgc2NvcmUgPSBkaWNlc1swXSArIGRpY2VzWzFdICsgZGljZXNbMl07XG5cbiAgICAgICAgICAgICAgICBsZXQgZW5kUG9zWFgxID0gY2MudjIoZW5kUG9zWCAtIChfaSAtIDEpICogc3BhY2luZ1gsIHN0YXJ0UG9zWSArIChkaWNlc1swXSAtIDEpICogc3BhY2luZ1kpO1xuICAgICAgICAgICAgICAgIGxldCBlbmRQb3NYWDIgPSBjYy52MihlbmRQb3NYIC0gKF9pIC0gMSkgKiBzcGFjaW5nWCwgc3RhcnRQb3NZICsgKGRpY2VzWzFdIC0gMSkgKiBzcGFjaW5nWSk7XG4gICAgICAgICAgICAgICAgbGV0IGVuZFBvc1hYMyA9IGNjLnYyKGVuZFBvc1ggLSAoX2kgLSAxKSAqIHNwYWNpbmdYLCBzdGFydFBvc1kgKyAoZGljZXNbMl0gLSAxKSAqIHNwYWNpbmdZKTtcbiAgICAgICAgICAgICAgICBsZXQgZW5kUG9zWFgxMjMgPSBjYy52MihlbmRQb3NYIC0gKF9pIC0gMSkgKiBzcGFjaW5nWCwgc3RhcnRQb3NZMTIzICsgKHNjb3JlIC0gMykgKiAoc3BhY2luZ1kgLyAzKSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMubGluZVRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICBsaW5lLnBhcmVudCA9IHRoaXMueHgxRHJhdztcbiAgICAgICAgICAgICAgICBsaW5lLndpZHRoID0gVXRpbHMudjJEaXN0YW5jZShzdGFydFBvc1hYMSwgZW5kUG9zWFgxKTtcbiAgICAgICAgICAgICAgICBsaW5lLnBvc2l0aW9uID0gc3RhcnRQb3NYWDE7XG4gICAgICAgICAgICAgICAgbGluZS5hbmdsZSA9IFV0aWxzLnYyRGVncmVlcyhzdGFydFBvc1hYMSwgZW5kUG9zWFgxKTtcbiAgICAgICAgICAgICAgICBsaW5lLmNvbG9yID0gY2MuQ29sb3IuQkxBQ0suZnJvbUhFWChcIiNlZDE0NWJcIik7XG4gICAgICAgICAgICAgICAgbGluZS56SW5kZXggPSAwO1xuXG4gICAgICAgICAgICAgICAgbGluZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMubGluZVRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICBsaW5lLnBhcmVudCA9IHRoaXMueHgyRHJhdztcbiAgICAgICAgICAgICAgICBsaW5lLndpZHRoID0gVXRpbHMudjJEaXN0YW5jZShzdGFydFBvc1hYMiwgZW5kUG9zWFgyKTtcbiAgICAgICAgICAgICAgICBsaW5lLnBvc2l0aW9uID0gc3RhcnRQb3NYWDI7XG4gICAgICAgICAgICAgICAgbGluZS5hbmdsZSA9IFV0aWxzLnYyRGVncmVlcyhzdGFydFBvc1hYMiwgZW5kUG9zWFgyKTtcbiAgICAgICAgICAgICAgICBsaW5lLmNvbG9yID0gY2MuQ29sb3IuQkxBQ0suZnJvbUhFWChcIiM1OTg1MjdcIik7XG4gICAgICAgICAgICAgICAgbGluZS56SW5kZXggPSAwO1xuXG4gICAgICAgICAgICAgICAgbGluZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMubGluZVRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICBsaW5lLnBhcmVudCA9IHRoaXMueHgzRHJhdztcbiAgICAgICAgICAgICAgICBsaW5lLndpZHRoID0gVXRpbHMudjJEaXN0YW5jZShzdGFydFBvc1hYMywgZW5kUG9zWFgzKTtcbiAgICAgICAgICAgICAgICBsaW5lLnBvc2l0aW9uID0gc3RhcnRQb3NYWDM7XG4gICAgICAgICAgICAgICAgbGluZS5hbmdsZSA9IFV0aWxzLnYyRGVncmVlcyhzdGFydFBvc1hYMywgZW5kUG9zWFgzKTtcbiAgICAgICAgICAgICAgICBsaW5lLmNvbG9yID0gY2MuQ29sb3IuQkxBQ0suZnJvbUhFWChcIiNmMDZlYWFcIik7XG4gICAgICAgICAgICAgICAgbGluZS56SW5kZXggPSAwO1xuXG4gICAgICAgICAgICAgICAgbGluZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMubGluZVRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICBsaW5lLnBhcmVudCA9IHRoaXMueHgxMjNEcmF3O1xuICAgICAgICAgICAgICAgIGxpbmUud2lkdGggPSBVdGlscy52MkRpc3RhbmNlKHN0YXJ0UG9zWFgxMjMsIGVuZFBvc1hYMTIzKTtcbiAgICAgICAgICAgICAgICBsaW5lLnBvc2l0aW9uID0gc3RhcnRQb3NYWDEyMztcbiAgICAgICAgICAgICAgICBsaW5lLmFuZ2xlID0gVXRpbHMudjJEZWdyZWVzKHN0YXJ0UG9zWFgxMjMsIGVuZFBvc1hYMTIzKTtcbiAgICAgICAgICAgICAgICBsaW5lLmNvbG9yID0gY2MuQ29sb3IuQkxBQ0suZnJvbUhFWChcIiNmZWRkOTlcIik7XG4gICAgICAgICAgICAgICAgbGluZS56SW5kZXggPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9pKys7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGV2ZW50R290b1BhZ2UyKCkge1xuICAgICAgICB0aGlzLnNvaUNhdTEuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc29pQ2F1Mi5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmJ0bkJhY2suYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5idG5OZXh0LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAoIXRoaXMuX2lzRHJhdzIpXG4gICAgICAgICAgICB0aGlzLmRyYXdQYWdlMSgpO1xuICAgIH0sXG4gICAgZXZlbnRHb3RvUGFnZTEoKXtcbiAgICAgICAgdGhpcy5idG5CYWNrLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ0bk5leHQuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zb2lDYXUxLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc29pQ2F1Mi5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG59KTtcblxuIl19