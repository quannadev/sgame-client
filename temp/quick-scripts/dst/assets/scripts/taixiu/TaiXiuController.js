
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/taixiu/TaiXiuController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8222d9/7m9Mbp+Qjjj1G4rC', 'TaiXiuController');
// scripts/taixiu/TaiXiuController.js

"use strict";

var TaiXiuEvent = require('TaiXiuEvent');

var TaiXiuController = SmartFoxSDK.BaseController.extend({
  m_tableInfo: null,
  registerEvents: function registerEvents() {
    this._super();

    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.LOAD_GAME_RES, this.onLoadGameEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.BET_RES, this.onUserBetEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.END_BETTING, this.onEndBettingEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.SESSION_DETAIL, this.onSessionDetailEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.SOI_CAU_RES, this.onSoiCauEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TAN_LOC, this.onTanLocEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.RUT_LOC, this.onRutLocEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.HISTORY_TAN_LOC, this.onHistoryTanLocEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.HISTORY_RUT_LOC, this.onHistoryRutLocEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_BET, this.onTopBetEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_BET_REWARD, this.onTopBetRewardEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_BET_RULE, this.onTopBetRuleEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.RANK_TAN_LOC, this.onRankTanLocEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.RANK_RUT_LOC, this.onRankRutLocEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.PUBLIC_MSG, this.onPublicMessageChat, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_REWARD_RES, this.onTopRewardResEvent, this);
    this.ZoneInstance.addEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.UPDATE_STATE_POT, this.onUpdateStatePot, this);
  },
  removeEvents: function removeEvents() {
    this._super();

    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.LOAD_GAME_RES, this.onLoadGameEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.BET_RES, this.onUserBetEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.END_BETTING, this.onEndBettingEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.SESSION_DETAIL, this.onSessionDetailEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.SOI_CAU_RES, this.onSoiCauEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TAN_LOC, this.onTanLocEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.RUT_LOC, this.onRutLocEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.HISTORY_TAN_LOC, this.onHistoryTanLocEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.HISTORY_RUT_LOC, this.onHistoryRutLocEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_BET, this.onTopBetEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_BET_REWARD, this.onTopBetRewardEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_BET_RULE, this.onTopBetRuleEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.RANK_TAN_LOC, this.onRankTanLocEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.RANK_RUT_LOC, this.onRankRutLocEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.PUBLIC_MSG, this.onPublicMessageChat, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.TOP_REWARD_RES, this.onTopRewardResEvent, this);
    this.ZoneInstance.removeEventListenerExtension(TaiXiuEvent.RESPONSE_NAME.UPDATE_STATE_POT, this.onUpdateStatePot, this);
  },
  onEventLogin: function onEventLogin(event) {
    this._super(event);

    this._requestJoinRoom(this.zoneName);
  },
  onPublicMessage: function onPublicMessage(event) {
    var sender = event.sender;
    var msg = event.message;
    var data = event.data;
    var dataSender = data != null ? {
      dn: data.get("dn"),
      fb: data.get("fb")
    } : {
      dn: "...",
      fb: ""
    };
    var msgItem = {};
    msgItem.sender = sender;
    msgItem.msg = msg;
    msgItem.dataSender = dataSender;
    this.getUI().onPublicMessage(msgItem);
  },
  onPublicMessageChat: function onPublicMessageChat(event) {
    var publicMsg = new TaiXiuEvent.PublicMessagecEvent().fromEvent(event);
    var msgItem = {};
    var sender = {};
    sender.dn = publicMsg.un;
    msgItem.sender = sender;
    msgItem.msg = publicMsg.msg;
    msgItem.dataSender = {};
    msgItem.dataSender.dn = sender.dn;
    this.getUI().onPublicMessage(msgItem);
  },
  onHistoryEvent: function onHistoryEvent(event) {
    var data = event.getSArray("d");
    var items = [];

    for (var i = 0; i < data.size(); i++) {
      var sItem = data.get(i).getObject();
      var item = {};
      item.session = sItem.getDouble("id").toFixed(0);
      item.time = sItem.getUtfString("t");
      item.stakes = sItem.getDouble("b");
      item.win = sItem.getDouble("w");
      item.refund = sItem.getDouble("rf");
      var result = sItem.getByteArray("rs");
      item.result = result;
      item.cua = this._getNameResult(result);
      items.push(item);
    }

    this.getUI().updateDataHistory(items); // UIManger.show("UITaiXiuTransaction", {pop: true, src: 'taixiu', data: {items: items}});
  },
  _getNameResult: function _getNameResult(result) {
    var cua = 'Tài';
    var point = 0;

    for (var i = 0; i < result.length; i++) {
      point += result[i];
    }

    if (point <= 10) return "Xỉu";
    return cua;
  },
  onLeaderBoardEvent: function onLeaderBoardEvent(event) {
    var data = event.getSArray("d");
    var items = [];

    for (var i = 0; i < data.size(); i++) {
      var sItem = data.get(i).getObject();
      var item = {};
      item.session = i;
      item.account = sItem.getUtfString("dn");
      item.win = sItem.getDouble("m");
      item.time = sItem.getUtfString("t");
      item.win_type = "Thắng";
      items.push(item);
    }

    this.getUI().updateDataRank(items); // UIManger.show("UITaiXiuRank", {pop: true, src: 'taixiu', data: {items: items}});
  },
  onEventUserExitRoom: function onEventUserExitRoom(event) {
    var user = event.user;

    if (user.isItMe) {
      cc.currentUI = "";
      mm.Loading.hide();
      this.getUI().back();
    }
  },
  onLoadGameEvent: function onLoadGameEvent(event) {
    this.preLoadUI({
      pop: true
    }, function () {
      this.m_tableInfo = new TaiXiuEvent.LoadGameEvent().fromEvent(event);
      cc.lastTime = this.m_tableInfo.time + new Date().getTime() / 1000;
      this.getUI().setPrepareBet(["Đặt", "Đặt"]);
      this.getUI().controller = this;
      this.getUI().showGame(this.m_tableInfo.allowRutlLoc, this.m_tableInfo.fundRutloc);
      this.getUI().resetBetTaiXiu();
      this.getUI().updateListChat(this.m_tableInfo.listChat);
      this.getUI().showListUsers(this.m_tableInfo.listUsers);
      this.getUI().updateSessionId(cc.listCau[cc.listCau.length - 1].sessionId);
      this.getUI().updateListCau();
      this.resumeGame();
    }.bind(this));
  },
  resumeGame: function resumeGame() {
    if (this.m_tableInfo != null) {
      this.m_tableInfo.time = Math.floor(cc.lastTime - new Date().getTime() / 1000);
      this.getUI().showListChipBet(this.m_tableInfo.listChipPot);
      this.getUI().showListMyChipBet(this.m_tableInfo.listMyChipPot);

      this.getUI()._turnOfTime();

      this.getUI().hideResultNumber();
      this.getUI().hide3D();
      this.getUI().stopEffectResult();

      if (this.m_tableInfo.isBetting) {
        this.getUI()._turnOnTime(this.m_tableInfo.time);
      } else {
        this.getUI().cancua(this.m_tableInfo.time);
      }
    }
  },
  onUpdateStatePot: function onUpdateStatePot(event) {
    if (this.getUI() == null) return;
    var statePot = new TaiXiuEvent.UpdateStatePotEvent().fromEvent(event);
    this.m_tableInfo.listChipPot[0] = statePot.potTai;
    this.m_tableInfo.listChipPot[1] = statePot.potXiu;
    this.getUI().showListChipBet(this.m_tableInfo.listChipPot);
    this.getUI().showListUsers([statePot.ccuTai, statePot.ccuXiu]);
  },
  onUserBetEvent: function onUserBetEvent(event) {
    if (this.getUI() == null) return;
    var userBet = new TaiXiuEvent.BetEvent().fromEvent(event);
    var userName = userBet.userName;
    var betChip = userBet.betChip;
    var typePot = userBet.typePot;
    this.m_tableInfo.listChipPot[typePot] += betChip;
    this.getUI().showListChipBet(this.m_tableInfo.listChipPot);
    this.getUI().showListUsers(userBet.listUsers);

    if (this.ZoneInstance.mySelf.name == userName) {
      this.m_tableInfo.listMyChipPot[typePot] += betChip;
      this.getUI().showListMyChipBet(this.m_tableInfo.listMyChipPot);
      this.getUI().setPrepareBet(["Đặt", "Đặt"]);
      this.getUI()._currentBet = 0;
      this.getUI().updateChipAll();
    }
  },
  onEndBettingEvent: function onEndBettingEvent(event) {
    if (this.getUI() == null) return;
    var endBetting = new TaiXiuEvent.EndBetting().fromEvent(event);
    this.m_tableInfo.isBetting = false;
    this.m_tableInfo.refundChip = endBetting.refundChip;
    this.m_tableInfo.winChip = endBetting.winChip;
    this.m_tableInfo.result = endBetting.result;
    this.m_tableInfo.playType = endBetting.playType;
    this.getUI().updateThangThua(this.m_tableInfo.playType); // this.getUI().cancua(16);
    // this.getUI().updateDataCau();

    cc.lastTime = 16.5 + new Date().getTime() / 1000;
    this.getUI().updateDataCau();
    this.getUI().isPlayedAnimation = false;
    this.resumeGame();
  },
  onSessionDetailEvent: function onSessionDetailEvent(event) {
    if (this.getUI() == null) return;
    var sessionDetail = new TaiXiuEvent.SessionDetail().fromEvent(event);
    this.getUI().updateDataSessionDetail(sessionDetail); // UIManger.show("UITaiXiuSessionDetail", {pop: true, src: 'taixiu', data: sessionDetail});
  },
  onSoiCauEvent: function onSoiCauEvent(event) {
    if (this.getUI() == null) return;
    var listCau = new TaiXiuEvent.SoiCauEvent().fromEvent(event);
    this.getUI().updateTaiXiuSoiCau(listCau); // UIManger.show("UITaiXiuSoiCau", {pop: true, src: 'taixiu', data: listCau});
  },
  onTanLocEvent: function onTanLocEvent(event) {
    if (this.getUI() == null) return;
    var tanLoc = new TaiXiuEvent.TanLocEvent().fromEvent(event);
    var uiTanLoc = this.getUIByName("UITaiXiuTanLoc");
    if (uiTanLoc != null) uiTanLoc.tanLocRes(tanLoc);
    this.getUI().showGame(null, tanLoc.fund);
    this.onEventUpdateChip(0);
  },
  onRutLocEvent: function onRutLocEvent(event) {
    if (this.getUI() == null) return;
    var rutLoc = new TaiXiuEvent.RutLocEvent().fromEvent(event);
    this.getUI().showResultRutLoc(rutLoc);
    this.getUI().showGame(null, rutLoc.fund);
    this.onEventUpdateChip(0);
  },
  onHistoryTanLocEvent: function onHistoryTanLocEvent(event) {
    if (this.getUI() == null) return;
    var historyTanLoc = new TaiXiuEvent.HistoryTanLocEvent().fromEvent(event);
    var uiTanLoc = this.getUIByName("UITaiXiuDuaTop");
    if (uiTanLoc != null) uiTanLoc.updateDataList(historyTanLoc);
  },
  onHistoryRutLocEvent: function onHistoryRutLocEvent(event) {
    if (this.getUI() == null) return;
    var historyRutLoc = new TaiXiuEvent.HistoryRutLocEvent().fromEvent(event);
    var uiTanLoc = this.getUIByName("UITaiXiuDuaTop");
    if (uiTanLoc != null) uiTanLoc.updateDataList(historyRutLoc);
  },
  onTopBetEvent: function onTopBetEvent(event) {
    if (this.getUI() == null) return;
    var listTopBet = new TaiXiuEvent.TopBetEvent().fromEvent(event);
    var uiTanLoc = this.getUIByName("UITaiXiuDuaTop");
    if (uiTanLoc != null) uiTanLoc.updateDataList(listTopBet);
  },
  onTopBetRewardEvent: function onTopBetRewardEvent(event) {
    if (this.getUI() == null) return;
    var betReward = new TaiXiuEvent.TopBetRewardEvent().fromEvent(event);
    if (this.getUI() == null) return;
    this.getUI().showReward(betReward);
  },
  onTopBetRuleEvent: function onTopBetRuleEvent(event) {
    if (this.getUI() == null) return;
    var listTopBetRule = new TaiXiuEvent.TopBetRuleEvent().fromEvent(event);
    var uiTanLoc = this.getUIByName("UITaiXiuDuaTop");
    if (uiTanLoc != null) uiTanLoc.updateDataList(listTopBetRule);
  },
  onRankTanLocEvent: function onRankTanLocEvent(event) {
    if (this.getUI() == null) return;
    var rankTanLoc = new TaiXiuEvent.RankTanLocEvent().fromEvent(event);
    var uiTanLoc = this.getUIByName("UITaiXiuDuaTop");
    if (uiTanLoc != null) uiTanLoc.updateDataList(rankTanLoc);
  },
  onRankRutLocEvent: function onRankRutLocEvent(event) {
    if (this.getUI() == null) return;
    var rankRutLoc = new TaiXiuEvent.RankRutLocEvent().fromEvent(event);
    var uiTanLoc = this.getUIByName("UITaiXiuDuaTop");
    if (uiTanLoc != null) uiTanLoc.updateDataList(rankRutLoc);
  },
  onTopRewardResEvent: function onTopRewardResEvent(event) {
    if (this.getUI() == null) return;
    var topReward = new TaiXiuEvent.TopRewardResEvent().fromEvent(event);
    var uiTanLoc = this.getUIByName("UITaiXiuDuaTop");
    if (topReward != null) uiTanLoc.updateDataList(topReward);
  }
});
var instance = null;

var getInstance = function getInstance() {
  if (instance == null) instance = new TaiXiuController("UITaiXiu", "taixiu");
  return instance;
};

SmartFoxSDK.TaiXiuController = module.exports = getInstance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHRzL3RhaXhpdS9UYWlYaXVDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIlRhaVhpdUV2ZW50IiwicmVxdWlyZSIsIlRhaVhpdUNvbnRyb2xsZXIiLCJTbWFydEZveFNESyIsIkJhc2VDb250cm9sbGVyIiwiZXh0ZW5kIiwibV90YWJsZUluZm8iLCJyZWdpc3RlckV2ZW50cyIsIl9zdXBlciIsIlpvbmVJbnN0YW5jZSIsImFkZEV2ZW50TGlzdGVuZXJFeHRlbnNpb24iLCJSRVNQT05TRV9OQU1FIiwiTE9BRF9HQU1FX1JFUyIsIm9uTG9hZEdhbWVFdmVudCIsIkJFVF9SRVMiLCJvblVzZXJCZXRFdmVudCIsIkVORF9CRVRUSU5HIiwib25FbmRCZXR0aW5nRXZlbnQiLCJTRVNTSU9OX0RFVEFJTCIsIm9uU2Vzc2lvbkRldGFpbEV2ZW50IiwiU09JX0NBVV9SRVMiLCJvblNvaUNhdUV2ZW50IiwiVEFOX0xPQyIsIm9uVGFuTG9jRXZlbnQiLCJSVVRfTE9DIiwib25SdXRMb2NFdmVudCIsIkhJU1RPUllfVEFOX0xPQyIsIm9uSGlzdG9yeVRhbkxvY0V2ZW50IiwiSElTVE9SWV9SVVRfTE9DIiwib25IaXN0b3J5UnV0TG9jRXZlbnQiLCJUT1BfQkVUIiwib25Ub3BCZXRFdmVudCIsIlRPUF9CRVRfUkVXQVJEIiwib25Ub3BCZXRSZXdhcmRFdmVudCIsIlRPUF9CRVRfUlVMRSIsIm9uVG9wQmV0UnVsZUV2ZW50IiwiUkFOS19UQU5fTE9DIiwib25SYW5rVGFuTG9jRXZlbnQiLCJSQU5LX1JVVF9MT0MiLCJvblJhbmtSdXRMb2NFdmVudCIsIlBVQkxJQ19NU0ciLCJvblB1YmxpY01lc3NhZ2VDaGF0IiwiVE9QX1JFV0FSRF9SRVMiLCJvblRvcFJld2FyZFJlc0V2ZW50IiwiVVBEQVRFX1NUQVRFX1BPVCIsIm9uVXBkYXRlU3RhdGVQb3QiLCJyZW1vdmVFdmVudHMiLCJyZW1vdmVFdmVudExpc3RlbmVyRXh0ZW5zaW9uIiwib25FdmVudExvZ2luIiwiZXZlbnQiLCJfcmVxdWVzdEpvaW5Sb29tIiwiem9uZU5hbWUiLCJvblB1YmxpY01lc3NhZ2UiLCJzZW5kZXIiLCJtc2ciLCJtZXNzYWdlIiwiZGF0YSIsImRhdGFTZW5kZXIiLCJkbiIsImdldCIsImZiIiwibXNnSXRlbSIsImdldFVJIiwicHVibGljTXNnIiwiUHVibGljTWVzc2FnZWNFdmVudCIsImZyb21FdmVudCIsInVuIiwib25IaXN0b3J5RXZlbnQiLCJnZXRTQXJyYXkiLCJpdGVtcyIsImkiLCJzaXplIiwic0l0ZW0iLCJnZXRPYmplY3QiLCJpdGVtIiwic2Vzc2lvbiIsImdldERvdWJsZSIsInRvRml4ZWQiLCJ0aW1lIiwiZ2V0VXRmU3RyaW5nIiwic3Rha2VzIiwid2luIiwicmVmdW5kIiwicmVzdWx0IiwiZ2V0Qnl0ZUFycmF5IiwiY3VhIiwiX2dldE5hbWVSZXN1bHQiLCJwdXNoIiwidXBkYXRlRGF0YUhpc3RvcnkiLCJwb2ludCIsImxlbmd0aCIsIm9uTGVhZGVyQm9hcmRFdmVudCIsImFjY291bnQiLCJ3aW5fdHlwZSIsInVwZGF0ZURhdGFSYW5rIiwib25FdmVudFVzZXJFeGl0Um9vbSIsInVzZXIiLCJpc0l0TWUiLCJjYyIsImN1cnJlbnRVSSIsIm1tIiwiTG9hZGluZyIsImhpZGUiLCJiYWNrIiwicHJlTG9hZFVJIiwicG9wIiwiTG9hZEdhbWVFdmVudCIsImxhc3RUaW1lIiwiRGF0ZSIsImdldFRpbWUiLCJzZXRQcmVwYXJlQmV0IiwiY29udHJvbGxlciIsInNob3dHYW1lIiwiYWxsb3dSdXRsTG9jIiwiZnVuZFJ1dGxvYyIsInJlc2V0QmV0VGFpWGl1IiwidXBkYXRlTGlzdENoYXQiLCJsaXN0Q2hhdCIsInNob3dMaXN0VXNlcnMiLCJsaXN0VXNlcnMiLCJ1cGRhdGVTZXNzaW9uSWQiLCJsaXN0Q2F1Iiwic2Vzc2lvbklkIiwidXBkYXRlTGlzdENhdSIsInJlc3VtZUdhbWUiLCJiaW5kIiwiTWF0aCIsImZsb29yIiwic2hvd0xpc3RDaGlwQmV0IiwibGlzdENoaXBQb3QiLCJzaG93TGlzdE15Q2hpcEJldCIsImxpc3RNeUNoaXBQb3QiLCJfdHVybk9mVGltZSIsImhpZGVSZXN1bHROdW1iZXIiLCJoaWRlM0QiLCJzdG9wRWZmZWN0UmVzdWx0IiwiaXNCZXR0aW5nIiwiX3R1cm5PblRpbWUiLCJjYW5jdWEiLCJzdGF0ZVBvdCIsIlVwZGF0ZVN0YXRlUG90RXZlbnQiLCJwb3RUYWkiLCJwb3RYaXUiLCJjY3VUYWkiLCJjY3VYaXUiLCJ1c2VyQmV0IiwiQmV0RXZlbnQiLCJ1c2VyTmFtZSIsImJldENoaXAiLCJ0eXBlUG90IiwibXlTZWxmIiwibmFtZSIsIl9jdXJyZW50QmV0IiwidXBkYXRlQ2hpcEFsbCIsImVuZEJldHRpbmciLCJFbmRCZXR0aW5nIiwicmVmdW5kQ2hpcCIsIndpbkNoaXAiLCJwbGF5VHlwZSIsInVwZGF0ZVRoYW5nVGh1YSIsInVwZGF0ZURhdGFDYXUiLCJpc1BsYXllZEFuaW1hdGlvbiIsInNlc3Npb25EZXRhaWwiLCJTZXNzaW9uRGV0YWlsIiwidXBkYXRlRGF0YVNlc3Npb25EZXRhaWwiLCJTb2lDYXVFdmVudCIsInVwZGF0ZVRhaVhpdVNvaUNhdSIsInRhbkxvYyIsIlRhbkxvY0V2ZW50IiwidWlUYW5Mb2MiLCJnZXRVSUJ5TmFtZSIsInRhbkxvY1JlcyIsImZ1bmQiLCJvbkV2ZW50VXBkYXRlQ2hpcCIsInJ1dExvYyIsIlJ1dExvY0V2ZW50Iiwic2hvd1Jlc3VsdFJ1dExvYyIsImhpc3RvcnlUYW5Mb2MiLCJIaXN0b3J5VGFuTG9jRXZlbnQiLCJ1cGRhdGVEYXRhTGlzdCIsImhpc3RvcnlSdXRMb2MiLCJIaXN0b3J5UnV0TG9jRXZlbnQiLCJsaXN0VG9wQmV0IiwiVG9wQmV0RXZlbnQiLCJiZXRSZXdhcmQiLCJUb3BCZXRSZXdhcmRFdmVudCIsInNob3dSZXdhcmQiLCJsaXN0VG9wQmV0UnVsZSIsIlRvcEJldFJ1bGVFdmVudCIsInJhbmtUYW5Mb2MiLCJSYW5rVGFuTG9jRXZlbnQiLCJyYW5rUnV0TG9jIiwiUmFua1J1dExvY0V2ZW50IiwidG9wUmV3YXJkIiwiVG9wUmV3YXJkUmVzRXZlbnQiLCJpbnN0YW5jZSIsImdldEluc3RhbmNlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxXQUFXLEdBQUdDLE9BQU8sQ0FBQyxhQUFELENBQXpCOztBQUNBLElBQUlDLGdCQUFnQixHQUFHQyxXQUFXLENBQUNDLGNBQVosQ0FBMkJDLE1BQTNCLENBQWtDO0FBQ3JEQyxFQUFBQSxXQUFXLEVBQUcsSUFEdUM7QUFFckRDLEVBQUFBLGNBRnFELDRCQUVyQztBQUNaLFNBQUtDLE1BQUw7O0FBRUEsU0FBS0MsWUFBTCxDQUFrQkMseUJBQWxCLENBQTRDVixXQUFXLENBQUNXLGFBQVosQ0FBMEJDLGFBQXRFLEVBQXFGLEtBQUtDLGVBQTFGLEVBQTJHLElBQTNHO0FBQ0EsU0FBS0osWUFBTCxDQUFrQkMseUJBQWxCLENBQTRDVixXQUFXLENBQUNXLGFBQVosQ0FBMEJHLE9BQXRFLEVBQStFLEtBQUtDLGNBQXBGLEVBQW9HLElBQXBHO0FBQ0EsU0FBS04sWUFBTCxDQUFrQkMseUJBQWxCLENBQTRDVixXQUFXLENBQUNXLGFBQVosQ0FBMEJLLFdBQXRFLEVBQW1GLEtBQUtDLGlCQUF4RixFQUEyRyxJQUEzRztBQUNBLFNBQUtSLFlBQUwsQ0FBa0JDLHlCQUFsQixDQUE0Q1YsV0FBVyxDQUFDVyxhQUFaLENBQTBCTyxjQUF0RSxFQUFzRixLQUFLQyxvQkFBM0YsRUFBaUgsSUFBakg7QUFDQSxTQUFLVixZQUFMLENBQWtCQyx5QkFBbEIsQ0FBNENWLFdBQVcsQ0FBQ1csYUFBWixDQUEwQlMsV0FBdEUsRUFBbUYsS0FBS0MsYUFBeEYsRUFBdUcsSUFBdkc7QUFDQSxTQUFLWixZQUFMLENBQWtCQyx5QkFBbEIsQ0FBNENWLFdBQVcsQ0FBQ1csYUFBWixDQUEwQlcsT0FBdEUsRUFBK0UsS0FBS0MsYUFBcEYsRUFBbUcsSUFBbkc7QUFDQSxTQUFLZCxZQUFMLENBQWtCQyx5QkFBbEIsQ0FBNENWLFdBQVcsQ0FB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QUFuQixFQUNJO0FBQ0osUUFBSWlJLFVBQVUsR0FBRyxJQUFJL0wsV0FBVyxDQUFDZ00sZUFBaEIsR0FBa0MvSCxTQUFsQyxDQUE0Q2hCLEtBQTVDLENBQWpCO0FBQ0EsUUFBSXdILFFBQVEsR0FBRyxLQUFLQyxXQUFMLENBQWlCLGdCQUFqQixDQUFmO0FBQ0EsUUFBSUQsUUFBUSxJQUFHLElBQWYsRUFDSUEsUUFBUSxDQUFDVSxjQUFULENBQXdCWSxVQUF4QjtBQUNQLEdBL1JvRDtBQWdTckRwSixFQUFBQSxtQkFoU3FELCtCQWdTakNNLEtBaFNpQyxFQWdTMUI7QUFDdkIsUUFBRyxLQUFLYSxLQUFMLE1BQWdCLElBQW5CLEVBQ0k7QUFDSixRQUFJbUksU0FBUyxHQUFHLElBQUlqTSxXQUFXLENBQUNrTSxpQkFBaEIsR0FBb0NqSSxTQUFwQyxDQUE4Q2hCLEtBQTlDLENBQWhCO0FBQ0EsUUFBSXdILFFBQVEsR0FBRyxLQUFLQyxXQUFMLENBQWlCLGdCQUFqQixDQUFmO0FBQ0EsUUFBSXVCLFNBQVMsSUFBRyxJQUFoQixFQUNJeEIsUUFBUSxDQUFDVSxjQUFULENBQXdCYyxTQUF4QjtBQUNQO0FBdlNvRCxDQUFsQyxDQUF2QjtBQXlTQSxJQUFJRSxRQUFRLEdBQUcsSUFBZjs7QUFDQSxJQUFJQyxXQUFXLEdBQUcsU0FBZEEsV0FBYyxHQUFZO0FBQzFCLE1BQUdELFFBQVEsSUFBSSxJQUFmLEVBQ0lBLFFBQVEsR0FBRyxJQUFJak0sZ0JBQUosQ0FBcUIsVUFBckIsRUFBaUMsUUFBakMsQ0FBWDtBQUNKLFNBQU9pTSxRQUFQO0FBQ0gsQ0FKRDs7QUFLQWhNLFdBQVcsQ0FBQ0QsZ0JBQVosR0FBK0JtTSxNQUFNLENBQUNDLE9BQVAsR0FBaUJGLFdBQVcsRUFBM0QiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImxldCBUYWlYaXVFdmVudCA9IHJlcXVpcmUoJ1RhaVhpdUV2ZW50JylcbmxldCBUYWlYaXVDb250cm9sbGVyID0gU21hcnRGb3hTREsuQmFzZUNvbnRyb2xsZXIuZXh0ZW5kKHtcbiAgICBtX3RhYmxlSW5mbyA6IG51bGwsXG4gICAgcmVnaXN0ZXJFdmVudHMoKXtcbiAgICAgICAgdGhpcy5fc3VwZXIoKTtcblxuICAgICAgICB0aGlzLlpvbmVJbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyRXh0ZW5zaW9uKFRhaVhpdUV2ZW50LlJFU1BPTlNFX05BTUUuTE9BRF9HQU1FX1JFUywgdGhpcy5vbkxvYWRHYW1lRXZlbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLlpvbmVJbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyRXh0ZW5zaW9uKFRhaVhpdUV2ZW50LlJFU1BPTlNFX05BTUUuQkVUX1JFUywgdGhpcy5vblVzZXJCZXRFdmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuWm9uZUluc3RhbmNlLmFkZEV2ZW50TGlzdGVuZXJFeHRlbnNpb24oVGFpWGl1RXZlbnQuUkVTUE9OU0VfTkFNRS5FTkRfQkVUVElORywgdGhpcy5vbkVuZEJldHRpbmdFdmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuWm9uZUluc3RhbmNlLmFkZEV2ZW50TGlzdGVuZXJFeHRlbnNpb24oVGFpWGl1RXZlbnQuUkVTUE9OU0VfTkFNRS5TRVNTSU9OX0RFVEFJTCwgdGhpcy5vblNlc3Npb25EZXRhaWxFdmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuWm9uZUluc3RhbmNlLmFkZEV2ZW50TGlzdGVuZXJFeHRlbnNpb24oVGFpWGl1RXZlbnQuUkVTUE9OU0VfTkFNRS5TT0lfQ0FVX1JFUywgdGhpcy5vblNvaUNhdUV2ZW50LCB0aGlzKTtcbiAgICAgICAgdGhpcy5ab25lSW5zdGFuY2UuYWRkRXZlbnRMaXN0ZW5lckV4dGVuc2lvbihUYWlYaXVFdmVudC5SRVNQT05TRV9OQU1FLlRBTl9MT0MsIHRoaXMub25UYW5Mb2NFdmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuWm9uZUluc3RhbmNlLmFkZEV2ZW50TGlzdGVuZXJFeHRlbnNpb24oVGFpWGl1RXZlbnQuUkVTUE9OU0VfTkFNRS5SVVRfTE9DLCB0aGlzLm9uUnV0TG9jRXZlbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLlpvbmVJbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyRXh0ZW5zaW9uKFRhaVhpdUV2ZW50LlJFU1BPTlNFX05BTUUuSElTVE9SWV9UQU5fTE9DLCB0aGlzLm9uSGlzdG9yeVRhbkxvY0V2ZW50LCB0aGlzKTtcbiAgICAgICAgdGhpcy5ab25lSW5zdGFuY2UuYWRkRXZlbnRMaXN0ZW5lckV4dGVuc2lvbihUYWlYaXVFdmVudC5SRVNQT05TRV9OQU1FLkhJU1RPUllfUlVUX0xPQywgdGhpcy5vbkhpc3RvcnlSdXRMb2NFdmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuWm9uZUluc3RhbmNlLmFkZEV2ZW50TGlzdGVuZXJFeHRlbnNpb24oVGFpWGl1RXZlbnQuUkVTUE9OU0VfTkFNRS5UT1BfQkVULCB0aGlzLm9uVG9wQmV0RXZlbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLlpvbmVJbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyRXh0ZW5zaW9uKFRhaVhpdUV2ZW50LlJFU1BPTlNFX05BTUUuVE9QX0JFVF9SRVdBUkQsIHRoaXMub25Ub3BCZXRSZXdhcmRFdmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuWm9uZUluc3RhbmNlLmFkZEV2ZW50TGlzdGVuZXJFeHRlbnNpb24oVGFpWGl1RXZlbnQuUkVTUE9OU0VfTkFNRS5UT1BfQkVUX1JVTEUsIHRoaXMub25Ub3BCZXRSdWxlRXZlbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLlpvbmVJbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyRXh0ZW5zaW9uKFRhaVhpdUV2ZW50LlJFU1BPTlNFX05BTUUuUkFOS19UQU5fTE9DLCB0aGlzLm9uUmFua1RhbkxvY0V2ZW50LCB0aGlzKTtcbiAgICAgICAgdGhpcy5ab25lSW5zdGFuY2UuYWRkRXZlbnRMaXN0ZW5lckV4dGVuc2lvbihUYWlYaXVFdmVudC5SRVNQT05TRV9OQU1FLlJBTktfUlVUX0xPQywgdGhpcy5vblJhbmtSdXRMb2NFdmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuWm9uZUluc3RhbmNlLmFkZEV2ZW50TGlzdGVuZXJFeHRlbnNpb24oVGFpWGl1RXZlbnQuUkVTUE9OU0VfTkFNRS5QVUJMSUNfTVNHLCB0aGlzLm9uUHVibGljTWVzc2FnZUNoYXQsIHRoaXMpO1xuICAgICAgICB0aGlzLlpvbmVJbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyRXh0ZW5zaW9uKFRhaVhpdUV2ZW50LlJFU1BPTlNFX05BTUUuVE9QX1JFV0FSRF9SRVMsIHRoaXMub25Ub3BSZXdhcmRSZXNFdmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuWm9uZUluc3RhbmNlLmFkZEV2ZW50TGlzdGVuZXJFeHRlbnNpb24oVGFpWGl1RXZlbnQuUkVTUE9OU0VfTkFNRS5VUERBVEVfU1RBVEVfUE9ULCB0aGlzLm9uVXBkYXRlU3RhdGVQb3QsIHRoaXMpO1xuICAgIH0sXG4gICAgcmVtb3ZlRXZlbnRzKCl7XG4gICAgICAgIHRoaXMuX3N1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5ab25lSW5zdGFuY2UucmVtb3ZlRXZlbnRMaXN0ZW5lckV4dGVuc2lvbihUYWlYaXVFdmVudC5SRVNQT05TRV9OQU1FLkxPQURfR0FNRV9SRVMsIHRoaXMub25Mb2FkR2FtZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgdGhpcy5ab25lSW5zdGFuY2UucmVtb3ZlRXZlbnRMaXN0ZW5lckV4dGVuc2lvbihUYWlYaXVFdmVudC5SRVNQT05TRV9OQU1FLkJFVF9SRVMsIHRoaXMub25Vc2VyQmV0RXZlbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLlpvbmVJbnN0YW5jZS5yZW1vdmVFdmVudExpc3RlbmVyRXh0ZW5zaW9uKFRhaVhpdUV2ZW50LlJFU1BPTlNFX05BTUUuRU5EX0JFVFRJTkcsIHRoaXMub25FbmRCZXR0aW5nRXZlbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLlpvbmVJbnN0YW5jZS5yZW1vdmVFdmVudExpc3RlbmVyRXh0ZW5zaW9uKFRhaVhpdUV2ZW50LlJFU1BPTlNFX05BTUUuU0VTU0lPTl9ERVRBSUwsIHRoaXMub25TZXNzaW9uRGV0YWlsRXZlbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLlpvbmVJbnN0YW5jZS5yZW1vdmVFdmVudExpc3RlbmVyRXh0ZW5zaW9uKFRhaVhpdUV2ZW50LlJFU1BPTlNFX05BTUUuU09JX0NBVV9SRVMsIHRoaXMub25Tb2lDYXVFdmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuWm9uZUluc3RhbmNlLnJlbW92ZUV2ZW50TGlzdGVuZXJFeHRlbnNpb24oVGFpWGl1RXZlbnQuUkVTUE9OU0VfTkFNRS5UQU5fTE9DLCB0aGlzLm9uVGFuTG9jRXZlbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLlpvbmVJbnN0YW5jZS5yZW1vdmVFdmVudExpc3RlbmVyRXh0ZW5zaW9uKFRhaVhpdUV2ZW50LlJFU1BPTlNFX05BTUUuUlVUX0xPQywgdGhpcy5vblJ1dExvY0V2ZW50LCB0aGlzKTtcbiAgICAgICAgdGhpcy5ab25lSW5zdGFuY2UucmVtb3ZlRXZlbnRMaXN0ZW5lckV4dGVuc2lvbihUYWlYaXVFdmVudC5SRVNQT05TRV9OQU1FLkhJU1RPUllfVEFOX0xPQywgdGhpcy5vbkhpc3RvcnlUYW5Mb2NFdmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuWm9uZUluc3RhbmNlLnJlbW92ZUV2ZW50TGlzdGVuZXJFeHRlbnNpb24oVGFpWGl1RXZlbnQuUkVTUE9OU0VfTkFNRS5ISVNUT1JZX1JVVF9MT0MsIHRoaXMub25IaXN0b3J5UnV0TG9jRXZlbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLlpvbmVJbnN0YW5jZS5yZW1vdmVFdmVudExpc3RlbmVyRXh0ZW5zaW9uKFRhaVhpdUV2ZW50LlJFU1BPTlNFX05BTUUuVE9QX0JFVCwgdGhpcy5vblRvcEJldEV2ZW50LCB0aGlzKTtcbiAgICAgICAgdGhpcy5ab25lSW5zdGFuY2UucmVtb3ZlRXZlbnRMaXN0ZW5lckV4dGVuc2lvbihUYWlYaXVFdmVudC5SRVNQT05TRV9OQU1FLlRPUF9CRVRfUkVXQVJELCB0aGlzLm9uVG9wQmV0UmV3YXJkRXZlbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLlpvbmVJbnN0YW5jZS5yZW1vdmVFdmVudExpc3RlbmVyRXh0ZW5zaW9uKFRhaVhpdUV2ZW50LlJFU1BPTlNFX05BTUUuVE9QX0JFVF9SVUxFLCB0aGlzLm9uVG9wQmV0UnVsZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgdGhpcy5ab25lSW5zdGFuY2UucmVtb3ZlRXZlbnRMaXN0ZW5lckV4dGVuc2lvbihUYWlYaXVFdmVudC5SRVNQT05TRV9OQU1FLlJBTktfVEFOX0xPQywgdGhpcy5vblJhbmtUYW5Mb2NFdmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuWm9uZUluc3RhbmNlLnJlbW92ZUV2ZW50TGlzdGVuZXJFeHRlbnNpb24oVGFpWGl1RXZlbnQuUkVTUE9OU0VfTkFNRS5SQU5LX1JVVF9MT0MsIHRoaXMub25SYW5rUnV0TG9jRXZlbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLlpvbmVJbnN0YW5jZS5yZW1vdmVFdmVudExpc3RlbmVyRXh0ZW5zaW9uKFRhaVhpdUV2ZW50LlJFU1BPTlNFX05BTUUuUFVCTElDX01TRywgdGhpcy5vblB1YmxpY01lc3NhZ2VDaGF0LCB0aGlzKTtcbiAgICAgICAgdGhpcy5ab25lSW5zdGFuY2UucmVtb3ZlRXZlbnRMaXN0ZW5lckV4dGVuc2lvbihUYWlYaXVFdmVudC5SRVNQT05TRV9OQU1FLlRPUF9SRVdBUkRfUkVTLCB0aGlzLm9uVG9wUmV3YXJkUmVzRXZlbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLlpvbmVJbnN0YW5jZS5yZW1vdmVFdmVudExpc3RlbmVyRXh0ZW5zaW9uKFRhaVhpdUV2ZW50LlJFU1BPTlNFX05BTUUuVVBEQVRFX1NUQVRFX1BPVCwgdGhpcy5vblVwZGF0ZVN0YXRlUG90LCB0aGlzKTtcbiAgICB9LFxuICAgIG9uRXZlbnRMb2dpbihldmVudCl7XG4gICAgICAgIHRoaXMuX3N1cGVyKGV2ZW50KTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEpvaW5Sb29tKHRoaXMuem9uZU5hbWUpO1xuICAgIH0sXG4gICAgb25QdWJsaWNNZXNzYWdlKGV2ZW50KXtcbiAgICAgICAgbGV0IHNlbmRlciA9IGV2ZW50LnNlbmRlcjtcbiAgICAgICAgbGV0IG1zZyA9IGV2ZW50Lm1lc3NhZ2U7XG4gICAgICAgIGxldCBkYXRhID0gZXZlbnQuZGF0YTtcbiAgICAgICAgbGV0IGRhdGFTZW5kZXIgPSBkYXRhICE9IG51bGwgPyB7ZG46IGRhdGEuZ2V0KFwiZG5cIiksIGZiIDogZGF0YS5nZXQoXCJmYlwiKX0gOiB7ZG46IFwiLi4uXCIsIGZiIDogXCJcIn07XG4gICAgICAgIGxldCBtc2dJdGVtID0ge307XG4gICAgICAgIG1zZ0l0ZW0uc2VuZGVyID0gc2VuZGVyO1xuICAgICAgICBtc2dJdGVtLm1zZyA9IG1zZztcbiAgICAgICAgbXNnSXRlbS5kYXRhU2VuZGVyID0gZGF0YVNlbmRlcjtcbiAgICAgICAgdGhpcy5nZXRVSSgpLm9uUHVibGljTWVzc2FnZShtc2dJdGVtKTtcbiAgICB9LFxuICAgIG9uUHVibGljTWVzc2FnZUNoYXQoZXZlbnQpe1xuICAgICAgICBsZXQgcHVibGljTXNnID0gbmV3IFRhaVhpdUV2ZW50LlB1YmxpY01lc3NhZ2VjRXZlbnQoKS5mcm9tRXZlbnQoZXZlbnQpO1xuICAgICAgICBsZXQgbXNnSXRlbSA9IHt9O1xuICAgICAgICBsZXQgc2VuZGVyID0ge307XG4gICAgICAgIHNlbmRlci5kbiA9IHB1YmxpY01zZy51bjtcbiAgICAgICAgbXNnSXRlbS5zZW5kZXIgPSBzZW5kZXI7XG4gICAgICAgIG1zZ0l0ZW0ubXNnID0gcHVibGljTXNnLm1zZztcbiAgICAgICAgbXNnSXRlbS5kYXRhU2VuZGVyID0ge307XG4gICAgICAgIG1zZ0l0ZW0uZGF0YVNlbmRlci5kbiA9IHNlbmRlci5kbjtcbiAgICAgICAgdGhpcy5nZXRVSSgpLm9uUHVibGljTWVzc2FnZShtc2dJdGVtKTtcbiAgICB9LFxuICAgIG9uSGlzdG9yeUV2ZW50KGV2ZW50KXtcbiAgICAgICAgbGV0IGRhdGEgPSBldmVudC5nZXRTQXJyYXkoXCJkXCIpO1xuICAgICAgICBsZXQgaXRlbXMgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGRhdGEuc2l6ZSgpOyBpKyspe1xuICAgICAgICAgICAgbGV0IHNJdGVtID0gZGF0YS5nZXQoaSkuZ2V0T2JqZWN0KCk7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IHt9O1xuICAgICAgICAgICAgaXRlbS5zZXNzaW9uID0gc0l0ZW0uZ2V0RG91YmxlKFwiaWRcIikudG9GaXhlZCgwKTtcbiAgICAgICAgICAgIGl0ZW0udGltZSA9IHNJdGVtLmdldFV0ZlN0cmluZyhcInRcIik7XG4gICAgICAgICAgICBpdGVtLnN0YWtlcyA9IHNJdGVtLmdldERvdWJsZShcImJcIik7XG4gICAgICAgICAgICBpdGVtLndpbiA9IHNJdGVtLmdldERvdWJsZShcIndcIik7XG4gICAgICAgICAgICBpdGVtLnJlZnVuZCA9IHNJdGVtLmdldERvdWJsZShcInJmXCIpO1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHNJdGVtLmdldEJ5dGVBcnJheShcInJzXCIpO1xuICAgICAgICAgICAgaXRlbS5yZXN1bHQgPSByZXN1bHRcbiAgICAgICAgICAgIGl0ZW0uY3VhID0gdGhpcy5fZ2V0TmFtZVJlc3VsdChyZXN1bHQpO1xuICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdldFVJKCkudXBkYXRlRGF0YUhpc3RvcnkoaXRlbXMpO1xuICAgICAgICAvLyBVSU1hbmdlci5zaG93KFwiVUlUYWlYaXVUcmFuc2FjdGlvblwiLCB7cG9wOiB0cnVlLCBzcmM6ICd0YWl4aXUnLCBkYXRhOiB7aXRlbXM6IGl0ZW1zfX0pO1xuICAgIH0sXG4gICAgX2dldE5hbWVSZXN1bHQocmVzdWx0KXtcbiAgICAgICAgbGV0IGN1YSA9ICdUw6BpJztcbiAgICAgICAgbGV0IHBvaW50ID0gMDtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIHBvaW50ICs9IHJlc3VsdFtpXTtcbiAgICAgICAgfVxuICAgICAgICBpZihwb2ludCA8PSAxMClcbiAgICAgICAgICAgIHJldHVybiBcIljhu4l1XCI7XG4gICAgICAgIHJldHVybiBjdWE7XG4gICAgfSxcbiAgICBvbkxlYWRlckJvYXJkRXZlbnQoZXZlbnQpe1xuICAgICAgICBsZXQgZGF0YSA9IGV2ZW50LmdldFNBcnJheShcImRcIik7XG4gICAgICAgIGxldCBpdGVtcyA9IFtdO1xuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCBkYXRhLnNpemUoKTtpKyspe1xuICAgICAgICAgICAgbGV0IHNJdGVtID0gZGF0YS5nZXQoaSkuZ2V0T2JqZWN0KCk7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IHt9O1xuICAgICAgICAgICAgaXRlbS5zZXNzaW9uID0gaTtcbiAgICAgICAgICAgIGl0ZW0uYWNjb3VudCA9IHNJdGVtLmdldFV0ZlN0cmluZyhcImRuXCIpO1xuICAgICAgICAgICAgaXRlbS53aW4gPSBzSXRlbS5nZXREb3VibGUoXCJtXCIpO1xuICAgICAgICAgICAgaXRlbS50aW1lID0gc0l0ZW0uZ2V0VXRmU3RyaW5nKFwidFwiKTtcbiAgICAgICAgICAgIGl0ZW0ud2luX3R5cGUgPSBcIlRo4bqvbmdcIjtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZXRVSSgpLnVwZGF0ZURhdGFSYW5rKGl0ZW1zKTtcbiAgICAgICAgLy8gVUlNYW5nZXIuc2hvdyhcIlVJVGFpWGl1UmFua1wiLCB7cG9wOiB0cnVlLCBzcmM6ICd0YWl4aXUnLCBkYXRhOiB7aXRlbXM6IGl0ZW1zfX0pO1xuICAgIH0sXG4gICAgb25FdmVudFVzZXJFeGl0Um9vbShldmVudCl7XG4gICAgICAgIGxldCB1c2VyID0gZXZlbnQudXNlcjtcbiAgICAgICAgaWYodXNlci5pc0l0TWUpe1xuICAgICAgICAgICAgY2MuY3VycmVudFVJICA9IFwiXCI7XG4gICAgICAgICAgICBtbS5Mb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0VUkoKS5iYWNrKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG9uTG9hZEdhbWVFdmVudChldmVudCl7XG4gICAgICAgIHRoaXMucHJlTG9hZFVJKHtwb3A6IHRydWV9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLm1fdGFibGVJbmZvID0gbmV3IFRhaVhpdUV2ZW50LkxvYWRHYW1lRXZlbnQoKS5mcm9tRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgY2MubGFzdFRpbWUgICAgICA9IHRoaXMubV90YWJsZUluZm8udGltZSArIG5ldyBEYXRlKCkuZ2V0VGltZSgpLzEwMDA7XG4gICAgICAgICAgICB0aGlzLmdldFVJKCkuc2V0UHJlcGFyZUJldChbXCLEkOG6t3RcIixcIsSQ4bq3dFwiXSk7XG4gICAgICAgICAgICB0aGlzLmdldFVJKCkuY29udHJvbGxlciA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmdldFVJKCkuc2hvd0dhbWUodGhpcy5tX3RhYmxlSW5mby5hbGxvd1J1dGxMb2MsIHRoaXMubV90YWJsZUluZm8uZnVuZFJ1dGxvYyk7XG4gICAgICAgICAgICB0aGlzLmdldFVJKCkucmVzZXRCZXRUYWlYaXUoKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0VUkoKS51cGRhdGVMaXN0Q2hhdCh0aGlzLm1fdGFibGVJbmZvLmxpc3RDaGF0KTtcbiAgICAgICAgICAgIHRoaXMuZ2V0VUkoKS5zaG93TGlzdFVzZXJzKHRoaXMubV90YWJsZUluZm8ubGlzdFVzZXJzKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0VUkoKS51cGRhdGVTZXNzaW9uSWQoY2MubGlzdENhdVtjYy5saXN0Q2F1Lmxlbmd0aCAtMV0uc2Vzc2lvbklkKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0VUkoKS51cGRhdGVMaXN0Q2F1KCk7XG4gICAgICAgICAgICB0aGlzLnJlc3VtZUdhbWUoKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKVxuICAgIH0sXG4gICAgcmVzdW1lR2FtZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubV90YWJsZUluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5tX3RhYmxlSW5mby50aW1lID0gIE1hdGguZmxvb3IoY2MubGFzdFRpbWUgLSBuZXcgRGF0ZSgpLmdldFRpbWUoKS8xMDAwKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0VUkoKS5zaG93TGlzdENoaXBCZXQodGhpcy5tX3RhYmxlSW5mby5saXN0Q2hpcFBvdCk7XG4gICAgICAgICAgICB0aGlzLmdldFVJKCkuc2hvd0xpc3RNeUNoaXBCZXQodGhpcy5tX3RhYmxlSW5mby5saXN0TXlDaGlwUG90KTtcbiAgICAgICAgICAgIHRoaXMuZ2V0VUkoKS5fdHVybk9mVGltZSgpO1xuICAgICAgICAgICAgdGhpcy5nZXRVSSgpLmhpZGVSZXN1bHROdW1iZXIoKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0VUkoKS5oaWRlM0QoKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0VUkoKS5zdG9wRWZmZWN0UmVzdWx0KCk7XG4gICAgICAgICAgICBpZih0aGlzLm1fdGFibGVJbmZvLmlzQmV0dGluZyl7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRVSSgpLl90dXJuT25UaW1lKHRoaXMubV90YWJsZUluZm8udGltZSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmdldFVJKCkuY2FuY3VhKHRoaXMubV90YWJsZUluZm8udGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG9uVXBkYXRlU3RhdGVQb3QoZXZlbnQpe1xuICAgICAgICBpZih0aGlzLmdldFVJKCkgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHN0YXRlUG90ID0gbmV3IFRhaVhpdUV2ZW50LlVwZGF0ZVN0YXRlUG90RXZlbnQoKS5mcm9tRXZlbnQoZXZlbnQpO1xuICAgICAgICB0aGlzLm1fdGFibGVJbmZvLmxpc3RDaGlwUG90WzBdID0gc3RhdGVQb3QucG90VGFpO1xuICAgICAgICB0aGlzLm1fdGFibGVJbmZvLmxpc3RDaGlwUG90WzFdID0gc3RhdGVQb3QucG90WGl1O1xuXG4gICAgICAgIHRoaXMuZ2V0VUkoKS5zaG93TGlzdENoaXBCZXQodGhpcy5tX3RhYmxlSW5mby5saXN0Q2hpcFBvdCk7XG4gICAgICAgIHRoaXMuZ2V0VUkoKS5zaG93TGlzdFVzZXJzKFtzdGF0ZVBvdC5jY3VUYWksIHN0YXRlUG90LmNjdVhpdV0pO1xuICAgIH0sXG4gICAgb25Vc2VyQmV0RXZlbnQoZXZlbnQpe1xuICAgICAgICBpZih0aGlzLmdldFVJKCkgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHVzZXJCZXQgPSBuZXcgVGFpWGl1RXZlbnQuQmV0RXZlbnQoKS5mcm9tRXZlbnQoZXZlbnQpO1xuICAgICAgICBsZXQgdXNlck5hbWUgPSB1c2VyQmV0LnVzZXJOYW1lO1xuICAgICAgICBsZXQgYmV0Q2hpcCA9IHVzZXJCZXQuYmV0Q2hpcDtcbiAgICAgICAgbGV0IHR5cGVQb3QgPSB1c2VyQmV0LnR5cGVQb3Q7XG4gICAgICAgIHRoaXMubV90YWJsZUluZm8ubGlzdENoaXBQb3RbdHlwZVBvdF0gKz0gYmV0Q2hpcDtcbiAgICAgICAgdGhpcy5nZXRVSSgpLnNob3dMaXN0Q2hpcEJldCh0aGlzLm1fdGFibGVJbmZvLmxpc3RDaGlwUG90KTtcbiAgICAgICAgdGhpcy5nZXRVSSgpLnNob3dMaXN0VXNlcnModXNlckJldC5saXN0VXNlcnMpO1xuICAgICAgICBpZih0aGlzLlpvbmVJbnN0YW5jZS5teVNlbGYubmFtZSA9PSB1c2VyTmFtZSl7XG4gICAgICAgICAgICB0aGlzLm1fdGFibGVJbmZvLmxpc3RNeUNoaXBQb3RbdHlwZVBvdF0gKz0gYmV0Q2hpcDtcbiAgICAgICAgICAgIHRoaXMuZ2V0VUkoKS5zaG93TGlzdE15Q2hpcEJldCh0aGlzLm1fdGFibGVJbmZvLmxpc3RNeUNoaXBQb3QpO1xuICAgICAgICAgICAgdGhpcy5nZXRVSSgpLnNldFByZXBhcmVCZXQoW1wixJDhurd0XCIsXCLEkOG6t3RcIl0pO1xuICAgICAgICAgICAgdGhpcy5nZXRVSSgpLl9jdXJyZW50QmV0ID0gMDtcbiAgICAgICAgICAgIHRoaXMuZ2V0VUkoKS51cGRhdGVDaGlwQWxsKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG9uRW5kQmV0dGluZ0V2ZW50KGV2ZW50KXtcbiAgICAgICAgaWYodGhpcy5nZXRVSSgpID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBlbmRCZXR0aW5nID0gbmV3IFRhaVhpdUV2ZW50LkVuZEJldHRpbmcoKS5mcm9tRXZlbnQoZXZlbnQpO1xuICAgICAgICB0aGlzLm1fdGFibGVJbmZvLmlzQmV0dGluZyAgICAgID0gZmFsc2U7XG4gICAgICAgIHRoaXMubV90YWJsZUluZm8ucmVmdW5kQ2hpcCAgICAgPSBlbmRCZXR0aW5nLnJlZnVuZENoaXA7XG4gICAgICAgIHRoaXMubV90YWJsZUluZm8ud2luQ2hpcCAgICAgICAgPSBlbmRCZXR0aW5nLndpbkNoaXA7XG4gICAgICAgIHRoaXMubV90YWJsZUluZm8ucmVzdWx0ICAgICAgICAgPSBlbmRCZXR0aW5nLnJlc3VsdDtcbiAgICAgICAgdGhpcy5tX3RhYmxlSW5mby5wbGF5VHlwZSAgICAgICA9IGVuZEJldHRpbmcucGxheVR5cGU7XG5cbiAgICAgICAgdGhpcy5nZXRVSSgpLnVwZGF0ZVRoYW5nVGh1YSh0aGlzLm1fdGFibGVJbmZvLnBsYXlUeXBlKTtcbiAgICAgICAgLy8gdGhpcy5nZXRVSSgpLmNhbmN1YSgxNik7XG4gICAgICAgIC8vIHRoaXMuZ2V0VUkoKS51cGRhdGVEYXRhQ2F1KCk7XG4gICAgICAgIGNjLmxhc3RUaW1lICA9ICAxNi41ICsgbmV3IERhdGUoKS5nZXRUaW1lKCkvMTAwMDtcbiAgICAgICAgdGhpcy5nZXRVSSgpLnVwZGF0ZURhdGFDYXUoKTtcbiAgICAgICAgdGhpcy5nZXRVSSgpLmlzUGxheWVkQW5pbWF0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVzdW1lR2FtZSgpO1xuICAgIH0sXG4gICAgb25TZXNzaW9uRGV0YWlsRXZlbnQoZXZlbnQpe1xuICAgICAgICBpZih0aGlzLmdldFVJKCkgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHNlc3Npb25EZXRhaWwgPSBuZXcgVGFpWGl1RXZlbnQuU2Vzc2lvbkRldGFpbCgpLmZyb21FdmVudChldmVudCk7XG4gICAgICAgIHRoaXMuZ2V0VUkoKS51cGRhdGVEYXRhU2Vzc2lvbkRldGFpbChzZXNzaW9uRGV0YWlsKTtcbiAgICAgICAgLy8gVUlNYW5nZXIuc2hvdyhcIlVJVGFpWGl1U2Vzc2lvbkRldGFpbFwiLCB7cG9wOiB0cnVlLCBzcmM6ICd0YWl4aXUnLCBkYXRhOiBzZXNzaW9uRGV0YWlsfSk7XG4gICAgfSxcbiAgICBvblNvaUNhdUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmKHRoaXMuZ2V0VUkoKSA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgbGlzdENhdSA9IG5ldyBUYWlYaXVFdmVudC5Tb2lDYXVFdmVudCgpLmZyb21FdmVudChldmVudCk7XG4gICAgICAgIHRoaXMuZ2V0VUkoKS51cGRhdGVUYWlYaXVTb2lDYXUobGlzdENhdSk7XG4gICAgICAgIC8vIFVJTWFuZ2VyLnNob3coXCJVSVRhaVhpdVNvaUNhdVwiLCB7cG9wOiB0cnVlLCBzcmM6ICd0YWl4aXUnLCBkYXRhOiBsaXN0Q2F1fSk7XG4gICAgfSxcbiAgICBvblRhbkxvY0V2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmKHRoaXMuZ2V0VUkoKSA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgdGFuTG9jICAgPSBuZXcgVGFpWGl1RXZlbnQuVGFuTG9jRXZlbnQoKS5mcm9tRXZlbnQoZXZlbnQpO1xuICAgICAgICBsZXQgdWlUYW5Mb2MgPSB0aGlzLmdldFVJQnlOYW1lKFwiVUlUYWlYaXVUYW5Mb2NcIik7XG4gICAgICAgIGlmICh1aVRhbkxvYyE9IG51bGwpXG4gICAgICAgICAgICB1aVRhbkxvYy50YW5Mb2NSZXModGFuTG9jKTtcbiAgICAgICAgdGhpcy5nZXRVSSgpLnNob3dHYW1lKG51bGwsIHRhbkxvYy5mdW5kKTtcbiAgICAgICAgdGhpcy5vbkV2ZW50VXBkYXRlQ2hpcCgwKTtcbiAgICB9LFxuICAgIG9uUnV0TG9jRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYodGhpcy5nZXRVSSgpID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBydXRMb2MgPSBuZXcgVGFpWGl1RXZlbnQuUnV0TG9jRXZlbnQoKS5mcm9tRXZlbnQoZXZlbnQpO1xuICAgICAgICB0aGlzLmdldFVJKCkuc2hvd1Jlc3VsdFJ1dExvYyhydXRMb2MpO1xuICAgICAgICB0aGlzLmdldFVJKCkuc2hvd0dhbWUobnVsbCwgcnV0TG9jLmZ1bmQpO1xuICAgICAgICB0aGlzLm9uRXZlbnRVcGRhdGVDaGlwKDApO1xuICAgIH0sXG4gICAgb25IaXN0b3J5VGFuTG9jRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYodGhpcy5nZXRVSSgpID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBoaXN0b3J5VGFuTG9jID0gbmV3IFRhaVhpdUV2ZW50Lkhpc3RvcnlUYW5Mb2NFdmVudCgpLmZyb21FdmVudChldmVudCk7XG4gICAgICAgIGxldCB1aVRhbkxvYyA9IHRoaXMuZ2V0VUlCeU5hbWUoXCJVSVRhaVhpdUR1YVRvcFwiKTtcbiAgICAgICAgaWYgKHVpVGFuTG9jIT0gbnVsbClcbiAgICAgICAgICAgIHVpVGFuTG9jLnVwZGF0ZURhdGFMaXN0KGhpc3RvcnlUYW5Mb2MpO1xuICAgIH0sXG4gICAgb25IaXN0b3J5UnV0TG9jRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYodGhpcy5nZXRVSSgpID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBoaXN0b3J5UnV0TG9jID0gbmV3IFRhaVhpdUV2ZW50Lkhpc3RvcnlSdXRMb2NFdmVudCgpLmZyb21FdmVudChldmVudCk7XG4gICAgICAgIGxldCB1aVRhbkxvYyA9IHRoaXMuZ2V0VUlCeU5hbWUoXCJVSVRhaVhpdUR1YVRvcFwiKTtcbiAgICAgICAgaWYgKHVpVGFuTG9jIT0gbnVsbClcbiAgICAgICAgICAgIHVpVGFuTG9jLnVwZGF0ZURhdGFMaXN0KGhpc3RvcnlSdXRMb2MpO1xuICAgIH0sXG4gICAgb25Ub3BCZXRFdmVudChldmVudCkge1xuICAgICAgICBpZih0aGlzLmdldFVJKCkgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGxpc3RUb3BCZXQgPSBuZXcgVGFpWGl1RXZlbnQuVG9wQmV0RXZlbnQoKS5mcm9tRXZlbnQoZXZlbnQpO1xuICAgICAgICBsZXQgdWlUYW5Mb2MgPSB0aGlzLmdldFVJQnlOYW1lKFwiVUlUYWlYaXVEdWFUb3BcIik7XG4gICAgICAgIGlmICh1aVRhbkxvYyE9IG51bGwpXG4gICAgICAgICAgICB1aVRhbkxvYy51cGRhdGVEYXRhTGlzdChsaXN0VG9wQmV0KTtcbiAgICB9LFxuICAgIG9uVG9wQmV0UmV3YXJkRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYodGhpcy5nZXRVSSgpID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBiZXRSZXdhcmQgPSBuZXcgVGFpWGl1RXZlbnQuVG9wQmV0UmV3YXJkRXZlbnQoKS5mcm9tRXZlbnQoZXZlbnQpO1xuICAgICAgICBpZih0aGlzLmdldFVJKCkgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5nZXRVSSgpLnNob3dSZXdhcmQoYmV0UmV3YXJkKTtcbiAgICB9LFxuICAgIG9uVG9wQmV0UnVsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmKHRoaXMuZ2V0VUkoKSA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgbGlzdFRvcEJldFJ1bGUgPSBuZXcgVGFpWGl1RXZlbnQuVG9wQmV0UnVsZUV2ZW50KCkuZnJvbUV2ZW50KGV2ZW50KTtcbiAgICAgICAgbGV0IHVpVGFuTG9jID0gdGhpcy5nZXRVSUJ5TmFtZShcIlVJVGFpWGl1RHVhVG9wXCIpO1xuICAgICAgICBpZiAodWlUYW5Mb2MhPSBudWxsKVxuICAgICAgICAgICAgdWlUYW5Mb2MudXBkYXRlRGF0YUxpc3QobGlzdFRvcEJldFJ1bGUpO1xuICAgIH0sXG4gICAgb25SYW5rVGFuTG9jRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYodGhpcy5nZXRVSSgpID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCByYW5rVGFuTG9jID0gbmV3IFRhaVhpdUV2ZW50LlJhbmtUYW5Mb2NFdmVudCgpLmZyb21FdmVudChldmVudCk7XG4gICAgICAgIGxldCB1aVRhbkxvYyA9IHRoaXMuZ2V0VUlCeU5hbWUoXCJVSVRhaVhpdUR1YVRvcFwiKTtcbiAgICAgICAgaWYgKHVpVGFuTG9jIT0gbnVsbClcbiAgICAgICAgICAgIHVpVGFuTG9jLnVwZGF0ZURhdGFMaXN0KHJhbmtUYW5Mb2MpO1xuICAgIH0sXG4gICAgb25SYW5rUnV0TG9jRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYodGhpcy5nZXRVSSgpID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCByYW5rUnV0TG9jID0gbmV3IFRhaVhpdUV2ZW50LlJhbmtSdXRMb2NFdmVudCgpLmZyb21FdmVudChldmVudCk7XG4gICAgICAgIGxldCB1aVRhbkxvYyA9IHRoaXMuZ2V0VUlCeU5hbWUoXCJVSVRhaVhpdUR1YVRvcFwiKTtcbiAgICAgICAgaWYgKHVpVGFuTG9jIT0gbnVsbClcbiAgICAgICAgICAgIHVpVGFuTG9jLnVwZGF0ZURhdGFMaXN0KHJhbmtSdXRMb2MpO1xuICAgIH0sXG4gICAgb25Ub3BSZXdhcmRSZXNFdmVudChldmVudCkge1xuICAgICAgICBpZih0aGlzLmdldFVJKCkgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHRvcFJld2FyZCA9IG5ldyBUYWlYaXVFdmVudC5Ub3BSZXdhcmRSZXNFdmVudCgpLmZyb21FdmVudChldmVudCk7XG4gICAgICAgIGxldCB1aVRhbkxvYyA9IHRoaXMuZ2V0VUlCeU5hbWUoXCJVSVRhaVhpdUR1YVRvcFwiKTtcbiAgICAgICAgaWYgKHRvcFJld2FyZCE9IG51bGwpXG4gICAgICAgICAgICB1aVRhbkxvYy51cGRhdGVEYXRhTGlzdCh0b3BSZXdhcmQpO1xuICAgIH0sXG59KTtcbmxldCBpbnN0YW5jZSA9IG51bGw7XG5sZXQgZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYoaW5zdGFuY2UgPT0gbnVsbClcbiAgICAgICAgaW5zdGFuY2UgPSBuZXcgVGFpWGl1Q29udHJvbGxlcihcIlVJVGFpWGl1XCIsIFwidGFpeGl1XCIpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbn1cblNtYXJ0Rm94U0RLLlRhaVhpdUNvbnRyb2xsZXIgPSBtb2R1bGUuZXhwb3J0cyA9IGdldEluc3RhbmNlKCk7XG4iXX0=