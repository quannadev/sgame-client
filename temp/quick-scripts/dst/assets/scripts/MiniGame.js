
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/MiniGame.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '09f3fziL3hAtr4+JFrcPUSo', 'MiniGame');
// scripts/MiniGame.js

"use strict";

var MiniGame = cc.Class({
  "extends": cc.VozBaseComponent,
  properties: {
    bgAll: cc.Node,
    BG: cc.Node,
    ICON: cc.Node
  },
  statics: {
    inst: null
  },
  onLoad: function onLoad() {
    MiniGame.inst = this;
    window.MiniGame = this;
    this.BG.active = false;
    this.node.zIndex = cc.lastZIndex + 1;
    this.ICON.active = false;
    this.bgAll.active = false;
  },
  showIcon: function showIcon() {
    this.ICON.active = true;
  },
  eventClickMini: function eventClickMini(event) {
    var target = event.target;
    var move = target.getComponent("Move");

    if (move && move.isMove()) {
      move._isMove = false;
      return;
    }

    var BG = this.BG.active;

    if (!BG) {
      this.showGames();
    } else {
      this.hideGames();
    }
  },
  showGames: function showGames() {
    this.BG.active = true;
    this.bgAll.active = true;
    var rotation = cc.rotateBy(0.6, 8 * 360);
    var scaleBig = cc.scaleTo(0.4, 1.1);
    var scaleSmall = cc.scaleTo(0.2, 1);
    var fadeIn = cc.fadeIn(0.6);
    var hideBg = cc.fadeIn(0.6);
    this.BG.opacity = 0;
    this.bgAll.opacity = 0;
    this.BG.scale = 0;
    var spawn1 = cc.spawn(rotation, scaleBig, fadeIn, cc.sequence(cc.delayTime(0.4), scaleSmall));
    this.bgAll.runAction(hideBg);
    this.BG.runAction(spawn1);
  },
  hideGames: function hideGames() {
    var rotation = cc.rotateBy(0.6, 8 * 360);
    var scaleBig = cc.scaleTo(0.2, 1.1);
    var scaleSmall = cc.scaleTo(0.4, 0);
    var fadeout = cc.fadeIn(0.6);
    var hideBg = cc.fadeIn(0.6);
    var spawn1 = cc.spawn(rotation, scaleBig, fadeout, cc.sequence(cc.delayTime(0.2), scaleSmall));
    var self = this;
    this.bgAll.runAction(hideBg);
    this.BG.runAction(cc.sequence(spawn1, cc.callFunc(function () {
      self.BG.active = false;
      self.bgAll.active = false;
    })));
  },
  onSelectGame: function onSelectGame(event, game) {
    this.hideGames();

    if (mm.isLogin) {
      var gameController = PortalManager.getGameController(game);

      if (gameController) {
        mm.Loading.show();
        gameController.loginZone(Config.getUsername(), Config.getPass());
      }
    } else {
      this.show("UILogin", {
        pop: true
      });
    }
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHRzL01pbmlHYW1lLmpzIl0sIm5hbWVzIjpbIk1pbmlHYW1lIiwiY2MiLCJDbGFzcyIsIlZvekJhc2VDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwiYmdBbGwiLCJOb2RlIiwiQkciLCJJQ09OIiwic3RhdGljcyIsImluc3QiLCJvbkxvYWQiLCJ3aW5kb3ciLCJhY3RpdmUiLCJub2RlIiwiekluZGV4IiwibGFzdFpJbmRleCIsInNob3dJY29uIiwiZXZlbnRDbGlja01pbmkiLCJldmVudCIsInRhcmdldCIsIm1vdmUiLCJnZXRDb21wb25lbnQiLCJpc01vdmUiLCJfaXNNb3ZlIiwic2hvd0dhbWVzIiwiaGlkZUdhbWVzIiwicm90YXRpb24iLCJyb3RhdGVCeSIsInNjYWxlQmlnIiwic2NhbGVUbyIsInNjYWxlU21hbGwiLCJmYWRlSW4iLCJoaWRlQmciLCJvcGFjaXR5Iiwic2NhbGUiLCJzcGF3bjEiLCJzcGF3biIsInNlcXVlbmNlIiwiZGVsYXlUaW1lIiwicnVuQWN0aW9uIiwiZmFkZW91dCIsInNlbGYiLCJjYWxsRnVuYyIsIm9uU2VsZWN0R2FtZSIsImdhbWUiLCJtbSIsImlzTG9naW4iLCJnYW1lQ29udHJvbGxlciIsIlBvcnRhbE1hbmFnZXIiLCJnZXRHYW1lQ29udHJvbGxlciIsIkxvYWRpbmciLCJzaG93IiwibG9naW5ab25lIiwiQ29uZmlnIiwiZ2V0VXNlcm5hbWUiLCJnZXRQYXNzIiwicG9wIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLFFBQVEsR0FBR0MsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDcEIsYUFBU0QsRUFBRSxDQUFDRSxnQkFEUTtBQUdwQkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JDLElBQUFBLEtBQUssRUFBRUosRUFBRSxDQUFDSyxJQURGO0FBRVJDLElBQUFBLEVBQUUsRUFBRU4sRUFBRSxDQUFDSyxJQUZDO0FBR1JFLElBQUFBLElBQUksRUFBRVAsRUFBRSxDQUFDSztBQUhE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QWYsQ0FBeUJDLE1BQU0sQ0FBQ0MsV0FBUCxFQUF6QixFQUErQ0QsTUFBTSxDQUFDRSxPQUFQLEVBQS9DO0FBQ0g7QUFDSCxLQU5ELE1BTUs7QUFDRCxXQUFLSixJQUFMLENBQVUsU0FBVixFQUFxQjtBQUFDSyxRQUFBQSxHQUFHLEVBQUU7QUFBTixPQUFyQjtBQUNIO0FBRUo7QUFoRm1CLENBQVQsQ0FBZiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsibGV0IE1pbmlHYW1lID0gY2MuQ2xhc3Moe1xuICAgIGV4dGVuZHM6IGNjLlZvekJhc2VDb21wb25lbnQsXG5cbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIGJnQWxsOiBjYy5Ob2RlLFxuICAgICAgICBCRzogY2MuTm9kZSxcbiAgICAgICAgSUNPTjogY2MuTm9kZVxuICAgIH0sXG4gICAgc3RhdGljczoge1xuICAgICAgICBpbnN0OiAgbnVsbCxcbiAgICB9LFxuICAgIG9uTG9hZCgpe1xuICAgICAgICBNaW5pR2FtZS5pbnN0ID0gdGhpcztcbiAgICAgICAgd2luZG93Lk1pbmlHYW1lID0gdGhpcztcbiAgICAgICAgdGhpcy5CRy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ub2RlLnpJbmRleCA9IGNjLmxhc3RaSW5kZXgrMTtcbiAgICAgICAgdGhpcy5JQ09OLmFjdGl2ZSAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5iZ0FsbC5hY3RpdmUgPSBmYWxzZTtcbiAgICB9LFxuICAgIHNob3dJY29uKCl7XG4gICAgICAgIHRoaXMuSUNPTi5hY3RpdmUgPSB0cnVlO1xuICAgIH0sXG4gICAgZXZlbnRDbGlja01pbmkoZXZlbnQpe1xuICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBsZXQgbW92ZSA9IHRhcmdldC5nZXRDb21wb25lbnQoXCJNb3ZlXCIpO1xuICAgICAgICBpZihtb3ZlICYmIG1vdmUuaXNNb3ZlKCkpe1xuICAgICAgICAgICAgbW92ZS5faXNNb3ZlID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgQkcgPSB0aGlzLkJHLmFjdGl2ZTtcbiAgICAgICAgaWYoIUJHKXtcbiAgICAgICAgICAgIHRoaXMuc2hvd0dhbWVzKCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5oaWRlR2FtZXMoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2hvd0dhbWVzKCl7XG4gICAgICAgIHRoaXMuQkcuYWN0aXZlICAgID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5iZ0FsbC5hY3RpdmUgID0gdHJ1ZTtcblxuICAgICAgICBsZXQgcm90YXRpb24gICAgPSBjYy5yb3RhdGVCeSgwLjYsIDgqMzYwKTtcbiAgICAgICAgbGV0IHNjYWxlQmlnICAgID0gY2Muc2NhbGVUbygwLjQsIDEuMSk7XG4gICAgICAgIGxldCBzY2FsZVNtYWxsICA9IGNjLnNjYWxlVG8oMC4yLCAxKTtcbiAgICAgICAgbGV0IGZhZGVJbiAgICAgID0gY2MuZmFkZUluKDAuNik7XG4gICAgICAgIGxldCBoaWRlQmcgICAgID0gY2MuZmFkZUluKDAuNik7XG5cbiAgICAgICAgdGhpcy5CRy5vcGFjaXR5ICAgID0gMDtcbiAgICAgICAgdGhpcy5iZ0FsbC5vcGFjaXR5ID0gMDtcbiAgICAgICAgdGhpcy5CRy5zY2FsZSAgICAgID0gMDtcbiAgICAgICAgbGV0IHNwYXduMSAgICAgICAgID0gY2Muc3Bhd24ocm90YXRpb24sIHNjYWxlQmlnLCBmYWRlSW4sIGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSgwLjQpLCBzY2FsZVNtYWxsKSk7XG4gICAgICAgIHRoaXMuYmdBbGwucnVuQWN0aW9uKGhpZGVCZyk7XG4gICAgICAgIHRoaXMuQkcucnVuQWN0aW9uKHNwYXduMSk7XG4gICAgfSxcbiAgICBoaWRlR2FtZXMoKXtcbiAgICAgICAgbGV0IHJvdGF0aW9uICAgID0gY2Mucm90YXRlQnkoMC42LCA4KjM2MCk7XG4gICAgICAgIGxldCBzY2FsZUJpZyAgICA9IGNjLnNjYWxlVG8oMC4yLCAxLjEpO1xuICAgICAgICBsZXQgc2NhbGVTbWFsbCAgPSBjYy5zY2FsZVRvKDAuNCwgMCk7XG4gICAgICAgIGxldCBmYWRlb3V0ICAgICA9IGNjLmZhZGVJbigwLjYpO1xuICAgICAgICBsZXQgaGlkZUJnICAgICAgPSBjYy5mYWRlSW4oMC42KTtcbiAgICAgICAgbGV0IHNwYXduMSAgICAgID0gY2Muc3Bhd24ocm90YXRpb24sIHNjYWxlQmlnLCBmYWRlb3V0LCBjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoMC4yKSwgc2NhbGVTbWFsbCkpO1xuICAgICAgICBsZXQgc2VsZiAgICAgICAgPSB0aGlzO1xuICAgICAgICB0aGlzLmJnQWxsLnJ1bkFjdGlvbihoaWRlQmcpO1xuICAgICAgICB0aGlzLkJHLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShzcGF3bjEsIGNjLmNhbGxGdW5jKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZWxmLkJHLmFjdGl2ZSAgICAgID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLmJnQWxsLmFjdGl2ZSAgID0gZmFsc2U7XG4gICAgICAgIH0pKSk7XG4gICAgfSxcbiAgICBvblNlbGVjdEdhbWUoZXZlbnQsIGdhbWUpe1xuICAgICAgICB0aGlzLmhpZGVHYW1lcygpO1xuICAgICAgICBpZihtbS5pc0xvZ2luKSB7XG4gICAgICAgICAgIGxldCBnYW1lQ29udHJvbGxlciA9IFBvcnRhbE1hbmFnZXIuZ2V0R2FtZUNvbnRyb2xsZXIoZ2FtZSk7XG4gICAgICAgICAgIGlmKGdhbWVDb250cm9sbGVyKXtcbiAgICAgICAgICAgICAgIG1tLkxvYWRpbmcuc2hvdygpO1xuICAgICAgICAgICAgICAgZ2FtZUNvbnRyb2xsZXIubG9naW5ab25lKENvbmZpZy5nZXRVc2VybmFtZSgpLCBDb25maWcuZ2V0UGFzcygpKTtcbiAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuc2hvdyhcIlVJTG9naW5cIiwge3BvcDogdHJ1ZX0pO1xuICAgICAgICB9XG5cbiAgICB9XG59KTtcbiJdfQ==