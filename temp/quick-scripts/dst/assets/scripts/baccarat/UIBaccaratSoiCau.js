
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/baccarat/UIBaccaratSoiCau.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '369b8hYrj1FiJNRTKiGltw+', 'UIBaccaratSoiCau');
// scripts/baccarat/UIBaccaratSoiCau.js

"use strict";

var NHA_CON = 0;
var NHA_CAI = 1;
var HOA = 2;
var CON_DOI = 3;
var CAI_DOI = 4;
cc.Class({
  "extends": cc.VozBaseComponent,
  properties: {
    dishRoad: cc.Node,
    bigRoad: cc.Node,
    thongKe: cc.Node,
    scoreRoad: cc.Node,
    bigEyeRoad: cc.Node,
    smallRoad: cc.Node,
    cockRoach: cc.Node,
    allPage: cc.PageView,
    _MaxRow: 6,
    bgDishBoard: {
      type: cc.SpriteFrame,
      "default": []
    },
    bgBigRoad: {
      type: cc.SpriteFrame,
      "default": []
    },
    bgScoreRoad: {
      type: cc.SpriteFrame,
      "default": []
    },
    bgCockRoad: {
      type: cc.SpriteFrame,
      "default": []
    },
    listCauNew: [],
    _lastType: 0,
    listColor: {
      type: cc.Color,
      "default": []
    },
    _isFirst: true
  },
  eventClose: function eventClose() {
    mm.audio.playButton();
    this.back();
  },
  onEnable: function onEnable() {
    mm.Loading.hide();
    this.MaxRow = 6;
    this.setDataDishRoad();
    this.reformatDataCau(this._data);
    this.setDatBigRoad();
    this.setDataStatistical();
    this._isFirst = true;
    this.allPage.node.on('scroll-ended', function () {
      this.setDataForPage2();
    }, this);
  },
  setDataDishRoad: function setDataDishRoad() {
    var self = this;
    var total = this._data.length;
    var totalCol = Math.ceil(total / this.MaxRow);
    var startPos = total - 72;
    if (startPos < 0) startPos = 0;
    Promise.all(this.dishRoad.children.map(function (nodeDish, indexDish) {
      if (indexDish < totalCol) {
        if (!nodeDish.active) nodeDish.active = true;
        Promise.all(nodeDish.children.map(function (nodeCau, index) {
          if (!nodeCau.active) nodeCau.active = true;
          var pos = startPos + indexDish * self.MaxRow + index;

          if (pos < total) {
            var type = self._data[pos].type;
            self.setCauInfo(type, nodeCau);
          } else {
            nodeCau.active = false;
          }
        }));
      } else {
        nodeDish.active = false;
      }
    }));
  },
  setDatBigRoad: function setDatBigRoad() {
    var self = this;
    var totalBig = this.listCauNew.length;
    var startPosBig = totalBig - 29;
    if (startPosBig < 0) startPosBig = 0;
    Promise.all(this.bigRoad.children.map(function (nodeBig, indexBig) {
      if (indexBig < totalBig) {
        if (!nodeBig.active) nodeBig.active = true;
        var colCauData = self.listCauNew[indexBig + startPosBig];
        var totalData = colCauData.length;
        Promise.all(nodeBig.children.map(function (nodeCau, index) {
          if (!nodeCau.active) nodeCau.active = true;

          if (index < totalData) {
            self.setCauBigInfo(colCauData[index].type, nodeCau);
          } else {
            nodeCau.active = false;
          }
        }));
      } else {
        nodeBig.active = false;
      }
    }));
  },
  setDataStatistical: function setDataStatistical() {
    var caiWin = 0;
    var conWin = 0;
    var hoa = 0;
    var caiDoi = 0;
    var conDoi = 0;
    var total = this._data.length;
    var self = this;
    Promise.all(this._data.map(function (typeCau, index) {
      Promise.all(typeCau.type.map(function (type, index) {
        if (type == NHA_CAI) caiWin++;
        if (type == NHA_CON) conWin++;
        if (type == HOA) hoa++;
        if (type == CAI_DOI) caiDoi++;
        if (type == CON_DOI) conDoi++;
      }));
    })).then(function (result) {
      self.thongKe.getChildByName("lb_cai_thang").getComponent(cc.Label).string = caiWin;
      self.thongKe.getChildByName("lb_con_thang").getComponent(cc.Label).string = conWin;
      self.thongKe.getChildByName("lb_hoa").getComponent(cc.Label).string = hoa;
      self.thongKe.getChildByName("lb_cai_doi").getComponent(cc.Label).string = caiDoi;
      self.thongKe.getChildByName("lb_con_doi").getComponent(cc.Label).string = conDoi;
      self.thongKe.getChildByName("lb_total").getComponent(cc.Label).string = total;
      self.thongKe.getChildByName("lb_cai_thang_percent").getComponent(cc.Label).string = Math.round(caiWin / total * 100) + "%";
      self.thongKe.getChildByName("lb_con_thang_percent").getComponent(cc.Label).string = Math.round(conWin / total * 100) + "%";
      self.thongKe.getChildByName("lb_hoa_percent").getComponent(cc.Label).string = Math.round(hoa / total * 100) + "%";
      self.thongKe.getChildByName("lb_cai_doi_percent").getComponent(cc.Label).string = Math.round(caiDoi / total * 100) + "%";
      self.thongKe.getChildByName("lb_con_doi_percent").getComponent(cc.Label).string = Math.round(conDoi / total * 100) + "%";
    });
  },
  setDataSmallRoad: function setDataSmallRoad() {
    var self = this;
    var totalBig = this.listCauNew.length;
    var startPosBig = totalBig - 13;
    if (startPosBig < 0) startPosBig = 0;
    Promise.all(this.smallRoad.children.map(function (nodeBig, indexBig) {
      if (indexBig < totalBig) {
        if (!nodeBig.active) nodeBig.active = true;
        var colCauData = self.listCauNew[indexBig + startPosBig];
        var totalData = colCauData.length;
        Promise.all(nodeBig.children.map(function (nodeCau, index) {
          nodeCau.active = false;

          if (index < totalData) {
            var type = self.getTypeCau(colCauData[index].type);

            if (type != HOA) {
              self.setCauSmallInfo(colCauData[index].type, nodeCau);
              nodeCau.active = true;
            }
          }
        }));
      } else {
        nodeBig.active = false;
      }
    }));
  },
  setBigEyeRoad: function setBigEyeRoad() {
    var self = this;
    var totalBig = this.listCauNew.length;
    var startPosBig = totalBig - 13;
    if (startPosBig < 0) startPosBig = 0;
    Promise.all(this.bigEyeRoad.children.map(function (nodeBig, indexBig) {
      if (indexBig < totalBig) {
        if (!nodeBig.active) nodeBig.active = true;
        var colCauData = self.listCauNew[indexBig + startPosBig];
        var totalData = colCauData.length;
        Promise.all(nodeBig.children.map(function (nodeCau, index) {
          nodeCau.active = false;

          if (index < totalData) {
            var type = self.getTypeCau(colCauData[index].type);

            if (type != HOA) {
              self.setCauBigEye(colCauData[index].type, nodeCau);
              nodeCau.active = true;
            }
          }
        }));
      } else {
        nodeBig.active = false;
      }
    }));
  },
  setCockRoad: function setCockRoad() {
    var self = this;
    var totalBig = this.listCauNew.length;
    var startPosBig = totalBig - 13;
    if (startPosBig < 0) startPosBig = 0;
    Promise.all(this.cockRoach.children.map(function (nodeBig, indexBig) {
      if (indexBig < totalBig) {
        if (!nodeBig.active) nodeBig.active = true;
        var colCauData = self.listCauNew[indexBig + startPosBig];
        var totalData = colCauData.length;
        Promise.all(nodeBig.children.map(function (nodeCau, index) {
          nodeCau.active = false;

          if (index < totalData) {
            var type = self.getTypeCau(colCauData[index].type);

            if (type != HOA) {
              self.setCauCockInfo(colCauData[index].type, nodeCau);
              nodeCau.active = true;
            }
          }
        }));
      } else {
        nodeBig.active = false;
      }
    }));
  },
  setScoreRoad: function setScoreRoad() {
    var self = this;
    var totalBig = this.listCauNew.length;
    var startPosBig = totalBig - 13;
    if (startPosBig < 0) startPosBig = 0;
    Promise.all(this.scoreRoad.children.map(function (nodeBig, indexBig) {
      if (indexBig < totalBig) {
        if (!nodeBig.active) nodeBig.active = true;
        var colCauData = self.listCauNew[indexBig + startPosBig];
        var totalData = colCauData.length;
        Promise.all(nodeBig.children.map(function (nodeCau, index) {
          nodeCau.active = false;

          if (index < totalData) {
            self.setScoreInfo(colCauData[index], nodeCau);
            nodeCau.active = true;
          }
        }));
      } else {
        nodeBig.active = false;
      }
    }));
  },
  eventBackPage: function eventBackPage() {
    mm.audio.playButton();
    this.setDataForPage2();
    this.allPage.scrollToPage((this.allPage.getCurrentPageIndex() + 1) % 2);
  },
  eventNextPage: function eventNextPage() {
    mm.audio.playButton();
    this.setDataForPage2();
    this.allPage.scrollToPage((this.allPage.getCurrentPageIndex() + 1) % 2);
  },
  setDataForPage2: function setDataForPage2() {
    if (this._isFirst) {
      this.setDataSmallRoad();
      this.setCockRoad();
      this.setBigEyeRoad();
      this.setScoreRoad();
    }

    this._isFirst = false;
  },
  reformatDataCau: function reformatDataCau(listCau) {
    this.listCauNew = [];
    var rowCau = [];
    var lastType = -1;

    for (var i = 0; i < listCau.length; i++) {
      var typeCau = listCau[i];
      var type = this.getTypeCau(typeCau.type);

      if (lastType < 0) {
        if (type != HOA) {
          rowCau.push(typeCau);
          lastType = type;
        }
      } else {
        if (type == HOA) {
          rowCau.push(typeCau);
        } else {
          if (type == lastType) {
            rowCau.push(typeCau);
          } else {
            if (rowCau.length <= this.MaxRow) {
              this.listCauNew.push(rowCau);
            } else {
              var maxCat = Math.ceil(rowCau.length / this.MaxRow);

              for (var j = 0; j < maxCat; j++) {
                this.listCauNew.push(rowCau.slice(j, j + this.MaxRow));
              }
            }

            rowCau = [];
            rowCau.push(typeCau);
            lastType = type;
          }
        }
      }
    }

    if (rowCau.length <= this.MaxRow) {
      this.listCauNew.push(rowCau);
    } else {
      var _maxCat = Math.ceil(rowCau.length / this.MaxRow);

      for (var _j = 0; _j < _maxCat; _j++) {
        this.listCauNew.push(rowCau.slice(_j, _j + this.MaxRow));
      }
    }
  },
  getTypeCau: function getTypeCau(typeCau) {
    if (typeCau.length < 2) return typeCau[0];

    for (var i = 0; i < typeCau.length; i++) {
      if (typeCau[i] < 3) return typeCau[i];
    }

    return HOA;
  },
  setCauInfo: function setCauInfo(type, nodeCau) {
    var cai = nodeCau.getChildByName("cai");
    var con = nodeCau.getChildByName("con");
    cai.active = false;
    con.active = false;

    for (var i = 0; i < type.length; i++) {
      if (type[i] > 2) {
        if (type == 3) {
          con.active = true;
        } else {
          cai.active = true;
        }
      } else {
        nodeCau.getComponent(cc.Sprite).spriteFrame = this.bgDishBoard[type[i]];
      }
    }
  },
  setCauSmallInfo: function setCauSmallInfo(type, nodeCau) {
    for (var i = 0; i < type.length; i++) {
      if (type[i] < 2) {
        nodeCau.getComponent(cc.Sprite).spriteFrame = this.bgDishBoard[type[i]];
      }
    }
  },
  setCauBigInfo: function setCauBigInfo(type, nodeCau) {
    var cai = nodeCau.getChildByName("cai");
    var con = nodeCau.getChildByName("con");
    cai.active = false;
    con.active = false;

    for (var i = 0; i < type.length; i++) {
      if (type[i] > 2) {
        if (type == 3) {
          con.active = true;
        } else {
          cai.active = true;
        }
      } else {
        if (type[i] == 2) {
          type[i] = this._lastType + 2;
        } else {
          if (type[i] < 2) this._lastType == type[i];
        }

        nodeCau.getComponent(cc.Sprite).spriteFrame = this.bgBigRoad[type[i]];
      }
    }
  },
  setCauBigEye: function setCauBigEye(type, nodeCau) {
    for (var i = 0; i < type.length; i++) {
      if (type[i] < 2) {
        nodeCau.getComponent(cc.Sprite).spriteFrame = this.bgBigRoad[type[i]];
      }
    }
  },
  setCauCockInfo: function setCauCockInfo(type, nodeCau) {
    for (var i = 0; i < type.length; i++) {
      if (type[i] < 2) {
        nodeCau.getComponent(cc.Sprite).spriteFrame = this.bgCockRoad[type[i]];
      }
    }
  },
  setScoreInfo: function setScoreInfo(cauInfo, nodeCau) {
    var type = cauInfo.type;

    for (var i = 0; i < type.length; i++) {
      if (type[i] < 3) {
        nodeCau.getComponent(cc.Sprite).spriteFrame = this.bgScoreRoad[type[i]];
        nodeCau.getChildByName("lb_win").color = this.listColor[type[i]];
        nodeCau.getChildByName("lb_win").getComponent(cc.Label).string = cauInfo.con;
        nodeCau.getChildByName("lb_lose").getComponent(cc.Label).string = cauInfo.cai;
      }
    }
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcYmFjY2FyYXRcXFVJQmFjY2FyYXRTb2lDYXUuanMiXSwibmFtZXMiOlsiTkhBX0NPTiIsIk5IQV9DQUkiLCJIT0EiLCJDT05fRE9JIiwiQ0FJX0RPSSIsImNjIiwiQ2xhc3MiLCJWb3pCYXNlQ29tcG9uZW50IiwicHJvcGVydGllcyIsImRpc2hSb2FkIiwiTm9kZSIsImJpZ1JvYWQiLCJ0aG9uZ0tlIiwic2NvcmVSb2FkIiwiYmlnRXllUm9hZCIsInNtYWxsUm9hZCIsImNvY2tSb2FjaCIsImFsbFBhZ2UiLCJQYWdlVmlldyIsIl9NYXhSb3ciLCJiZ0Rpc2hCb2FyZCIsInR5cGUiLCJTcHJpdGVGcmFtZSIsImJnQmlnUm9hZCIsImJnU2NvcmVSb2FkIiwiYmdDb2NrUm9hZCIsImxpc3RDYXVOZXciLCJfbGFzdFR5cGUiLCJsaXN0Q29sb3IiLCJDb2xvciIsIl9pc0ZpcnN0IiwiZXZlbnRDbG9zZSIsIm1tIiwiYXVkaW8iLCJwbGF5QnV0dG9uIiwiYmFjayIsIm9uRW5hYmxlIiwiTG9hZGluZyIsImhpZGUiLCJNYXhSb3ciLCJzZXREYXRhRGlzaFJvYWQiLCJyZWZvcm1hdERhdGFDYXUiLCJfZGF0YSIsInNldERhdEJpZ1JvYWQiLCJzZXREYXRhU3RhdGlzdGljYWwiLCJub2RlIiwib24iLCJzZXREYXRhRm9yUGFnZTIiLCJzZWxmIiwidG90YWwiLCJsZW5ndGgiLCJ0b3RhbENvbCIsIk1hdGgiLCJjZWlsIiwic3RhcnRQb3MiLCJQcm9taXNlIiwiYWxsIiwiY2hpbGRyZW4iLCJtYXAiLCJub2RlRGlzaCIsImluZGV4RGlzaCIsImFjdGl2ZSIsIm5vZGVDYXUiLCJpbmRleCIsInBvcyIsInNldENhdUluZm8iLCJ0b3RhbEJpZyIsInN0YXJ0UG9zQmlnIiwibm9kZUJpZyIsImluZGV4QmlnIiwiY29sQ2F1RGF0YSIsInRvdGFsRGF0YSIsInNldENhdUJpZ0luZm8iLCJjYWlXaW4iLCJjb25XaW4iLCJob2EiLCJjYWlEb2kiLCJjb25Eb2kiLCJ0eXBlQ2F1IiwidGhlbiIsInJlc3VsdCIsImdldENoaWxkQnlOYW1lIiwiZ2V0Q29tcG9uZW50IiwiTGFiZWwiLCJzdHJpbmciLCJyb3VuZCIsInNldERhdGFTbWFsbFJvYWQiLCJnZXRUeXBlQ2F1Iiwic2V0Q2F1U21hbGxJbmZvIiwic2V0QmlnRXllUm9hZCIsInNldENhdUJpZ0V5ZSIsInNldENvY2tSb2FkIiwic2V0Q2F1Q29ja0luZm8iLCJzZXRTY29yZVJvYWQiLCJzZXRTY29yZUluZm8iLCJldmVudEJhY2tQYWdlIiwic2Nyb2xsVG9QYWdlIiwiZ2V0Q3VycmVudFBhZ2VJbmRleCIsImV2ZW50TmV4dFBhZ2UiLCJsaXN0Q2F1Iiwicm93Q2F1IiwibGFzdFR5cGUiLCJpIiwicHVzaCIsIm1heENhdCIsImoiLCJzbGljZSIsImNhaSIsImNvbiIsIlNwcml0ZSIsInNwcml0ZUZyYW1lIiwiY2F1SW5mbyIsImNvbG9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQU1BLE9BQU8sR0FBRyxDQUFoQjtBQUNBLElBQU1DLE9BQU8sR0FBRyxDQUFoQjtBQUNBLElBQU1DLEdBQUcsR0FBTyxDQUFoQjtBQUNBLElBQU1DLE9BQU8sR0FBRyxDQUFoQjtBQUNBLElBQU1DLE9BQU8sR0FBRyxDQUFoQjtBQUNBQyxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUNMLGFBQVNELEVBQUUsQ0FBQ0UsZ0JBRFA7QUFHTEMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JDLElBQUFBLFFBQVEsRUFBS0osRUFBRSxDQUFDSyxJQURSO0FBRVJDLElBQUFBLE9BQU8sRUFBTU4sRUFBRSxDQUFDSyxJQUZSO0FBR1JFLElBQUFBLE9BQU8sRUFBT1AsRUFBRSxDQUFDSyxJQUhUO0FBSVJHLElBQUFBLFNBQVMsRUFBS1IsRUFBRSxDQUFDSyxJQUpUO0FBS1JJLElBQUFBLFVBQVUsRUFBSVQsRUFBRSxDQUFDSyxJQUxUO0FBTVJLLElBQUFBLFNBQVMsRUFBS1YsRUFBRSxDQUFDSyxJQU5UO0FBT1JNLElB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SSxDQUFDaUYsQ0FBRCxDQUFwQixDQUE5QztBQUNIO0FBQ0o7QUFDSixHQTFYSTtBQTJYTFIsRUFBQUEsWUEzWEssd0JBMlhRaUIsT0EzWFIsRUEyWGlCakQsT0EzWGpCLEVBMlh5QjtBQUMxQixRQUFJekMsSUFBSSxHQUFHMEYsT0FBTyxDQUFDMUYsSUFBbkI7O0FBQ0EsU0FBSyxJQUFJaUYsQ0FBQyxHQUFDLENBQVgsRUFBY0EsQ0FBQyxHQUFFakYsSUFBSSxDQUFDNkIsTUFBdEIsRUFBOEJvRCxDQUFDLEVBQS9CLEVBQWtDO0FBQzlCLFVBQUlqRixJQUFJLENBQUNpRixDQUFELENBQUosR0FBVSxDQUFkLEVBQWdCO0FBQ1p4QyxRQUFBQSxPQUFPLENBQUNvQixZQUFSLENBQXFCN0UsRUFBRSxDQUFDd0csTUFBeEIsRUFBZ0NDLFdBQWhDLEdBQWdELEtBQUt0RixXQUFMLENBQWlCSCxJQUFJLENBQUNpRixDQUFELENBQXJCLENBQWhEO0FBQ0F4QyxRQUFBQSxPQUFPLENBQUNtQixjQUFSLENBQXVCLFFBQXZCLEVBQWlDK0IsS0FBakMsR0FBMEMsS0FBS3BGLFNBQUwsQ0FBZVAsSUFBSSxDQUFDaUYsQ0FBRCxDQUFuQixDQUExQztBQUNBeEMsUUFBQUEsT0FBTyxDQUFDbUIsY0FBUixDQUF1QixRQUF2QixFQUFpQ0MsWUFBakMsQ0FBOEM3RSxFQUFFLENBQUM4RSxLQUFqRCxFQUF3REMsTUFBeEQsR0FBa0UyQixPQUFPLENBQUNILEdBQTFFO0FBQ0E5QyxRQUFBQSxPQUFPLENBQUNtQixjQUFSLENBQXVCLFNBQXZCLEVBQWtDQyxZQUFsQyxDQUErQzdFLEVBQUUsQ0FBQzhFLEtBQWxELEVBQXlEQyxNQUF6RCxHQUFrRTJCLE9BQU8sQ0FBQ0osR0FBMUU7QUFDSDtBQUNKO0FBQ0o7QUFyWUksQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTkhBX0NPTiA9IDA7XHJcbmNvbnN0IE5IQV9DQUkgPSAxO1xyXG5jb25zdCBIT0EgICAgID0gMjtcclxuY29uc3QgQ09OX0RPSSA9IDM7XHJcbmNvbnN0IENBSV9ET0kgPSA0O1xyXG5jYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Wb3pCYXNlQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBkaXNoUm9hZCAgIDogY2MuTm9kZSxcclxuICAgICAgICBiaWdSb2FkICAgIDogY2MuTm9kZSxcclxuICAgICAgICB0aG9uZ0tlICAgICA6IGNjLk5vZGUsXHJcbiAgICAgICAgc2NvcmVSb2FkICAgOiBjYy5Ob2RlLFxyXG4gICAgICAgIGJpZ0V5ZVJvYWQgIDogY2MuTm9kZSxcclxuICAgICAgICBzbWFsbFJvYWQgICA6IGNjLk5vZGUsXHJcbiAgICAgICAgY29ja1JvYWNoICAgOiBjYy5Ob2RlLFxyXG4gICAgICAgIGFsbFBhZ2UgICAgIDogY2MuUGFnZVZpZXcsXHJcbiAgICAgICAgX01heFJvdyAgICAgIDogNixcclxuICAgICAgICBiZ0Rpc2hCb2FyZCA6IHtcclxuICAgICAgICAgICAgdHlwZTogY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBiZ0JpZ1JvYWQgOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IGNjLlNwcml0ZUZyYW1lLFxyXG4gICAgICAgICAgICBkZWZhdWx0OiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmdTY29yZVJvYWQgOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IGNjLlNwcml0ZUZyYW1lLFxyXG4gICAgICAgICAgICBkZWZhdWx0OiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmdDb2NrUm9hZCA6IHtcclxuICAgICAgICAgICAgdHlwZTogY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaXN0Q2F1TmV3OiBbXSxcclxuICAgICAgICBfbGFzdFR5cGUgOiAwLFxyXG4gICAgICAgIGxpc3RDb2xvciA6IHtcclxuICAgICAgICAgICAgdHlwZTogY2MuQ29sb3IsXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBfaXNGaXJzdDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGV2ZW50Q2xvc2UoKSB7XHJcbiAgICAgICAgbW0uYXVkaW8ucGxheUJ1dHRvbigpO1xyXG4gICAgICAgIHRoaXMuYmFjaygpO1xyXG4gICAgfSxcclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgICAgIG1tLkxvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgIHRoaXMuTWF4Um93ID0gNjtcclxuICAgICAgICB0aGlzLnNldERhdGFEaXNoUm9hZCgpO1xyXG4gICAgICAgIHRoaXMucmVmb3JtYXREYXRhQ2F1KHRoaXMuX2RhdGEpO1xyXG4gICAgICAgIHRoaXMuc2V0RGF0QmlnUm9hZCgpO1xyXG4gICAgICAgIHRoaXMuc2V0RGF0YVN0YXRpc3RpY2FsKCk7XHJcbiAgICAgICAgdGhpcy5faXNGaXJzdCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGxQYWdlLm5vZGUub24oJ3Njcm9sbC1lbmRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXREYXRhRm9yUGFnZTIoKTtcclxuICAgICAgICB9LCB0aGlzKTtcclxuICAgIH0sXHJcbiAgICBzZXREYXRhRGlzaFJvYWQoKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGxldCB0b3RhbCAgICA9IHRoaXMuX2RhdGEubGVuZ3RoO1xyXG4gICAgICAgIGxldCB0b3RhbENvbCA9IE1hdGguY2VpbCh0b3RhbC90aGlzLk1heFJvdyk7XHJcbiAgICAgICAgbGV0IHN0YXJ0UG9zID0gdG90YWwtNzI7XHJcbiAgICAgICAgaWYgKHN0YXJ0UG9zIDwgMClcclxuICAgICAgICAgICAgc3RhcnRQb3MgPSAwO1xyXG4gICAgICAgIFByb21pc2UuYWxsKHRoaXMuZGlzaFJvYWQuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKG5vZGVEaXNoLCBpbmRleERpc2gpe1xyXG4gICAgICAgICAgICBpZiAoaW5kZXhEaXNoIDwgdG90YWxDb2wpe1xyXG4gICAgICAgICAgICAgICAgaWYgKCFub2RlRGlzaC5hY3RpdmUpXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZURpc2guYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKG5vZGVEaXNoLmNoaWxkcmVuLm1hcChmdW5jdGlvbihub2RlQ2F1LCBpbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlQ2F1LmFjdGl2ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZUNhdS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3MgPSBzdGFydFBvcytpbmRleERpc2gqc2VsZi5NYXhSb3craW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA8IHRvdGFsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGUgPSBzZWxmLl9kYXRhW3Bvc10udHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRDYXVJbmZvKHR5cGUsIG5vZGVDYXUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZUNhdS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIG5vZGVEaXNoLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfSxcclxuICAgIHNldERhdEJpZ1JvYWQoKSB7XHJcbiAgICAgICAgbGV0ICBzZWxmICAgICAgID0gdGhpcztcclxuICAgICAgICBsZXQgdG90YWxCaWcgICAgPSB0aGlzLmxpc3RDYXVOZXcubGVuZ3RoO1xyXG4gICAgICAgIGxldCBzdGFydFBvc0JpZyA9IHRvdGFsQmlnLTI5O1xyXG4gICAgICAgIGlmIChzdGFydFBvc0JpZyA8IDApXHJcbiAgICAgICAgICAgIHN0YXJ0UG9zQmlnID0gMDtcclxuICAgICAgICBQcm9taXNlLmFsbCh0aGlzLmJpZ1JvYWQuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKG5vZGVCaWcsIGluZGV4QmlnKXtcclxuICAgICAgICAgICAgaWYgKGluZGV4QmlnIDwgdG90YWxCaWcpe1xyXG4gICAgICAgICAgICAgICAgaWYgKCFub2RlQmlnLmFjdGl2ZSlcclxuICAgICAgICAgICAgICAgICAgICBub2RlQmlnLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29sQ2F1RGF0YSA9IHNlbGYubGlzdENhdU5ld1tpbmRleEJpZytzdGFydFBvc0JpZ107XHJcbiAgICAgICAgICAgICAgICBsZXQgdG90YWxEYXRhICA9IGNvbENhdURhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwobm9kZUJpZy5jaGlsZHJlbi5tYXAoZnVuY3Rpb24obm9kZUNhdSwgaW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9kZUNhdS5hY3RpdmUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVDYXUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCB0b3RhbERhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNldENhdUJpZ0luZm8oY29sQ2F1RGF0YVtpbmRleF0udHlwZSwgbm9kZUNhdSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlQ2F1LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbm9kZUJpZy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKTtcclxuICAgIH0sXHJcbiAgICBzZXREYXRhU3RhdGlzdGljYWwoKSB7XHJcbiAgICAgICAgbGV0IGNhaVdpbiA9IDA7XHJcbiAgICAgICAgbGV0IGNvbldpbiA9IDA7XHJcbiAgICAgICAgbGV0IGhvYSAgICA9IDA7XHJcbiAgICAgICAgbGV0IGNhaURvaSA9IDA7XHJcbiAgICAgICAgbGV0IGNvbkRvaSA9IDA7XHJcbiAgICAgICAgbGV0IHRvdGFsICA9IHRoaXMuX2RhdGEubGVuZ3RoO1xyXG4gICAgICAgIGxldCBzZWxmICAgPSB0aGlzO1xyXG4gICAgICAgIFByb21pc2UuYWxsKHRoaXMuX2RhdGEubWFwKGZ1bmN0aW9uKHR5cGVDYXUsIGluZGV4KXtcclxuICAgICAgICAgICAgUHJvbWlzZS5hbGwodHlwZUNhdS50eXBlLm1hcChmdW5jdGlvbih0eXBlLCBpbmRleCl7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBOSEFfQ0FJKVxyXG4gICAgICAgICAgICAgICAgICAgIGNhaVdpbisrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gTkhBX0NPTilcclxuICAgICAgICAgICAgICAgICAgICBjb25XaW4rKztcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09IEhPQSlcclxuICAgICAgICAgICAgICAgICAgICBob2ErKztcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09IENBSV9ET0kpXHJcbiAgICAgICAgICAgICAgICAgICAgY2FpRG9pKys7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBDT05fRE9JKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbkRvaSsrO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfSkpLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICAgICAgc2VsZi50aG9uZ0tlLmdldENoaWxkQnlOYW1lKFwibGJfY2FpX3RoYW5nXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gY2FpV2luO1xyXG4gICAgICAgICAgICBzZWxmLnRob25nS2UuZ2V0Q2hpbGRCeU5hbWUoXCJsYl9jb25fdGhhbmdcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBjb25XaW47XHJcbiAgICAgICAgICAgIHNlbGYudGhvbmdLZS5nZXRDaGlsZEJ5TmFtZShcImxiX2hvYVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IGhvYTtcclxuICAgICAgICAgICAgc2VsZi50aG9uZ0tlLmdldENoaWxkQnlOYW1lKFwibGJfY2FpX2RvaVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IGNhaURvaTtcclxuICAgICAgICAgICAgc2VsZi50aG9uZ0tlLmdldENoaWxkQnlOYW1lKFwibGJfY29uX2RvaVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IGNvbkRvaTtcclxuICAgICAgICAgICAgc2VsZi50aG9uZ0tlLmdldENoaWxkQnlOYW1lKFwibGJfdG90YWxcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0b3RhbDtcclxuXHJcbiAgICAgICAgICAgIHNlbGYudGhvbmdLZS5nZXRDaGlsZEJ5TmFtZShcImxiX2NhaV90aGFuZ19wZXJjZW50XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gTWF0aC5yb3VuZChjYWlXaW4vdG90YWwqMTAwKStcIiVcIjtcclxuICAgICAgICAgICAgc2VsZi50aG9uZ0tlLmdldENoaWxkQnlOYW1lKFwibGJfY29uX3RoYW5nX3BlcmNlbnRcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBNYXRoLnJvdW5kKGNvbldpbi90b3RhbCoxMDApK1wiJVwiO1xyXG4gICAgICAgICAgICBzZWxmLnRob25nS2UuZ2V0Q2hpbGRCeU5hbWUoXCJsYl9ob2FfcGVyY2VudFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IE1hdGgucm91bmQoaG9hL3RvdGFsKjEwMCkrXCIlXCI7XHJcbiAgICAgICAgICAgIHNlbGYudGhvbmdLZS5nZXRDaGlsZEJ5TmFtZShcImxiX2NhaV9kb2lfcGVyY2VudFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IE1hdGgucm91bmQoY2FpRG9pL3RvdGFsKjEwMCkrXCIlXCI7XHJcbiAgICAgICAgICAgIHNlbGYudGhvbmdLZS5nZXRDaGlsZEJ5TmFtZShcImxiX2Nvbl9kb2lfcGVyY2VudFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IE1hdGgucm91bmQoY29uRG9pL3RvdGFsKjEwMCkrXCIlXCI7XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBzZXREYXRhU21hbGxSb2FkKCkge1xyXG4gICAgICAgIGxldCAgc2VsZiAgID0gdGhpcztcclxuICAgICAgICBsZXQgdG90YWxCaWcgICAgPSB0aGlzLmxpc3RDYXVOZXcubGVuZ3RoO1xyXG4gICAgICAgIGxldCBzdGFydFBvc0JpZyA9IHRvdGFsQmlnLTEzO1xyXG4gICAgICAgIGlmIChzdGFydFBvc0JpZyA8IDApXHJcbiAgICAgICAgICAgIHN0YXJ0UG9zQmlnID0gMDtcclxuICAgICAgICBQcm9taXNlLmFsbCh0aGlzLnNtYWxsUm9hZC5jaGlsZHJlbi5tYXAoZnVuY3Rpb24obm9kZUJpZywgaW5kZXhCaWcpe1xyXG4gICAgICAgICAgICBpZiAoaW5kZXhCaWcgPCB0b3RhbEJpZyl7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGVCaWcuYWN0aXZlKVxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVCaWcuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGxldCBjb2xDYXVEYXRhID0gc2VsZi5saXN0Q2F1TmV3W2luZGV4QmlnK3N0YXJ0UG9zQmlnXTtcclxuICAgICAgICAgICAgICAgIGxldCB0b3RhbERhdGEgID0gY29sQ2F1RGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChub2RlQmlnLmNoaWxkcmVuLm1hcChmdW5jdGlvbihub2RlQ2F1LCBpbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZUNhdS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCB0b3RhbERhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IHNlbGYuZ2V0VHlwZUNhdShjb2xDYXVEYXRhW2luZGV4XS50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgIT0gSE9BKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0Q2F1U21hbGxJbmZvKGNvbENhdURhdGFbaW5kZXhdLnR5cGUsIG5vZGVDYXUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZUNhdS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBub2RlQmlnLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfSxcclxuICAgIHNldEJpZ0V5ZVJvYWQoKSB7XHJcbiAgICAgICAgbGV0ICBzZWxmICAgPSB0aGlzO1xyXG4gICAgICAgIGxldCB0b3RhbEJpZyAgICA9IHRoaXMubGlzdENhdU5ldy5sZW5ndGg7XHJcbiAgICAgICAgbGV0IHN0YXJ0UG9zQmlnID0gdG90YWxCaWctMTM7XHJcbiAgICAgICAgaWYgKHN0YXJ0UG9zQmlnIDwgMClcclxuICAgICAgICAgICAgc3RhcnRQb3NCaWcgPSAwO1xyXG4gICAgICAgIFByb21pc2UuYWxsKHRoaXMuYmlnRXllUm9hZC5jaGlsZHJlbi5tYXAoZnVuY3Rpb24obm9kZUJpZywgaW5kZXhCaWcpe1xyXG4gICAgICAgICAgICBpZiAoaW5kZXhCaWcgPCB0b3RhbEJpZyl7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGVCaWcuYWN0aXZlKVxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVCaWcuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGxldCBjb2xDYXVEYXRhID0gc2VsZi5saXN0Q2F1TmV3W2luZGV4QmlnK3N0YXJ0UG9zQmlnXTtcclxuICAgICAgICAgICAgICAgIGxldCB0b3RhbERhdGEgID0gY29sQ2F1RGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChub2RlQmlnLmNoaWxkcmVuLm1hcChmdW5jdGlvbihub2RlQ2F1LCBpbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZUNhdS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCB0b3RhbERhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IHNlbGYuZ2V0VHlwZUNhdShjb2xDYXVEYXRhW2luZGV4XS50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgIT0gSE9BKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0Q2F1QmlnRXllKGNvbENhdURhdGFbaW5kZXhdLnR5cGUsIG5vZGVDYXUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZUNhdS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBub2RlQmlnLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfSxcclxuICAgIHNldENvY2tSb2FkKCkge1xyXG4gICAgICAgIGxldCAgc2VsZiAgID0gdGhpcztcclxuICAgICAgICBsZXQgdG90YWxCaWcgICAgPSB0aGlzLmxpc3RDYXVOZXcubGVuZ3RoO1xyXG4gICAgICAgIGxldCBzdGFydFBvc0JpZyA9IHRvdGFsQmlnLTEzO1xyXG4gICAgICAgIGlmIChzdGFydFBvc0JpZyA8IDApXHJcbiAgICAgICAgICAgIHN0YXJ0UG9zQmlnID0gMDtcclxuICAgICAgICBQcm9taXNlLmFsbCh0aGlzLmNvY2tSb2FjaC5jaGlsZHJlbi5tYXAoZnVuY3Rpb24obm9kZUJpZywgaW5kZXhCaWcpe1xyXG4gICAgICAgICAgICBpZiAoaW5kZXhCaWcgPCB0b3RhbEJpZyl7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGVCaWcuYWN0aXZlKVxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVCaWcuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGxldCBjb2xDYXVEYXRhID0gc2VsZi5saXN0Q2F1TmV3W2luZGV4QmlnK3N0YXJ0UG9zQmlnXTtcclxuICAgICAgICAgICAgICAgIGxldCB0b3RhbERhdGEgID0gY29sQ2F1RGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChub2RlQmlnLmNoaWxkcmVuLm1hcChmdW5jdGlvbihub2RlQ2F1LCBpbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZUNhdS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCB0b3RhbERhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IHNlbGYuZ2V0VHlwZUNhdShjb2xDYXVEYXRhW2luZGV4XS50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgIT0gSE9BKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0Q2F1Q29ja0luZm8oY29sQ2F1RGF0YVtpbmRleF0udHlwZSwgbm9kZUNhdSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlQ2F1LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIG5vZGVCaWcuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICB9LFxyXG4gICAgc2V0U2NvcmVSb2FkKCkge1xyXG4gICAgICAgIGxldCAgc2VsZiAgID0gdGhpcztcclxuICAgICAgICBsZXQgdG90YWxCaWcgICAgPSB0aGlzLmxpc3RDYXVOZXcubGVuZ3RoO1xyXG4gICAgICAgIGxldCBzdGFydFBvc0JpZyA9IHRvdGFsQmlnLTEzO1xyXG4gICAgICAgIGlmIChzdGFydFBvc0JpZyA8IDApXHJcbiAgICAgICAgICAgIHN0YXJ0UG9zQmlnID0gMDtcclxuICAgICAgICBQcm9taXNlLmFsbCh0aGlzLnNjb3JlUm9hZC5jaGlsZHJlbi5tYXAoZnVuY3Rpb24obm9kZUJpZywgaW5kZXhCaWcpe1xyXG4gICAgICAgICAgICBpZiAoaW5kZXhCaWcgPCB0b3RhbEJpZyl7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGVCaWcuYWN0aXZlKVxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVCaWcuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGxldCBjb2xDYXVEYXRhID0gc2VsZi5saXN0Q2F1TmV3W2luZGV4QmlnK3N0YXJ0UG9zQmlnXTtcclxuICAgICAgICAgICAgICAgIGxldCB0b3RhbERhdGEgID0gY29sQ2F1RGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChub2RlQmlnLmNoaWxkcmVuLm1hcChmdW5jdGlvbihub2RlQ2F1LCBpbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZUNhdS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCB0b3RhbERhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNldFNjb3JlSW5mbyhjb2xDYXVEYXRhW2luZGV4XSwgbm9kZUNhdSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVDYXUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIG5vZGVCaWcuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICB9LFxyXG4gICAgZXZlbnRCYWNrUGFnZSgpIHtcclxuICAgICAgICBtbS5hdWRpby5wbGF5QnV0dG9uKCk7XHJcbiAgICAgICAgdGhpcy5zZXREYXRhRm9yUGFnZTIoKTtcclxuICAgICAgICB0aGlzLmFsbFBhZ2Uuc2Nyb2xsVG9QYWdlKCh0aGlzLmFsbFBhZ2UuZ2V0Q3VycmVudFBhZ2VJbmRleCgpKzEpJTIpO1xyXG4gICAgfSxcclxuICAgIGV2ZW50TmV4dFBhZ2UoKXtcclxuICAgICAgICBtbS5hdWRpby5wbGF5QnV0dG9uKCk7XHJcbiAgICAgICAgdGhpcy5zZXREYXRhRm9yUGFnZTIoKTtcclxuICAgICAgICB0aGlzLmFsbFBhZ2Uuc2Nyb2xsVG9QYWdlKCh0aGlzLmFsbFBhZ2UuZ2V0Q3VycmVudFBhZ2VJbmRleCgpKzEpJTIpO1xyXG4gICAgfSxcclxuICAgIHNldERhdGFGb3JQYWdlMigpIHtcclxuICAgICAgICBpZiAodGhpcy5faXNGaXJzdCl7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGF0YVNtYWxsUm9hZCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNldENvY2tSb2FkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QmlnRXllUm9hZCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFNjb3JlUm9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pc0ZpcnN0ID0gZmFsc2U7XHJcbiAgICB9LFxyXG4gICAgcmVmb3JtYXREYXRhQ2F1KGxpc3RDYXUpIHtcclxuICAgICAgICB0aGlzLmxpc3RDYXVOZXc9IFtdO1xyXG4gICAgICAgIGxldCByb3dDYXUgICAgID0gW107XHJcbiAgICAgICAgbGV0IGxhc3RUeXBlICAgPSAtMTtcclxuICAgICAgICBmb3IgKGxldCBpPTA7IGk8IGxpc3RDYXUubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBsZXQgdHlwZUNhdSA9IGxpc3RDYXVbaV07XHJcbiAgICAgICAgICAgIGxldCB0eXBlICAgID0gdGhpcy5nZXRUeXBlQ2F1KHR5cGVDYXUudHlwZSk7XHJcbiAgICAgICAgICAgIGlmIChsYXN0VHlwZSA8IDApe1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgIT0gSE9BKXtcclxuICAgICAgICAgICAgICAgICAgICByb3dDYXUucHVzaCh0eXBlQ2F1KTtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0VHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09IEhPQSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93Q2F1LnB1c2godHlwZUNhdSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gbGFzdFR5cGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dDYXUucHVzaCh0eXBlQ2F1KTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dDYXUubGVuZ3RoIDw9IHRoaXMuTWF4Um93KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdENhdU5ldy5wdXNoKHJvd0NhdSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXhDYXQgPSBNYXRoLmNlaWwocm93Q2F1Lmxlbmd0aCAvIHRoaXMuTWF4Um93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGo9MDsgajwgbWF4Q2F0IDsgaisrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RDYXVOZXcucHVzaChyb3dDYXUuc2xpY2Uoaiwgait0aGlzLk1heFJvdykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd0NhdSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dDYXUucHVzaCh0eXBlQ2F1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFR5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocm93Q2F1Lmxlbmd0aCA8PSB0aGlzLk1heFJvdyl7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdENhdU5ldy5wdXNoKHJvd0NhdSk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgbWF4Q2F0ID0gTWF0aC5jZWlsKHJvd0NhdS5sZW5ndGggLyB0aGlzLk1heFJvdyk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGo9MDsgajwgbWF4Q2F0IDsgaisrKXtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdENhdU5ldy5wdXNoKHJvd0NhdS5zbGljZShqLCBqK3RoaXMuTWF4Um93KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZ2V0VHlwZUNhdSh0eXBlQ2F1KSB7XHJcbiAgICAgICAgaWYgKHR5cGVDYXUubGVuZ3RoIDwyKVxyXG4gICAgICAgICAgICByZXR1cm4gdHlwZUNhdVswXTtcclxuICAgICAgICBmb3IgKGxldCBpPTA7IGk8dHlwZUNhdS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmICh0eXBlQ2F1W2ldIDwgMylcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlQ2F1W2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gSE9BO1xyXG4gICAgfSxcclxuICAgIHNldENhdUluZm8odHlwZSwgbm9kZUNhdSkge1xyXG4gICAgICAgIGxldCBjYWkgPSBub2RlQ2F1LmdldENoaWxkQnlOYW1lKFwiY2FpXCIpO1xyXG4gICAgICAgIGxldCBjb24gPSBub2RlQ2F1LmdldENoaWxkQnlOYW1lKFwiY29uXCIpO1xyXG4gICAgICAgIGNhaS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBjb24uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPCB0eXBlLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgaWYgKHR5cGVbaV0gPiAyKXtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09IDMpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhaS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBub2RlQ2F1LmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5iZ0Rpc2hCb2FyZFt0eXBlW2ldXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzZXRDYXVTbWFsbEluZm8odHlwZSwgbm9kZUNhdSkge1xyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTwgdHlwZS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmICh0eXBlW2ldIDwgMil7XHJcbiAgICAgICAgICAgICAgICBub2RlQ2F1LmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5iZ0Rpc2hCb2FyZFt0eXBlW2ldXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzZXRDYXVCaWdJbmZvKHR5cGUsIG5vZGVDYXUpIHtcclxuICAgICAgICBsZXQgY2FpID0gbm9kZUNhdS5nZXRDaGlsZEJ5TmFtZShcImNhaVwiKTtcclxuICAgICAgICBsZXQgY29uID0gbm9kZUNhdS5nZXRDaGlsZEJ5TmFtZShcImNvblwiKTtcclxuICAgICAgICBjYWkuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgY29uLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTwgdHlwZS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmICh0eXBlW2ldID4gMil7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAzKXtcclxuICAgICAgICAgICAgICAgICAgICBjb24uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWkuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVbaV0gPT0gMil7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZVtpXSA9IHRoaXMuX2xhc3RUeXBlICsyO1xyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlW2ldIDwgMilcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdFR5cGUgPT0gdHlwZVtpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5vZGVDYXUuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLmJnQmlnUm9hZFt0eXBlW2ldXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzZXRDYXVCaWdFeWUodHlwZSwgbm9kZUNhdSkge1xyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTwgdHlwZS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmICh0eXBlW2ldIDwgMil7XHJcbiAgICAgICAgICAgICAgICBub2RlQ2F1LmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5iZ0JpZ1JvYWRbdHlwZVtpXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2V0Q2F1Q29ja0luZm8odHlwZSwgbm9kZUNhdSkge1xyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTwgdHlwZS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmICh0eXBlW2ldIDwgMil7XHJcbiAgICAgICAgICAgICAgICBub2RlQ2F1LmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5iZ0NvY2tSb2FkW3R5cGVbaV1dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldFNjb3JlSW5mbyhjYXVJbmZvLCBub2RlQ2F1KXtcclxuICAgICAgICBsZXQgdHlwZSA9IGNhdUluZm8udHlwZTtcclxuICAgICAgICBmb3IgKGxldCBpPTA7IGk8IHR5cGUubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZiAodHlwZVtpXSA8IDMpe1xyXG4gICAgICAgICAgICAgICAgbm9kZUNhdS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSAgID0gdGhpcy5iZ1Njb3JlUm9hZFt0eXBlW2ldXTtcclxuICAgICAgICAgICAgICAgIG5vZGVDYXUuZ2V0Q2hpbGRCeU5hbWUoXCJsYl93aW5cIikuY29sb3IgID0gdGhpcy5saXN0Q29sb3JbdHlwZVtpXV07XHJcbiAgICAgICAgICAgICAgICBub2RlQ2F1LmdldENoaWxkQnlOYW1lKFwibGJfd2luXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nICA9IGNhdUluZm8uY29uO1xyXG4gICAgICAgICAgICAgICAgbm9kZUNhdS5nZXRDaGlsZEJ5TmFtZShcImxiX2xvc2VcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBjYXVJbmZvLmNhaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0pO1xyXG4iXX0=