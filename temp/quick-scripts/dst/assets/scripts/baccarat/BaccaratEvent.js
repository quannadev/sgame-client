
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/baccarat/BaccaratEvent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5f7d0LDMzJAdqB0UqBHz68U', 'BaccaratEvent');
// scripts/baccarat/BaccaratEvent.js

"use strict";

var BaccaratEvent = {};
BaccaratEvent.RESPONSE_NAME = {
  LOAD_GAME_RES: "b1",
  BET_RES: "b2",
  END_BETTING: "b3",
  HISTORY_RESULT: "b4",
  HISTORY_DETAIL: "b5"
};
BaccaratEvent.LoadGameEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(BaccaratEvent.RESPONSE_NAME.LOAD_GAME_RES);
  },
  fromEvent: function fromEvent(event) {
    this.isBetting = event.getBool("b");
    this.time = event.getInt("t");
    this.listChipPot = event.getDoubleArray("lcp");
    this.listMyChipPot = event.getDoubleArray("lmcp");
    this.cardPlayer = event.getByteArray("cp");
    this.cardBanker = event.getByteArray("cb");
    this.usersOnboard = event.getUtfStringArray("lu");

    if (!this.isBetting) {
      this.winpot = event.getByteArray("wp");
      this.chipUserOnBoard = event.getDoubleArray("lc");
    }

    var resultArray = event.getSArray("h");
    this.allCau = [];

    for (var i = 0; i < resultArray.size(); i++) {
      var sItem = resultArray.get(i).getObject();
      var type = sItem.getByteArray("rs");
      this.allCau.push({
        "cai": sItem.getByte("pb"),
        "con": sItem.getByte("pp"),
        "type": sItem.getByteArray("rs")
      });
    }

    return this;
  }
});
BaccaratEvent.BetEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(BaccaratEvent.RESPONSE_NAME.BET_RES);
  },
  fromEvent: function fromEvent(event) {
    this.userName = event.getUtfString("un");
    this.betChip = event.getDouble("c");
    this.typePot = event.getByte("t");
    return this;
  }
});
BaccaratEvent.EndBetting = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(BaccaratEvent.RESPONSE_NAME.END_BETTING);
  },
  fromEvent: function fromEvent(event) {
    this.cardPlayer = event.getByteArray("cp");
    this.cardBanker = event.getByteArray("cb");
    this.winpot = event.getByteArray("wp");
    this.chipUserOnBoard = event.getDoubleArray("lc");
    this.usersOnboard = event.getUtfStringArray("lu");
    return this;
  }
});
BaccaratEvent.HistoryResponse = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(BaccaratEvent.RESPONSE_NAME.HISTORY_RESULT);
  },
  fromEvent: function fromEvent(event) {
    this.result = event.getByteArray("lr");
    return this;
  }
});
BaccaratEvent.HistoryDetailEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(BaccaratEvent.RESPONSE_NAME.HISTORY_DETAIL);
  },
  fromEvent: function fromEvent(event) {
    var resultArray = event.getSArray("d");
    this.allCau = [];
    this.allScore = [];

    for (var i = 0; i < resultArray.size(); i++) {
      var sItem = resultArray.get(i).getObject();
      this.allCau.push({
        "cai": sItem.getByte("pb"),
        "con": sItem.getByte("pp"),
        "type": sItem.getByteArray("rs")
      });
    }

    return this.allCau;
  }
});
BaccaratEvent.HistoryEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(CasinoEvent.RESPONSE_NAME.HISTORY_RES);

    this.items = [];
  },
  fromEvent: function fromEvent(event) {
    var data = event.getSArray("d");

    for (var i = 0; i < data.size(); i++) {
      var sItem = data.get(i).getObject();
      var item = {};
      item.session = sItem.getDouble("id").toFixed(0);
      item.time = sItem.getUtfString("t");
      item.bet = sItem.getDoubleArray("b");
      item.win = sItem.getDoubleArray("w");
      item.bankerIds = sItem.getIntArray("cb");
      item.playerIds = sItem.getIntArray("cp");
      item.bankerPoint = sItem.getInt("pb");
      item.playerPoint = sItem.getInt("pp");
      this.items.push(item);
    }

    return this.items;
  }
});
BaccaratEvent.LeaderBoardEvent = CasinoEvent._BaseEvent.extend({
  ctor: function ctor() {
    this._super(CasinoEvent.RESPONSE_NAME.LEADERBOARD_RES);

    this.items = [];
  },
  fromEvent: function fromEvent(event) {
    var data = event.getSArray("d");

    for (var i = 0; i < data.size(); i++) {
      var sItem = data.get(i).getObject();
      var item = {};
      item.session = i;
      item.account = sItem.getUtfString("dn");
      item.win = sItem.getDouble("m");
      this.items.push(item);
    }

    return this.items;
  }
});
window.BaccaratEvent = module.exports = BaccaratEvent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHRzL2JhY2NhcmF0L0JhY2NhcmF0RXZlbnQuanMiXSwibmFtZXMiOlsiQmFjY2FyYXRFdmVudCIsIlJFU1BPTlNFX05BTUUiLCJMT0FEX0dBTUVfUkVTIiwiQkVUX1JFUyIsIkVORF9CRVRUSU5HIiwiSElTVE9SWV9SRVNVTFQiLCJISVNUT1JZX0RFVEFJTCIsIkxvYWRHYW1lRXZlbnQiLCJDYXNpbm9FdmVudCIsIl9CYXNlRXZlbnQiLCJleHRlbmQiLCJjdG9yIiwiX3N1cGVyIiwiZnJvbUV2ZW50IiwiZXZlbnQiLCJpc0JldHRpbmciLCJnZXRCb29sIiwidGltZSIsImdldEludCIsImxpc3RDaGlwUG90IiwiZ2V0RG91YmxlQXJyYXkiLCJsaXN0TXlDaGlwUG90IiwiY2FyZFBsYXllciIsImdldEJ5dGVBcnJheSIsImNhcmRCYW5rZXIiLCJ1c2Vyc09uYm9hcmQiLCJnZXRVdGZTdHJpbmdBcnJheSIsIndpbnBvdCIsImNoaXBVc2VyT25Cb2FyZCIsInJlc3VsdEFycmF5IiwiZ2V0U0FycmF5IiwiYWxsQ2F1IiwiaSIsInNpemUiLCJzSXRlbSIsImdldCIsImdldE9iamVjdCIsInR5cGUiLCJwdXNoIiwiZ2V0Qnl0ZSIsIkJldEV2ZW50IiwidXNlck5hbWUiLCJnZXRVdGZTdHJpbmciLCJiZXRDaGlwIiwiZ2V0RG91YmxlIiwidHlwZVBvdCIsIkVuZEJldHRpbmciLCJIaXN0b3J5UmVzcG9uc2UiLCJyZXN1bHQiLCJIaXN0b3J5RGV0YWlsRXZlbnQiLCJhbGxTY29yZSIsIkhpc3RvcnlFdmVudCIsIkhJU1RPUllfUkVTIiwiaXRlbXMiLCJkYXRhIiwiaXRlbSIsInNlc3Npb24iLCJ0b0ZpeGVkIiwiYmV0Iiwid2luIiwiYmFua2VySWRzIiwiZ2V0SW50QXJyYXkiLCJwbGF5ZXJJZHMiLCJiYW5rZXJQb2ludCIsInBsYXllclBvaW50IiwiTGVhZGVyQm9hcmRFdmVudCIsIkxFQURFUkJPQVJEX1JFUyIsImFjY291bnQiLCJ3aW5kb3ci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Q29udGVudCI6WyJsZXQgQmFjY2FyYXRFdmVudCA9IHt9O1xuQmFjY2FyYXRFdmVudC5SRVNQT05TRV9OQU1FID0ge1xuICAgIExPQURfR0FNRV9SRVM6IFwiYjFcIixcbiAgICBCRVRfUkVTOiBcImIyXCIsXG4gICAgRU5EX0JFVFRJTkc6IFwiYjNcIixcbiAgICBISVNUT1JZX1JFU1VMVDogXCJiNFwiLFxuICAgIEhJU1RPUllfREVUQUlMOiBcImI1XCIsXG59O1xuQmFjY2FyYXRFdmVudC5Mb2FkR2FtZUV2ZW50ID0gQ2FzaW5vRXZlbnQuX0Jhc2VFdmVudC5leHRlbmQoe1xuICAgIGN0b3IoKXtcbiAgICAgICAgdGhpcy5fc3VwZXIoQmFjY2FyYXRFdmVudC5SRVNQT05TRV9OQU1FLkxPQURfR0FNRV9SRVMpO1xuICAgIH0sXG4gICAgZnJvbUV2ZW50KGV2ZW50KXtcbiAgICAgICAgdGhpcy5pc0JldHRpbmcgICAgICA9IGV2ZW50LmdldEJvb2woXCJiXCIpO1xuICAgICAgICB0aGlzLnRpbWUgICAgICAgICAgID0gZXZlbnQuZ2V0SW50KFwidFwiKTtcbiAgICAgICAgdGhpcy5saXN0Q2hpcFBvdCAgICA9IGV2ZW50LmdldERvdWJsZUFycmF5KFwibGNwXCIpO1xuICAgICAgICB0aGlzLmxpc3RNeUNoaXBQb3QgID0gZXZlbnQuZ2V0RG91YmxlQXJyYXkoXCJsbWNwXCIpO1xuICAgICAgICB0aGlzLmNhcmRQbGF5ZXIgICAgID0gZXZlbnQuZ2V0Qnl0ZUFycmF5KFwiY3BcIik7XG4gICAgICAgIHRoaXMuY2FyZEJhbmtlciAgICAgPSBldmVudC5nZXRCeXRlQXJyYXkoXCJjYlwiKTtcbiAgICAgICAgdGhpcy51c2Vyc09uYm9hcmQgICA9IGV2ZW50LmdldFV0ZlN0cmluZ0FycmF5KFwibHVcIik7XG4gICAgICAgIGlmKCF0aGlzLmlzQmV0dGluZyl7XG4gICAgICAgICAgICB0aGlzLndpbnBvdCA9IGV2ZW50LmdldEJ5dGVBcnJheShcIndwXCIpO1xuICAgICAgICAgICAgdGhpcy5jaGlwVXNlck9uQm9hcmQgID0gZXZlbnQuZ2V0RG91YmxlQXJyYXkoXCJsY1wiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0QXJyYXkgPSBldmVudC5nZXRTQXJyYXkoXCJoXCIpO1xuICAgICAgICB0aGlzLmFsbENhdSA9IFtdO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcmVzdWx0QXJyYXkuc2l6ZSgpOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzSXRlbSA9IHJlc3VsdEFycmF5LmdldChpKS5nZXRPYmplY3QoKTtcbiAgICAgICAgICAgIGxldCB0eXBlICA9IHNJdGVtLmdldEJ5dGVBcnJheShcInJzXCIpO1xuICAgICAgICAgICAgdGhpcy5hbGxDYXUucHVzaCh7XG4gICAgICAgICAgICAgICAgXCJjYWlcIjogc0l0ZW0uZ2V0Qnl0ZShcInBiXCIpLFxuICAgICAgICAgICAgICAgIFwiY29uXCI6IHNJdGVtLmdldEJ5dGUoXCJwcFwiKSxcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogc0l0ZW0uZ2V0Qnl0ZUFycmF5KFwicnNcIilcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufSlcbkJhY2NhcmF0RXZlbnQuQmV0RXZlbnQgPSBDYXNpbm9FdmVudC5fQmFzZUV2ZW50LmV4dGVuZCh7XG4gICAgY3Rvcigpe1xuICAgICAgICB0aGlzLl9zdXBlcihCYWNjYXJhdEV2ZW50LlJFU1BPTlNFX05BTUUuQkVUX1JFUyk7XG4gICAgfSxcbiAgICBmcm9tRXZlbnQoZXZlbnQpe1xuICAgICAgICB0aGlzLnVzZXJOYW1lID0gZXZlbnQuZ2V0VXRmU3RyaW5nKFwidW5cIik7XG4gICAgICAgIHRoaXMuYmV0Q2hpcCA9IGV2ZW50LmdldERvdWJsZShcImNcIik7XG4gICAgICAgIHRoaXMudHlwZVBvdCA9IGV2ZW50LmdldEJ5dGUoXCJ0XCIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59KTtcbkJhY2NhcmF0RXZlbnQuRW5kQmV0dGluZyA9IENhc2lub0V2ZW50Ll9CYXNlRXZlbnQuZXh0ZW5kKHtcbiAgICBjdG9yKCl7XG4gICAgICAgIHRoaXMuX3N1cGVyKEJhY2NhcmF0RXZlbnQuUkVTUE9OU0VfTkFNRS5FTkRfQkVUVElORyk7XG4gICAgfSxcbiAgICBmcm9tRXZlbnQoZXZlbnQpe1xuICAgICAgICB0aGlzLmNhcmRQbGF5ZXIgPSBldmVudC5nZXRCeXRlQXJyYXkoXCJjcFwiKTtcbiAgICAgICAgdGhpcy5jYXJkQmFua2VyID0gZXZlbnQuZ2V0Qnl0ZUFycmF5KFwiY2JcIik7XG4gICAgICAgIHRoaXMud2lucG90ICAgICA9IGV2ZW50LmdldEJ5dGVBcnJheShcIndwXCIpO1xuICAgICAgICB0aGlzLmNoaXBVc2VyT25Cb2FyZCAgPSBldmVudC5nZXREb3VibGVBcnJheShcImxjXCIpO1xuICAgICAgICB0aGlzLnVzZXJzT25ib2FyZCAgICAgPSBldmVudC5nZXRVdGZTdHJpbmdBcnJheShcImx1XCIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59KTtcbkJhY2NhcmF0RXZlbnQuSGlzdG9yeVJlc3BvbnNlID0gQ2FzaW5vRXZlbnQuX0Jhc2VFdmVudC5leHRlbmQoe1xuICAgIGN0b3IoKXtcbiAgICAgICAgdGhpcy5fc3VwZXIoQmFjY2FyYXRFdmVudC5SRVNQT05TRV9OQU1FLkhJU1RPUllfUkVTVUxUKTtcbiAgICB9LFxuICAgIGZyb21FdmVudChldmVudCl7XG4gICAgICAgIHRoaXMucmVzdWx0ID0gZXZlbnQuZ2V0Qnl0ZUFycmF5KFwibHJcIik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn0pO1xuQmFjY2FyYXRFdmVudC5IaXN0b3J5RGV0YWlsRXZlbnQ9IENhc2lub0V2ZW50Ll9CYXNlRXZlbnQuZXh0ZW5kKHtcbiAgICBjdG9yKCl7XG4gICAgICAgIHRoaXMuX3N1cGVyKEJhY2NhcmF0RXZlbnQuUkVTUE9OU0VfTkFNRS5ISVNUT1JZX0RFVEFJTCk7XG4gICAgfSxcbiAgICBmcm9tRXZlbnQoZXZlbnQpe1xuICAgICAgICBsZXQgcmVzdWx0QXJyYXkgPSBldmVudC5nZXRTQXJyYXkoXCJkXCIpO1xuICAgICAgICB0aGlzLmFsbENhdSAgID0gW107XG4gICAgICAgIHRoaXMuYWxsU2NvcmUgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHJlc3VsdEFycmF5LnNpemUoKTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc0l0ZW0gPSByZXN1bHRBcnJheS5nZXQoaSkuZ2V0T2JqZWN0KCk7XG4gICAgICAgICAgICB0aGlzLmFsbENhdS5wdXNoKHtcbiAgICAgICAgICAgICAgICBcImNhaVwiOiBzSXRlbS5nZXRCeXRlKFwicGJcIiksXG4gICAgICAgICAgICAgICAgXCJjb25cIjogc0l0ZW0uZ2V0Qnl0ZShcInBwXCIpLFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBzSXRlbS5nZXRCeXRlQXJyYXkoXCJyc1wiKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5hbGxDYXU7XG4gICAgfVxufSk7XG5CYWNjYXJhdEV2ZW50Lkhpc3RvcnlFdmVudCA9IENhc2lub0V2ZW50Ll9CYXNlRXZlbnQuZXh0ZW5kKHtcbiAgICBjdG9yKCkge1xuICAgICAgICB0aGlzLl9zdXBlcihDYXNpbm9FdmVudC5SRVNQT05TRV9OQU1FLkhJU1RPUllfUkVTKTtcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIH0sXG4gICAgZnJvbUV2ZW50KGV2ZW50KXtcbiAgICAgICAgbGV0IGRhdGEgPSBldmVudC5nZXRTQXJyYXkoXCJkXCIpO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZGF0YS5zaXplKCk7IGkrKyl7XG4gICAgICAgICAgICBsZXQgc0l0ZW0gICA9IGRhdGEuZ2V0KGkpLmdldE9iamVjdCgpO1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSB7fTtcbiAgICAgICAgICAgIGl0ZW0uc2Vzc2lvbiAgICAgPSBzSXRlbS5nZXREb3VibGUoXCJpZFwiKS50b0ZpeGVkKDApO1xuICAgICAgICAgICAgaXRlbS50aW1lICAgICAgICA9IHNJdGVtLmdldFV0ZlN0cmluZyhcInRcIik7XG4gICAgICAgICAgICBpdGVtLmJldCAgICAgICAgID0gc0l0ZW0uZ2V0RG91YmxlQXJyYXkoXCJiXCIpO1xuICAgICAgICAgICAgaXRlbS53aW4gICAgICAgICA9IHNJdGVtLmdldERvdWJsZUFycmF5KFwid1wiKTtcbiAgICAgICAgICAgIGl0ZW0uYmFua2VySWRzICAgPSBzSXRlbS5nZXRJbnRBcnJheShcImNiXCIpO1xuICAgICAgICAgICAgaXRlbS5wbGF5ZXJJZHMgICA9IHNJdGVtLmdldEludEFycmF5KFwiY3BcIik7XG4gICAgICAgICAgICBpdGVtLmJhbmtlclBvaW50ID0gc0l0ZW0uZ2V0SW50KFwicGJcIik7XG4gICAgICAgICAgICBpdGVtLnBsYXllclBvaW50ID0gc0l0ZW0uZ2V0SW50KFwicHBcIik7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXM7XG4gICAgfVxufSk7XG5CYWNjYXJhdEV2ZW50LkxlYWRlckJvYXJkRXZlbnQgPSBDYXNpbm9FdmVudC5fQmFzZUV2ZW50LmV4dGVuZCh7XG4gICAgY3RvcigpIHtcbiAgICAgICAgdGhpcy5fc3VwZXIoQ2FzaW5vRXZlbnQuUkVTUE9OU0VfTkFNRS5MRUFERVJCT0FSRF9SRVMpO1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgfSxcbiAgICBmcm9tRXZlbnQoZXZlbnQpe1xuICAgICAgICBsZXQgZGF0YSA9IGV2ZW50LmdldFNBcnJheShcImRcIik7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7aSA8IGRhdGEuc2l6ZSgpO2krKyl7XG4gICAgICAgICAgICBsZXQgc0l0ZW0gPSBkYXRhLmdldChpKS5nZXRPYmplY3QoKTtcbiAgICAgICAgICAgIGxldCBpdGVtID0ge307XG4gICAgICAgICAgICBpdGVtLnNlc3Npb24gPSBpO1xuICAgICAgICAgICAgaXRlbS5hY2NvdW50ID0gc0l0ZW0uZ2V0VXRmU3RyaW5nKFwiZG5cIik7XG4gICAgICAgICAgICBpdGVtLndpbiA9IHNJdGVtLmdldERvdWJsZShcIm1cIik7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXM7XG4gICAgfVxufSk7XG53aW5kb3cuQmFjY2FyYXRFdmVudCA9IG1vZHVsZS5leHBvcnRzID0gQmFjY2FyYXRFdmVudDtcbiJdfQ==